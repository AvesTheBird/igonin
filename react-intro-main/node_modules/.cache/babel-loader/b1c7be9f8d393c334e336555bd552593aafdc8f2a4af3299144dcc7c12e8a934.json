{"ast":null,"code":"var _SmartSelectController;\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nvar SmartSelectController_1;\nimport * as arrays from '../../../../base/common/arrays.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { BracketSelectionRangeProvider } from './bracketSelections.js';\nimport { WordSelectionRangeProvider } from './wordSelections.js';\nimport * as nls from '../../../../nls.js';\nimport { MenuId } from '../../../../platform/actions/common/actions.js';\nimport { CommandsRegistry } from '../../../../platform/commands/common/commands.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { ITextModelService } from '../../../common/services/resolverService.js';\nimport { assertType } from '../../../../base/common/types.js';\nimport { URI } from '../../../../base/common/uri.js';\nclass SelectionRanges {\n  constructor(index, ranges) {\n    this.index = index;\n    this.ranges = ranges;\n  }\n  mov(fwd) {\n    const index = this.index + (fwd ? 1 : -1);\n    if (index < 0 || index >= this.ranges.length) {\n      return this;\n    }\n    const res = new SelectionRanges(index, this.ranges);\n    if (res.ranges[index].equalsRange(this.ranges[this.index])) {\n      // next range equals this range, retry with next-next\n      return res.mov(fwd);\n    }\n    return res;\n  }\n}\nlet SmartSelectController = (_SmartSelectController = class SmartSelectController {\n  static get(editor) {\n    return editor.getContribution(SmartSelectController_1.ID);\n  }\n  constructor(_editor, _languageFeaturesService) {\n    this._editor = _editor;\n    this._languageFeaturesService = _languageFeaturesService;\n    this._ignoreSelection = false;\n  }\n  dispose() {\n    var _this$_selectionListe;\n    (_this$_selectionListe = this._selectionListener) === null || _this$_selectionListe === void 0 || _this$_selectionListe.dispose();\n  }\n  async run(forward) {\n    if (!this._editor.hasModel()) {\n      return;\n    }\n    const selections = this._editor.getSelections();\n    const model = this._editor.getModel();\n    if (!this._state) {\n      await provideSelectionRanges(this._languageFeaturesService.selectionRangeProvider, model, selections.map(s => s.getPosition()), this._editor.getOption(114 /* EditorOption.smartSelect */), CancellationToken.None).then(ranges => {\n        var _this$_selectionListe2;\n        if (!arrays.isNonEmptyArray(ranges) || ranges.length !== selections.length) {\n          // invalid result\n          return;\n        }\n        if (!this._editor.hasModel() || !arrays.equals(this._editor.getSelections(), selections, (a, b) => a.equalsSelection(b))) {\n          // invalid editor state\n          return;\n        }\n        for (let i = 0; i < ranges.length; i++) {\n          ranges[i] = ranges[i].filter(range => {\n            // filter ranges inside the selection\n            return range.containsPosition(selections[i].getStartPosition()) && range.containsPosition(selections[i].getEndPosition());\n          });\n          // prepend current selection\n          ranges[i].unshift(selections[i]);\n        }\n        this._state = ranges.map(ranges => new SelectionRanges(0, ranges));\n        // listen to caret move and forget about state\n        (_this$_selectionListe2 = this._selectionListener) === null || _this$_selectionListe2 === void 0 || _this$_selectionListe2.dispose();\n        this._selectionListener = this._editor.onDidChangeCursorPosition(() => {\n          if (!this._ignoreSelection) {\n            var _this$_selectionListe3;\n            (_this$_selectionListe3 = this._selectionListener) === null || _this$_selectionListe3 === void 0 || _this$_selectionListe3.dispose();\n            this._state = undefined;\n          }\n        });\n      });\n    }\n    if (!this._state) {\n      // no state\n      return;\n    }\n    this._state = this._state.map(state => state.mov(forward));\n    const newSelections = this._state.map(state => Selection.fromPositions(state.ranges[state.index].getStartPosition(), state.ranges[state.index].getEndPosition()));\n    this._ignoreSelection = true;\n    try {\n      this._editor.setSelections(newSelections);\n    } finally {\n      this._ignoreSelection = false;\n    }\n  }\n}, SmartSelectController_1 = _SmartSelectController, _SmartSelectController.ID = 'editor.contrib.smartSelectController', _SmartSelectController);\nSmartSelectController = SmartSelectController_1 = __decorate([__param(1, ILanguageFeaturesService)], SmartSelectController);\nexport { SmartSelectController };\nclass AbstractSmartSelect extends EditorAction {\n  constructor(forward, opts) {\n    super(opts);\n    this._forward = forward;\n  }\n  async run(_accessor, editor) {\n    const controller = SmartSelectController.get(editor);\n    if (controller) {\n      await controller.run(this._forward);\n    }\n  }\n}\nclass GrowSelectionAction extends AbstractSmartSelect {\n  constructor() {\n    super(true, {\n      id: 'editor.action.smartSelect.expand',\n      label: nls.localize('smartSelect.expand', \"Expand Selection\"),\n      alias: 'Expand Selection',\n      precondition: undefined,\n      kbOpts: {\n        kbExpr: EditorContextKeys.editorTextFocus,\n        primary: 1024 /* KeyMod.Shift */ | 512 /* KeyMod.Alt */ | 17 /* KeyCode.RightArrow */,\n        mac: {\n          primary: 2048 /* KeyMod.CtrlCmd */ | 256 /* KeyMod.WinCtrl */ | 1024 /* KeyMod.Shift */ | 17 /* KeyCode.RightArrow */,\n          secondary: [256 /* KeyMod.WinCtrl */ | 1024 /* KeyMod.Shift */ | 17 /* KeyCode.RightArrow */]\n        },\n        weight: 100 /* KeybindingWeight.EditorContrib */\n      },\n      menuOpts: {\n        menuId: MenuId.MenubarSelectionMenu,\n        group: '1_basic',\n        title: nls.localize({\n          key: 'miSmartSelectGrow',\n          comment: ['&& denotes a mnemonic']\n        }, \"&&Expand Selection\"),\n        order: 2\n      }\n    });\n  }\n}\n// renamed command id\nCommandsRegistry.registerCommandAlias('editor.action.smartSelect.grow', 'editor.action.smartSelect.expand');\nclass ShrinkSelectionAction extends AbstractSmartSelect {\n  constructor() {\n    super(false, {\n      id: 'editor.action.smartSelect.shrink',\n      label: nls.localize('smartSelect.shrink', \"Shrink Selection\"),\n      alias: 'Shrink Selection',\n      precondition: undefined,\n      kbOpts: {\n        kbExpr: EditorContextKeys.editorTextFocus,\n        primary: 1024 /* KeyMod.Shift */ | 512 /* KeyMod.Alt */ | 15 /* KeyCode.LeftArrow */,\n        mac: {\n          primary: 2048 /* KeyMod.CtrlCmd */ | 256 /* KeyMod.WinCtrl */ | 1024 /* KeyMod.Shift */ | 15 /* KeyCode.LeftArrow */,\n          secondary: [256 /* KeyMod.WinCtrl */ | 1024 /* KeyMod.Shift */ | 15 /* KeyCode.LeftArrow */]\n        },\n        weight: 100 /* KeybindingWeight.EditorContrib */\n      },\n      menuOpts: {\n        menuId: MenuId.MenubarSelectionMenu,\n        group: '1_basic',\n        title: nls.localize({\n          key: 'miSmartSelectShrink',\n          comment: ['&& denotes a mnemonic']\n        }, \"&&Shrink Selection\"),\n        order: 3\n      }\n    });\n  }\n}\nregisterEditorContribution(SmartSelectController.ID, SmartSelectController, 4 /* EditorContributionInstantiation.Lazy */);\nregisterEditorAction(GrowSelectionAction);\nregisterEditorAction(ShrinkSelectionAction);\nexport async function provideSelectionRanges(registry, model, positions, options, token) {\n  const providers = registry.all(model).concat(new WordSelectionRangeProvider(options.selectSubwords)); // ALWAYS have word based selection range\n  if (providers.length === 1) {\n    // add word selection and bracket selection when no provider exists\n    providers.unshift(new BracketSelectionRangeProvider());\n  }\n  const work = [];\n  const allRawRanges = [];\n  for (const provider of providers) {\n    work.push(Promise.resolve(provider.provideSelectionRanges(model, positions, token)).then(allProviderRanges => {\n      if (arrays.isNonEmptyArray(allProviderRanges) && allProviderRanges.length === positions.length) {\n        for (let i = 0; i < positions.length; i++) {\n          if (!allRawRanges[i]) {\n            allRawRanges[i] = [];\n          }\n          for (const oneProviderRanges of allProviderRanges[i]) {\n            if (Range.isIRange(oneProviderRanges.range) && Range.containsPosition(oneProviderRanges.range, positions[i])) {\n              allRawRanges[i].push(Range.lift(oneProviderRanges.range));\n            }\n          }\n        }\n      }\n    }, onUnexpectedExternalError));\n  }\n  await Promise.all(work);\n  return allRawRanges.map(oneRawRanges => {\n    if (oneRawRanges.length === 0) {\n      return [];\n    }\n    // sort all by start/end position\n    oneRawRanges.sort((a, b) => {\n      if (Position.isBefore(a.getStartPosition(), b.getStartPosition())) {\n        return 1;\n      } else if (Position.isBefore(b.getStartPosition(), a.getStartPosition())) {\n        return -1;\n      } else if (Position.isBefore(a.getEndPosition(), b.getEndPosition())) {\n        return -1;\n      } else if (Position.isBefore(b.getEndPosition(), a.getEndPosition())) {\n        return 1;\n      } else {\n        return 0;\n      }\n    });\n    // remove ranges that don't contain the former range or that are equal to the\n    // former range\n    const oneRanges = [];\n    let last;\n    for (const range of oneRawRanges) {\n      if (!last || Range.containsRange(range, last) && !Range.equalsRange(range, last)) {\n        oneRanges.push(range);\n        last = range;\n      }\n    }\n    if (!options.selectLeadingAndTrailingWhitespace) {\n      return oneRanges;\n    }\n    // add ranges that expand trivia at line starts and ends whenever a range\n    // wraps onto the a new line\n    const oneRangesWithTrivia = [oneRanges[0]];\n    for (let i = 1; i < oneRanges.length; i++) {\n      const prev = oneRanges[i - 1];\n      const cur = oneRanges[i];\n      if (cur.startLineNumber !== prev.startLineNumber || cur.endLineNumber !== prev.endLineNumber) {\n        // add line/block range without leading/failing whitespace\n        const rangeNoWhitespace = new Range(prev.startLineNumber, model.getLineFirstNonWhitespaceColumn(prev.startLineNumber), prev.endLineNumber, model.getLineLastNonWhitespaceColumn(prev.endLineNumber));\n        if (rangeNoWhitespace.containsRange(prev) && !rangeNoWhitespace.equalsRange(prev) && cur.containsRange(rangeNoWhitespace) && !cur.equalsRange(rangeNoWhitespace)) {\n          oneRangesWithTrivia.push(rangeNoWhitespace);\n        }\n        // add line/block range\n        const rangeFull = new Range(prev.startLineNumber, 1, prev.endLineNumber, model.getLineMaxColumn(prev.endLineNumber));\n        if (rangeFull.containsRange(prev) && !rangeFull.equalsRange(rangeNoWhitespace) && cur.containsRange(rangeFull) && !cur.equalsRange(rangeFull)) {\n          oneRangesWithTrivia.push(rangeFull);\n        }\n      }\n      oneRangesWithTrivia.push(cur);\n    }\n    return oneRangesWithTrivia;\n  });\n}\nCommandsRegistry.registerCommand('_executeSelectionRangeProvider', async function (accessor) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n  const [resource, positions] = args;\n  assertType(URI.isUri(resource));\n  const registry = accessor.get(ILanguageFeaturesService).selectionRangeProvider;\n  const reference = await accessor.get(ITextModelService).createModelReference(resource);\n  try {\n    return provideSelectionRanges(registry, reference.object.textEditorModel, positions, {\n      selectLeadingAndTrailingWhitespace: true,\n      selectSubwords: true\n    }, CancellationToken.None);\n  } finally {\n    reference.dispose();\n  }\n});","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","SmartSelectController_1","arrays","CancellationToken","onUnexpectedExternalError","EditorAction","registerEditorAction","registerEditorContribution","Position","Range","Selection","EditorContextKeys","BracketSelectionRangeProvider","WordSelectionRangeProvider","nls","MenuId","CommandsRegistry","ILanguageFeaturesService","ITextModelService","assertType","URI","SelectionRanges","constructor","index","ranges","mov","fwd","res","equalsRange","SmartSelectController","_SmartSelectController","get","editor","getContribution","ID","_editor","_languageFeaturesService","_ignoreSelection","dispose","_this$_selectionListe","_selectionListener","run","forward","hasModel","selections","getSelections","model","getModel","_state","provideSelectionRanges","selectionRangeProvider","map","s","getPosition","getOption","None","then","_this$_selectionListe2","isNonEmptyArray","equals","a","b","equalsSelection","filter","range","containsPosition","getStartPosition","getEndPosition","unshift","onDidChangeCursorPosition","_this$_selectionListe3","undefined","state","newSelections","fromPositions","setSelections","AbstractSmartSelect","opts","_forward","_accessor","controller","GrowSelectionAction","id","label","localize","alias","precondition","kbOpts","kbExpr","editorTextFocus","primary","mac","secondary","weight","menuOpts","menuId","MenubarSelectionMenu","group","title","comment","order","registerCommandAlias","ShrinkSelectionAction","registry","positions","options","token","providers","all","concat","selectSubwords","work","allRawRanges","provider","push","Promise","resolve","allProviderRanges","oneProviderRanges","isIRange","lift","oneRawRanges","sort","isBefore","oneRanges","last","containsRange","selectLeadingAndTrailingWhitespace","oneRangesWithTrivia","prev","cur","startLineNumber","endLineNumber","rangeNoWhitespace","getLineFirstNonWhitespaceColumn","getLineLastNonWhitespaceColumn","rangeFull","getLineMaxColumn","registerCommand","accessor","_len","args","Array","_key","resource","isUri","reference","createModelReference","object","textEditorModel"],"sources":["D:/ospanel/domains/react/react-intro-main/node_modules/monaco-editor/esm/vs/editor/contrib/smartSelect/browser/smartSelect.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar SmartSelectController_1;\nimport * as arrays from '../../../../base/common/arrays.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { BracketSelectionRangeProvider } from './bracketSelections.js';\nimport { WordSelectionRangeProvider } from './wordSelections.js';\nimport * as nls from '../../../../nls.js';\nimport { MenuId } from '../../../../platform/actions/common/actions.js';\nimport { CommandsRegistry } from '../../../../platform/commands/common/commands.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { ITextModelService } from '../../../common/services/resolverService.js';\nimport { assertType } from '../../../../base/common/types.js';\nimport { URI } from '../../../../base/common/uri.js';\nclass SelectionRanges {\n    constructor(index, ranges) {\n        this.index = index;\n        this.ranges = ranges;\n    }\n    mov(fwd) {\n        const index = this.index + (fwd ? 1 : -1);\n        if (index < 0 || index >= this.ranges.length) {\n            return this;\n        }\n        const res = new SelectionRanges(index, this.ranges);\n        if (res.ranges[index].equalsRange(this.ranges[this.index])) {\n            // next range equals this range, retry with next-next\n            return res.mov(fwd);\n        }\n        return res;\n    }\n}\nlet SmartSelectController = class SmartSelectController {\n    static { SmartSelectController_1 = this; }\n    static { this.ID = 'editor.contrib.smartSelectController'; }\n    static get(editor) {\n        return editor.getContribution(SmartSelectController_1.ID);\n    }\n    constructor(_editor, _languageFeaturesService) {\n        this._editor = _editor;\n        this._languageFeaturesService = _languageFeaturesService;\n        this._ignoreSelection = false;\n    }\n    dispose() {\n        this._selectionListener?.dispose();\n    }\n    async run(forward) {\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        const selections = this._editor.getSelections();\n        const model = this._editor.getModel();\n        if (!this._state) {\n            await provideSelectionRanges(this._languageFeaturesService.selectionRangeProvider, model, selections.map(s => s.getPosition()), this._editor.getOption(114 /* EditorOption.smartSelect */), CancellationToken.None).then(ranges => {\n                if (!arrays.isNonEmptyArray(ranges) || ranges.length !== selections.length) {\n                    // invalid result\n                    return;\n                }\n                if (!this._editor.hasModel() || !arrays.equals(this._editor.getSelections(), selections, (a, b) => a.equalsSelection(b))) {\n                    // invalid editor state\n                    return;\n                }\n                for (let i = 0; i < ranges.length; i++) {\n                    ranges[i] = ranges[i].filter(range => {\n                        // filter ranges inside the selection\n                        return range.containsPosition(selections[i].getStartPosition()) && range.containsPosition(selections[i].getEndPosition());\n                    });\n                    // prepend current selection\n                    ranges[i].unshift(selections[i]);\n                }\n                this._state = ranges.map(ranges => new SelectionRanges(0, ranges));\n                // listen to caret move and forget about state\n                this._selectionListener?.dispose();\n                this._selectionListener = this._editor.onDidChangeCursorPosition(() => {\n                    if (!this._ignoreSelection) {\n                        this._selectionListener?.dispose();\n                        this._state = undefined;\n                    }\n                });\n            });\n        }\n        if (!this._state) {\n            // no state\n            return;\n        }\n        this._state = this._state.map(state => state.mov(forward));\n        const newSelections = this._state.map(state => Selection.fromPositions(state.ranges[state.index].getStartPosition(), state.ranges[state.index].getEndPosition()));\n        this._ignoreSelection = true;\n        try {\n            this._editor.setSelections(newSelections);\n        }\n        finally {\n            this._ignoreSelection = false;\n        }\n    }\n};\nSmartSelectController = SmartSelectController_1 = __decorate([\n    __param(1, ILanguageFeaturesService)\n], SmartSelectController);\nexport { SmartSelectController };\nclass AbstractSmartSelect extends EditorAction {\n    constructor(forward, opts) {\n        super(opts);\n        this._forward = forward;\n    }\n    async run(_accessor, editor) {\n        const controller = SmartSelectController.get(editor);\n        if (controller) {\n            await controller.run(this._forward);\n        }\n    }\n}\nclass GrowSelectionAction extends AbstractSmartSelect {\n    constructor() {\n        super(true, {\n            id: 'editor.action.smartSelect.expand',\n            label: nls.localize('smartSelect.expand', \"Expand Selection\"),\n            alias: 'Expand Selection',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 1024 /* KeyMod.Shift */ | 512 /* KeyMod.Alt */ | 17 /* KeyCode.RightArrow */,\n                mac: {\n                    primary: 2048 /* KeyMod.CtrlCmd */ | 256 /* KeyMod.WinCtrl */ | 1024 /* KeyMod.Shift */ | 17 /* KeyCode.RightArrow */,\n                    secondary: [256 /* KeyMod.WinCtrl */ | 1024 /* KeyMod.Shift */ | 17 /* KeyCode.RightArrow */],\n                },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            menuOpts: {\n                menuId: MenuId.MenubarSelectionMenu,\n                group: '1_basic',\n                title: nls.localize({ key: 'miSmartSelectGrow', comment: ['&& denotes a mnemonic'] }, \"&&Expand Selection\"),\n                order: 2\n            }\n        });\n    }\n}\n// renamed command id\nCommandsRegistry.registerCommandAlias('editor.action.smartSelect.grow', 'editor.action.smartSelect.expand');\nclass ShrinkSelectionAction extends AbstractSmartSelect {\n    constructor() {\n        super(false, {\n            id: 'editor.action.smartSelect.shrink',\n            label: nls.localize('smartSelect.shrink', \"Shrink Selection\"),\n            alias: 'Shrink Selection',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 1024 /* KeyMod.Shift */ | 512 /* KeyMod.Alt */ | 15 /* KeyCode.LeftArrow */,\n                mac: {\n                    primary: 2048 /* KeyMod.CtrlCmd */ | 256 /* KeyMod.WinCtrl */ | 1024 /* KeyMod.Shift */ | 15 /* KeyCode.LeftArrow */,\n                    secondary: [256 /* KeyMod.WinCtrl */ | 1024 /* KeyMod.Shift */ | 15 /* KeyCode.LeftArrow */],\n                },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            menuOpts: {\n                menuId: MenuId.MenubarSelectionMenu,\n                group: '1_basic',\n                title: nls.localize({ key: 'miSmartSelectShrink', comment: ['&& denotes a mnemonic'] }, \"&&Shrink Selection\"),\n                order: 3\n            }\n        });\n    }\n}\nregisterEditorContribution(SmartSelectController.ID, SmartSelectController, 4 /* EditorContributionInstantiation.Lazy */);\nregisterEditorAction(GrowSelectionAction);\nregisterEditorAction(ShrinkSelectionAction);\nexport async function provideSelectionRanges(registry, model, positions, options, token) {\n    const providers = registry.all(model)\n        .concat(new WordSelectionRangeProvider(options.selectSubwords)); // ALWAYS have word based selection range\n    if (providers.length === 1) {\n        // add word selection and bracket selection when no provider exists\n        providers.unshift(new BracketSelectionRangeProvider());\n    }\n    const work = [];\n    const allRawRanges = [];\n    for (const provider of providers) {\n        work.push(Promise.resolve(provider.provideSelectionRanges(model, positions, token)).then(allProviderRanges => {\n            if (arrays.isNonEmptyArray(allProviderRanges) && allProviderRanges.length === positions.length) {\n                for (let i = 0; i < positions.length; i++) {\n                    if (!allRawRanges[i]) {\n                        allRawRanges[i] = [];\n                    }\n                    for (const oneProviderRanges of allProviderRanges[i]) {\n                        if (Range.isIRange(oneProviderRanges.range) && Range.containsPosition(oneProviderRanges.range, positions[i])) {\n                            allRawRanges[i].push(Range.lift(oneProviderRanges.range));\n                        }\n                    }\n                }\n            }\n        }, onUnexpectedExternalError));\n    }\n    await Promise.all(work);\n    return allRawRanges.map(oneRawRanges => {\n        if (oneRawRanges.length === 0) {\n            return [];\n        }\n        // sort all by start/end position\n        oneRawRanges.sort((a, b) => {\n            if (Position.isBefore(a.getStartPosition(), b.getStartPosition())) {\n                return 1;\n            }\n            else if (Position.isBefore(b.getStartPosition(), a.getStartPosition())) {\n                return -1;\n            }\n            else if (Position.isBefore(a.getEndPosition(), b.getEndPosition())) {\n                return -1;\n            }\n            else if (Position.isBefore(b.getEndPosition(), a.getEndPosition())) {\n                return 1;\n            }\n            else {\n                return 0;\n            }\n        });\n        // remove ranges that don't contain the former range or that are equal to the\n        // former range\n        const oneRanges = [];\n        let last;\n        for (const range of oneRawRanges) {\n            if (!last || (Range.containsRange(range, last) && !Range.equalsRange(range, last))) {\n                oneRanges.push(range);\n                last = range;\n            }\n        }\n        if (!options.selectLeadingAndTrailingWhitespace) {\n            return oneRanges;\n        }\n        // add ranges that expand trivia at line starts and ends whenever a range\n        // wraps onto the a new line\n        const oneRangesWithTrivia = [oneRanges[0]];\n        for (let i = 1; i < oneRanges.length; i++) {\n            const prev = oneRanges[i - 1];\n            const cur = oneRanges[i];\n            if (cur.startLineNumber !== prev.startLineNumber || cur.endLineNumber !== prev.endLineNumber) {\n                // add line/block range without leading/failing whitespace\n                const rangeNoWhitespace = new Range(prev.startLineNumber, model.getLineFirstNonWhitespaceColumn(prev.startLineNumber), prev.endLineNumber, model.getLineLastNonWhitespaceColumn(prev.endLineNumber));\n                if (rangeNoWhitespace.containsRange(prev) && !rangeNoWhitespace.equalsRange(prev) && cur.containsRange(rangeNoWhitespace) && !cur.equalsRange(rangeNoWhitespace)) {\n                    oneRangesWithTrivia.push(rangeNoWhitespace);\n                }\n                // add line/block range\n                const rangeFull = new Range(prev.startLineNumber, 1, prev.endLineNumber, model.getLineMaxColumn(prev.endLineNumber));\n                if (rangeFull.containsRange(prev) && !rangeFull.equalsRange(rangeNoWhitespace) && cur.containsRange(rangeFull) && !cur.equalsRange(rangeFull)) {\n                    oneRangesWithTrivia.push(rangeFull);\n                }\n            }\n            oneRangesWithTrivia.push(cur);\n        }\n        return oneRangesWithTrivia;\n    });\n}\nCommandsRegistry.registerCommand('_executeSelectionRangeProvider', async function (accessor, ...args) {\n    const [resource, positions] = args;\n    assertType(URI.isUri(resource));\n    const registry = accessor.get(ILanguageFeaturesService).selectionRangeProvider;\n    const reference = await accessor.get(ITextModelService).createModelReference(resource);\n    try {\n        return provideSelectionRanges(registry, reference.object.textEditorModel, positions, { selectLeadingAndTrailingWhitespace: true, selectSubwords: true }, CancellationToken.None);\n    }\n    finally {\n        reference.dispose();\n    }\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}