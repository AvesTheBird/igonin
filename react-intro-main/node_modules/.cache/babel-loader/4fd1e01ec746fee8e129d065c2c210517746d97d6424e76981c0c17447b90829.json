{"ast":null,"code":"/*\nCopyright 2021-present The maxGraph project Contributors\nCopyright (c) 2006-2015, JGraph Ltd\nCopyright (c) 2006-2015, Gaudenz Alder\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport InternalEvent from '../view/event/InternalEvent';\nimport Point from '../view/geometry/Point';\nimport MaxPopupMenu from './MaxPopupMenu';\nimport EventSource from '../view/event/EventSource';\nimport EventObject from '../view/event/EventObject';\nimport Client from '../Client';\nimport { br, write, writeln } from '../util/domUtils';\n/**\n * Creates a toolbar inside a given DOM node. The toolbar may contain icons,\n * buttons and combo boxes.\n *\n * ### Event: mxEvent.SELECT\n *\n * Fires when an item was selected in the toolbar. The <code>function</code>\n * property contains the function that was selected in <selectMode>.\n *\n * @class MaxToolbar\n * @extends {EventSource}\n */\nclass MaxToolbar extends EventSource {\n  constructor(container) {\n    super();\n    this.menu = null;\n    this.currentImg = null;\n    this.selectedMode = null;\n    this.defaultMode = null;\n    this.defaultFunction = null;\n    /**\n     * Specifies if events are handled. Default is true.\n     */\n    this.enabled = true;\n    /**\n     * Specifies if <resetMode> requires a forced flag of true for resetting\n     * the current mode in the toolbar. Default is false. This is set to true\n     * if the toolbar item is double clicked to avoid a reset after a single\n     * use of the item.\n     */\n    this.noReset = false;\n    /**\n     * Boolean indicating if the default mode should be the last selected\n     * switch mode or the first inserted switch mode. Default is true, that\n     * is the last selected switch mode is the default mode. The default mode\n     * is the mode to be selected after a reset of the toolbar. If this is\n     * false, then the default mode is the first inserted mode item regardless\n     * of what was last selected. Otherwise, the selected item after a reset is\n     * the previously selected item.\n     */\n    this.updateDefaultMode = true;\n    this.container = container;\n  }\n  /**\n   * Adds the given function as an image with the specified title and icon\n   * and returns the new image node.\n   *\n   * @param title Optional string that is used as the tooltip.\n   * @param icon Optional URL of the image to be used. If no URL is given, then a\n   * button is created.\n   * @param funct Function to execute on a mouse click.\n   * @param pressedIcon Optional URL of the pressed image. Default is a gray\n   * background.\n   * @param style Optional style classname. Default is mxToolbarItem.\n   * @param factoryMethod Optional factory method for popup menu, eg.\n   * (menu, evt, cell)=> { menu.addItem('Hello, World!'); }\n   */\n  addItem(title = null, icon = null, funct = null, pressedIcon = null, style = null, factoryMethod = null) {\n    const img = document.createElement(icon != null ? 'img' : 'button');\n    const initialClassName = style || (factoryMethod != null ? 'mxToolbarMode' : 'mxToolbarItem');\n    img.className = initialClassName;\n    if (icon) {\n      img.setAttribute('src', icon);\n    }\n    if (title != null) {\n      if (icon != null) {\n        img.setAttribute('title', title);\n      } else {\n        write(img, title);\n      }\n    }\n    this.container.appendChild(img);\n    // Invokes the function on a click on the toolbar item\n    if (funct != null) {\n      InternalEvent.addListener(img, 'click', funct);\n      if (Client.IS_TOUCH) {\n        InternalEvent.addListener(img, 'touchend', funct);\n      }\n    }\n    const mouseHandler = evt => {\n      if (pressedIcon != null) {\n        img.setAttribute('src', icon);\n      } else {\n        img.style.backgroundColor = '';\n      }\n    };\n    // Highlights the toolbar item with a gray background\n    // while it is being clicked with the mouse\n    InternalEvent.addGestureListeners(img, evt => {\n      if (pressedIcon != null) {\n        img.setAttribute('src', pressedIcon);\n      } else {\n        img.style.backgroundColor = 'gray';\n      }\n      // Popup Menu\n      if (factoryMethod != null) {\n        if (this.menu == null) {\n          this.menu = new MaxPopupMenu();\n          //this.menu.init();\n        }\n        const last = this.currentImg;\n        if (this.menu.isMenuShowing()) {\n          this.menu.hideMenu();\n        }\n        if (last != img) {\n          // Redirects factory method to local factory method\n          this.currentImg = img;\n          this.menu.factoryMethod = factoryMethod;\n          const point = new Point(img.offsetLeft, img.offsetTop + img.offsetHeight);\n          this.menu.popup(point.x, point.y, null, evt);\n          // Sets and overrides to restore classname\n          if (this.menu.isMenuShowing()) {\n            img.className = `${initialClassName}Selected`;\n            const hideMenu = this.menu.hideMenu;\n            this.menu.hideMenu = () => {\n              hideMenu.apply(this);\n              img.className = initialClassName;\n              this.currentImg = null;\n            };\n          }\n        }\n      }\n    }, null, mouseHandler);\n    InternalEvent.addListener(img, 'mouseout', mouseHandler);\n    return img;\n  }\n  /**\n   * Adds and returns a new SELECT element using the given style. The element\n   * is placed inside a DIV with the mxToolbarComboContainer style classname.\n   *\n   * @param style - Optional style classname. Default is mxToolbarCombo.\n   */\n  addCombo(style) {\n    const div = document.createElement('div');\n    div.style.display = 'inline';\n    div.className = 'mxToolbarComboContainer';\n    const select = document.createElement('select');\n    select.className = style || 'mxToolbarCombo';\n    div.appendChild(select);\n    this.container.appendChild(div);\n    return select;\n  }\n  /**\n   * Adds and returns a new SELECT element using the given title as the\n   * default element. The selection is reset to this element after each\n   * change.\n   *\n   * @param title - String that specifies the title of the default element.\n   * @param style - Optional style classname. Default is mxToolbarCombo.\n   */\n  addActionCombo(title, style) {\n    const select = document.createElement('select');\n    select.className = style || 'mxToolbarCombo';\n    this.addOption(select, title, null);\n    InternalEvent.addListener(select, 'change', evt => {\n      const value = select.options[select.selectedIndex];\n      select.selectedIndex = 0;\n      if (value.funct != null) {\n        value.funct(evt);\n      }\n    });\n    this.container.appendChild(select);\n    return select;\n  }\n  /**\n   * Adds and returns a new OPTION element inside the given SELECT element.\n   * If the given value is a function then it is stored in the option's funct\n   * field.\n   *\n   * @param combo - SELECT element that will contain the new entry.\n   * @param title - String that specifies the title of the option.\n   * @param value - Specifies the value associated with this option.\n   */\n  addOption(combo, title, value = null) {\n    const option = document.createElement('option');\n    writeln(option, title);\n    if (typeof value === 'function') {\n      option.funct = value;\n    } else {\n      option.setAttribute('value', value);\n    }\n    combo.appendChild(option);\n    return option;\n  }\n  /**\n   * Adds a new selectable item to the toolbar. Only one switch mode item may\n   * be selected at a time. The currently selected item is the default item\n   * after a reset of the toolbar.\n   */\n  addSwitchMode(title, icon, funct, pressedIcon = null, style = 'mxToolbarMode') {\n    const img = document.createElement('img');\n    img.initialClassName = style;\n    img.className = img.initialClassName;\n    img.setAttribute('src', icon);\n    img.altIcon = pressedIcon;\n    if (title != null) {\n      img.setAttribute('title', title);\n    }\n    InternalEvent.addListener(img, 'click', evt => {\n      const selectedModeImg = this.selectedMode;\n      let tmp = selectedModeImg.altIcon;\n      if (tmp != null) {\n        selectedModeImg.altIcon = selectedModeImg.getAttribute('src');\n        selectedModeImg.setAttribute('src', tmp);\n      } else {\n        selectedModeImg.className = selectedModeImg.initialClassName;\n      }\n      if (this.updateDefaultMode) {\n        this.defaultMode = img;\n      }\n      this.selectedMode = img;\n      tmp = img.altIcon;\n      if (tmp != null) {\n        img.altIcon = img.getAttribute('src');\n        img.setAttribute('src', tmp);\n      } else {\n        img.className = `${img.initialClassName}Selected`;\n      }\n      this.fireEvent(new EventObject(InternalEvent.SELECT));\n      funct();\n    });\n    this.container.appendChild(img);\n    if (this.defaultMode == null) {\n      this.defaultMode = img;\n      // Function should fire only once so\n      // do not pass it with the select event\n      this.selectMode(img);\n      funct();\n    }\n    return img;\n  }\n  /**\n   * Adds a new item to the toolbar. The selection is typically reset after\n   * the item has been consumed, for example by adding a new vertex to the\n   * graph. The reset is not carried out if the item is double clicked.\n   *\n   * The function argument uses the following signature: funct(evt, cell) where\n   * evt is the native mouse event and cell is the cell under the mouse.\n   */\n  addMode(title = null, icon = null, funct, pressedIcon, style = null, toggle = false) {\n    toggle = toggle != null ? toggle : true;\n    const img = document.createElement(icon != null ? 'img' : 'button');\n    img.initialClassName = style || 'mxToolbarMode';\n    img.className = img.initialClassName;\n    if (icon) {\n      img.setAttribute('src', icon);\n    }\n    img.altIcon = pressedIcon;\n    if (title != null) {\n      img.setAttribute('title', title);\n    }\n    if (this.enabled && toggle) {\n      InternalEvent.addListener(img, 'click', evt => {\n        this.selectMode(img, funct);\n        this.noReset = false;\n      });\n      InternalEvent.addListener(img, 'dblclick', evt => {\n        this.selectMode(img, funct);\n        this.noReset = true;\n      });\n      if (this.defaultMode == null) {\n        this.defaultMode = img;\n        this.defaultFunction = funct;\n        this.selectMode(img, funct);\n      }\n    }\n    this.container.appendChild(img);\n    return img;\n  }\n  /**\n   * Resets the state of the previously selected mode and displays the given\n   * DOM node as selected. This function fires a select event with the given\n   * function as a parameter.\n   */\n  selectMode(domNode, funct = null) {\n    if (this.selectedMode != domNode) {\n      if (this.selectedMode != null) {\n        const tmp = this.selectedMode.altIcon;\n        if (tmp != null) {\n          this.selectedMode.altIcon = this.selectedMode.getAttribute('src');\n          this.selectedMode.setAttribute('src', tmp);\n        } else {\n          this.selectedMode.className = this.selectedMode.initialClassName;\n        }\n      }\n      this.selectedMode = domNode;\n      const tmp = this.selectedMode.altIcon;\n      if (tmp != null) {\n        this.selectedMode.altIcon = this.selectedMode.getAttribute('src');\n        this.selectedMode.setAttribute('src', tmp);\n      } else {\n        this.selectedMode.className = `${this.selectedMode.initialClassName}Selected`;\n      }\n      this.fireEvent(new EventObject(InternalEvent.SELECT, {\n        function: funct\n      }));\n    }\n  }\n  /**\n   * Selects the default mode and resets the state of the previously selected\n   * mode.\n   */\n  resetMode(forced = false) {\n    if ((forced || !this.noReset) && this.selectedMode != this.defaultMode) {\n      // The last selected switch mode will be activated\n      // so the function was already executed and is\n      // no longer required here\n      this.selectMode(this.defaultMode, this.defaultFunction);\n    }\n  }\n  /**\n   * Adds the specifies image as a separator.\n   *\n   * @param icon - URL of the separator icon.\n   */\n  addSeparator(icon) {\n    return this.addItem(null, icon, null);\n  }\n  /**\n   * Adds a break to the container.\n   */\n  addBreak() {\n    br(this.container);\n  }\n  /**\n   * Adds a horizontal line to the container.\n   */\n  addLine() {\n    const hr = document.createElement('hr');\n    hr.style.marginRight = '6px';\n    hr.setAttribute('size', '1');\n    this.container.appendChild(hr);\n  }\n  /**\n   * Removes the toolbar and all its associated resources.\n   */\n  destroy() {\n    InternalEvent.release(this.container);\n    // @ts-ignore\n    this.container = null;\n    this.defaultMode = null;\n    this.defaultFunction = null;\n    this.selectedMode = null;\n    if (this.menu != null) {\n      this.menu.destroy();\n    }\n  }\n}\nexport default MaxToolbar;","map":{"version":3,"names":["InternalEvent","Point","MaxPopupMenu","EventSource","EventObject","Client","br","write","writeln","MaxToolbar","constructor","container","menu","currentImg","selectedMode","defaultMode","defaultFunction","enabled","noReset","updateDefaultMode","addItem","title","icon","funct","pressedIcon","style","factoryMethod","img","document","createElement","initialClassName","className","setAttribute","appendChild","addListener","IS_TOUCH","mouseHandler","evt","backgroundColor","addGestureListeners","last","isMenuShowing","hideMenu","point","offsetLeft","offsetTop","offsetHeight","popup","x","y","apply","addCombo","div","display","select","addActionCombo","addOption","value","options","selectedIndex","combo","option","addSwitchMode","altIcon","selectedModeImg","tmp","getAttribute","fireEvent","SELECT","selectMode","addMode","toggle","domNode","function","resetMode","forced","addSeparator","addBreak","addLine","hr","marginRight","destroy","release"],"sources":["D:/ospanel/domains/old/react/react-intro/node_modules/@maxgraph/core/dist/gui/MaxToolbar.js"],"sourcesContent":["/*\nCopyright 2021-present The maxGraph project Contributors\nCopyright (c) 2006-2015, JGraph Ltd\nCopyright (c) 2006-2015, Gaudenz Alder\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport InternalEvent from '../view/event/InternalEvent';\nimport Point from '../view/geometry/Point';\nimport MaxPopupMenu from './MaxPopupMenu';\nimport EventSource from '../view/event/EventSource';\nimport EventObject from '../view/event/EventObject';\nimport Client from '../Client';\nimport { br, write, writeln } from '../util/domUtils';\n/**\n * Creates a toolbar inside a given DOM node. The toolbar may contain icons,\n * buttons and combo boxes.\n *\n * ### Event: mxEvent.SELECT\n *\n * Fires when an item was selected in the toolbar. The <code>function</code>\n * property contains the function that was selected in <selectMode>.\n *\n * @class MaxToolbar\n * @extends {EventSource}\n */\nclass MaxToolbar extends EventSource {\n    constructor(container) {\n        super();\n        this.menu = null;\n        this.currentImg = null;\n        this.selectedMode = null;\n        this.defaultMode = null;\n        this.defaultFunction = null;\n        /**\n         * Specifies if events are handled. Default is true.\n         */\n        this.enabled = true;\n        /**\n         * Specifies if <resetMode> requires a forced flag of true for resetting\n         * the current mode in the toolbar. Default is false. This is set to true\n         * if the toolbar item is double clicked to avoid a reset after a single\n         * use of the item.\n         */\n        this.noReset = false;\n        /**\n         * Boolean indicating if the default mode should be the last selected\n         * switch mode or the first inserted switch mode. Default is true, that\n         * is the last selected switch mode is the default mode. The default mode\n         * is the mode to be selected after a reset of the toolbar. If this is\n         * false, then the default mode is the first inserted mode item regardless\n         * of what was last selected. Otherwise, the selected item after a reset is\n         * the previously selected item.\n         */\n        this.updateDefaultMode = true;\n        this.container = container;\n    }\n    /**\n     * Adds the given function as an image with the specified title and icon\n     * and returns the new image node.\n     *\n     * @param title Optional string that is used as the tooltip.\n     * @param icon Optional URL of the image to be used. If no URL is given, then a\n     * button is created.\n     * @param funct Function to execute on a mouse click.\n     * @param pressedIcon Optional URL of the pressed image. Default is a gray\n     * background.\n     * @param style Optional style classname. Default is mxToolbarItem.\n     * @param factoryMethod Optional factory method for popup menu, eg.\n     * (menu, evt, cell)=> { menu.addItem('Hello, World!'); }\n     */\n    addItem(title = null, icon = null, funct = null, pressedIcon = null, style = null, factoryMethod = null) {\n        const img = document.createElement(icon != null ? 'img' : 'button');\n        const initialClassName = style || (factoryMethod != null ? 'mxToolbarMode' : 'mxToolbarItem');\n        img.className = initialClassName;\n        if (icon) {\n            img.setAttribute('src', icon);\n        }\n        if (title != null) {\n            if (icon != null) {\n                img.setAttribute('title', title);\n            }\n            else {\n                write(img, title);\n            }\n        }\n        this.container.appendChild(img);\n        // Invokes the function on a click on the toolbar item\n        if (funct != null) {\n            InternalEvent.addListener(img, 'click', funct);\n            if (Client.IS_TOUCH) {\n                InternalEvent.addListener(img, 'touchend', funct);\n            }\n        }\n        const mouseHandler = (evt) => {\n            if (pressedIcon != null) {\n                img.setAttribute('src', icon);\n            }\n            else {\n                img.style.backgroundColor = '';\n            }\n        };\n        // Highlights the toolbar item with a gray background\n        // while it is being clicked with the mouse\n        InternalEvent.addGestureListeners(img, (evt) => {\n            if (pressedIcon != null) {\n                img.setAttribute('src', pressedIcon);\n            }\n            else {\n                img.style.backgroundColor = 'gray';\n            }\n            // Popup Menu\n            if (factoryMethod != null) {\n                if (this.menu == null) {\n                    this.menu = new MaxPopupMenu();\n                    //this.menu.init();\n                }\n                const last = this.currentImg;\n                if (this.menu.isMenuShowing()) {\n                    this.menu.hideMenu();\n                }\n                if (last != img) {\n                    // Redirects factory method to local factory method\n                    this.currentImg = img;\n                    this.menu.factoryMethod = factoryMethod;\n                    const point = new Point(img.offsetLeft, img.offsetTop + img.offsetHeight);\n                    this.menu.popup(point.x, point.y, null, evt);\n                    // Sets and overrides to restore classname\n                    if (this.menu.isMenuShowing()) {\n                        img.className = `${initialClassName}Selected`;\n                        const hideMenu = this.menu.hideMenu;\n                        this.menu.hideMenu = () => {\n                            hideMenu.apply(this);\n                            img.className = initialClassName;\n                            this.currentImg = null;\n                        };\n                    }\n                }\n            }\n        }, null, mouseHandler);\n        InternalEvent.addListener(img, 'mouseout', mouseHandler);\n        return img;\n    }\n    /**\n     * Adds and returns a new SELECT element using the given style. The element\n     * is placed inside a DIV with the mxToolbarComboContainer style classname.\n     *\n     * @param style - Optional style classname. Default is mxToolbarCombo.\n     */\n    addCombo(style) {\n        const div = document.createElement('div');\n        div.style.display = 'inline';\n        div.className = 'mxToolbarComboContainer';\n        const select = document.createElement('select');\n        select.className = style || 'mxToolbarCombo';\n        div.appendChild(select);\n        this.container.appendChild(div);\n        return select;\n    }\n    /**\n     * Adds and returns a new SELECT element using the given title as the\n     * default element. The selection is reset to this element after each\n     * change.\n     *\n     * @param title - String that specifies the title of the default element.\n     * @param style - Optional style classname. Default is mxToolbarCombo.\n     */\n    addActionCombo(title, style) {\n        const select = document.createElement('select');\n        select.className = style || 'mxToolbarCombo';\n        this.addOption(select, title, null);\n        InternalEvent.addListener(select, 'change', (evt) => {\n            const value = select.options[select.selectedIndex];\n            select.selectedIndex = 0;\n            if (value.funct != null) {\n                value.funct(evt);\n            }\n        });\n        this.container.appendChild(select);\n        return select;\n    }\n    /**\n     * Adds and returns a new OPTION element inside the given SELECT element.\n     * If the given value is a function then it is stored in the option's funct\n     * field.\n     *\n     * @param combo - SELECT element that will contain the new entry.\n     * @param title - String that specifies the title of the option.\n     * @param value - Specifies the value associated with this option.\n     */\n    addOption(combo, title, value = null) {\n        const option = document.createElement('option');\n        writeln(option, title);\n        if (typeof value === 'function') {\n            option.funct = value;\n        }\n        else {\n            option.setAttribute('value', value);\n        }\n        combo.appendChild(option);\n        return option;\n    }\n    /**\n     * Adds a new selectable item to the toolbar. Only one switch mode item may\n     * be selected at a time. The currently selected item is the default item\n     * after a reset of the toolbar.\n     */\n    addSwitchMode(title, icon, funct, pressedIcon = null, style = 'mxToolbarMode') {\n        const img = document.createElement('img');\n        img.initialClassName = style;\n        img.className = img.initialClassName;\n        img.setAttribute('src', icon);\n        img.altIcon = pressedIcon;\n        if (title != null) {\n            img.setAttribute('title', title);\n        }\n        InternalEvent.addListener(img, 'click', (evt) => {\n            const selectedModeImg = this.selectedMode;\n            let tmp = selectedModeImg.altIcon;\n            if (tmp != null) {\n                selectedModeImg.altIcon = selectedModeImg.getAttribute('src');\n                selectedModeImg.setAttribute('src', tmp);\n            }\n            else {\n                selectedModeImg.className = selectedModeImg.initialClassName;\n            }\n            if (this.updateDefaultMode) {\n                this.defaultMode = img;\n            }\n            this.selectedMode = img;\n            tmp = img.altIcon;\n            if (tmp != null) {\n                img.altIcon = img.getAttribute('src');\n                img.setAttribute('src', tmp);\n            }\n            else {\n                img.className = `${img.initialClassName}Selected`;\n            }\n            this.fireEvent(new EventObject(InternalEvent.SELECT));\n            funct();\n        });\n        this.container.appendChild(img);\n        if (this.defaultMode == null) {\n            this.defaultMode = img;\n            // Function should fire only once so\n            // do not pass it with the select event\n            this.selectMode(img);\n            funct();\n        }\n        return img;\n    }\n    /**\n     * Adds a new item to the toolbar. The selection is typically reset after\n     * the item has been consumed, for example by adding a new vertex to the\n     * graph. The reset is not carried out if the item is double clicked.\n     *\n     * The function argument uses the following signature: funct(evt, cell) where\n     * evt is the native mouse event and cell is the cell under the mouse.\n     */\n    addMode(title = null, icon = null, funct, pressedIcon, style = null, toggle = false) {\n        toggle = toggle != null ? toggle : true;\n        const img = (document.createElement(icon != null ? 'img' : 'button'));\n        img.initialClassName = style || 'mxToolbarMode';\n        img.className = img.initialClassName;\n        if (icon) {\n            img.setAttribute('src', icon);\n        }\n        img.altIcon = pressedIcon;\n        if (title != null) {\n            img.setAttribute('title', title);\n        }\n        if (this.enabled && toggle) {\n            InternalEvent.addListener(img, 'click', (evt) => {\n                this.selectMode(img, funct);\n                this.noReset = false;\n            });\n            InternalEvent.addListener(img, 'dblclick', (evt) => {\n                this.selectMode(img, funct);\n                this.noReset = true;\n            });\n            if (this.defaultMode == null) {\n                this.defaultMode = img;\n                this.defaultFunction = funct;\n                this.selectMode(img, funct);\n            }\n        }\n        this.container.appendChild(img);\n        return img;\n    }\n    /**\n     * Resets the state of the previously selected mode and displays the given\n     * DOM node as selected. This function fires a select event with the given\n     * function as a parameter.\n     */\n    selectMode(domNode, funct = null) {\n        if (this.selectedMode != domNode) {\n            if (this.selectedMode != null) {\n                const tmp = this.selectedMode.altIcon;\n                if (tmp != null) {\n                    this.selectedMode.altIcon = this.selectedMode.getAttribute('src');\n                    this.selectedMode.setAttribute('src', tmp);\n                }\n                else {\n                    this.selectedMode.className = this.selectedMode.initialClassName;\n                }\n            }\n            this.selectedMode = domNode;\n            const tmp = this.selectedMode.altIcon;\n            if (tmp != null) {\n                this.selectedMode.altIcon = this.selectedMode.getAttribute('src');\n                this.selectedMode.setAttribute('src', tmp);\n            }\n            else {\n                this.selectedMode.className = `${this.selectedMode.initialClassName}Selected`;\n            }\n            this.fireEvent(new EventObject(InternalEvent.SELECT, { function: funct }));\n        }\n    }\n    /**\n     * Selects the default mode and resets the state of the previously selected\n     * mode.\n     */\n    resetMode(forced = false) {\n        if ((forced || !this.noReset) && this.selectedMode != this.defaultMode) {\n            // The last selected switch mode will be activated\n            // so the function was already executed and is\n            // no longer required here\n            this.selectMode(this.defaultMode, this.defaultFunction);\n        }\n    }\n    /**\n     * Adds the specifies image as a separator.\n     *\n     * @param icon - URL of the separator icon.\n     */\n    addSeparator(icon) {\n        return this.addItem(null, icon, null);\n    }\n    /**\n     * Adds a break to the container.\n     */\n    addBreak() {\n        br(this.container);\n    }\n    /**\n     * Adds a horizontal line to the container.\n     */\n    addLine() {\n        const hr = document.createElement('hr');\n        hr.style.marginRight = '6px';\n        hr.setAttribute('size', '1');\n        this.container.appendChild(hr);\n    }\n    /**\n     * Removes the toolbar and all its associated resources.\n     */\n    destroy() {\n        InternalEvent.release(this.container);\n        // @ts-ignore\n        this.container = null;\n        this.defaultMode = null;\n        this.defaultFunction = null;\n        this.selectedMode = null;\n        if (this.menu != null) {\n            this.menu.destroy();\n        }\n    }\n}\nexport default MaxToolbar;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}