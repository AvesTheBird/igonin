{"ast":null,"code":"import { $, append } from '../../dom.js';\nimport { BaseActionViewItem } from '../actionbar/actionViewItems.js';\nimport { DropdownMenu } from './dropdown.js';\nimport { Emitter } from '../../../common/event.js';\nimport './dropdown.css';\nimport { getDefaultHoverDelegate } from '../hover/hoverDelegateFactory.js';\nimport { getBaseLayerHoverDelegate } from '../hover/hoverDelegate2.js';\nexport class DropdownMenuActionViewItem extends BaseActionViewItem {\n  constructor(action, menuActionsOrProvider, contextMenuProvider) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : Object.create(null);\n    super(null, action, options);\n    this.actionItem = null;\n    this._onDidChangeVisibility = this._register(new Emitter());\n    this.onDidChangeVisibility = this._onDidChangeVisibility.event;\n    this.menuActionsOrProvider = menuActionsOrProvider;\n    this.contextMenuProvider = contextMenuProvider;\n    this.options = options;\n    if (this.options.actionRunner) {\n      this.actionRunner = this.options.actionRunner;\n    }\n  }\n  render(container) {\n    this.actionItem = container;\n    const labelRenderer = el => {\n      this.element = append(el, $('a.action-label'));\n      let classNames = [];\n      if (typeof this.options.classNames === 'string') {\n        classNames = this.options.classNames.split(/\\s+/g).filter(s => !!s);\n      } else if (this.options.classNames) {\n        classNames = this.options.classNames;\n      }\n      // todo@aeschli: remove codicon, should come through `this.options.classNames`\n      if (!classNames.find(c => c === 'icon')) {\n        classNames.push('codicon');\n      }\n      this.element.classList.add(...classNames);\n      this.element.setAttribute('role', 'button');\n      this.element.setAttribute('aria-haspopup', 'true');\n      this.element.setAttribute('aria-expanded', 'false');\n      if (this._action.label) {\n        var _this$options$hoverDe;\n        this._register(getBaseLayerHoverDelegate().setupManagedHover((_this$options$hoverDe = this.options.hoverDelegate) !== null && _this$options$hoverDe !== void 0 ? _this$options$hoverDe : getDefaultHoverDelegate('mouse'), this.element, this._action.label));\n      }\n      this.element.ariaLabel = this._action.label || '';\n      return null;\n    };\n    const isActionsArray = Array.isArray(this.menuActionsOrProvider);\n    const options = {\n      contextMenuProvider: this.contextMenuProvider,\n      labelRenderer: labelRenderer,\n      menuAsChild: this.options.menuAsChild,\n      actions: isActionsArray ? this.menuActionsOrProvider : undefined,\n      actionProvider: isActionsArray ? undefined : this.menuActionsOrProvider,\n      skipTelemetry: this.options.skipTelemetry\n    };\n    this.dropdownMenu = this._register(new DropdownMenu(container, options));\n    this._register(this.dropdownMenu.onDidChangeVisibility(visible => {\n      var _this$element;\n      (_this$element = this.element) === null || _this$element === void 0 || _this$element.setAttribute('aria-expanded', \"\".concat(visible));\n      this._onDidChangeVisibility.fire(visible);\n    }));\n    this.dropdownMenu.menuOptions = {\n      actionViewItemProvider: this.options.actionViewItemProvider,\n      actionRunner: this.actionRunner,\n      getKeyBinding: this.options.keybindingProvider,\n      context: this._context\n    };\n    if (this.options.anchorAlignmentProvider) {\n      const that = this;\n      this.dropdownMenu.menuOptions = {\n        ...this.dropdownMenu.menuOptions,\n        get anchorAlignment() {\n          return that.options.anchorAlignmentProvider();\n        }\n      };\n    }\n    this.updateTooltip();\n    this.updateEnabled();\n  }\n  getTooltip() {\n    var _title;\n    let title = null;\n    if (this.action.tooltip) {\n      title = this.action.tooltip;\n    } else if (this.action.label) {\n      title = this.action.label;\n    }\n    return (_title = title) !== null && _title !== void 0 ? _title : undefined;\n  }\n  setActionContext(newContext) {\n    super.setActionContext(newContext);\n    if (this.dropdownMenu) {\n      if (this.dropdownMenu.menuOptions) {\n        this.dropdownMenu.menuOptions.context = newContext;\n      } else {\n        this.dropdownMenu.menuOptions = {\n          context: newContext\n        };\n      }\n    }\n  }\n  show() {\n    var _this$dropdownMenu;\n    (_this$dropdownMenu = this.dropdownMenu) === null || _this$dropdownMenu === void 0 || _this$dropdownMenu.show();\n  }\n  updateEnabled() {\n    var _this$actionItem, _this$element2;\n    const disabled = !this.action.enabled;\n    (_this$actionItem = this.actionItem) === null || _this$actionItem === void 0 || _this$actionItem.classList.toggle('disabled', disabled);\n    (_this$element2 = this.element) === null || _this$element2 === void 0 || _this$element2.classList.toggle('disabled', disabled);\n  }\n}","map":{"version":3,"names":["$","append","BaseActionViewItem","DropdownMenu","Emitter","getDefaultHoverDelegate","getBaseLayerHoverDelegate","DropdownMenuActionViewItem","constructor","action","menuActionsOrProvider","contextMenuProvider","options","arguments","length","undefined","Object","create","actionItem","_onDidChangeVisibility","_register","onDidChangeVisibility","event","actionRunner","render","container","labelRenderer","el","element","classNames","split","filter","s","find","c","push","classList","add","setAttribute","_action","label","_this$options$hoverDe","setupManagedHover","hoverDelegate","ariaLabel","isActionsArray","Array","isArray","menuAsChild","actions","actionProvider","skipTelemetry","dropdownMenu","visible","_this$element","concat","fire","menuOptions","actionViewItemProvider","getKeyBinding","keybindingProvider","context","_context","anchorAlignmentProvider","that","anchorAlignment","updateTooltip","updateEnabled","getTooltip","_title","title","tooltip","setActionContext","newContext","show","_this$dropdownMenu","_this$actionItem","_this$element2","disabled","enabled","toggle"],"sources":["D:/ospanel/domains/react/react-intro-main/node_modules/monaco-editor/esm/vs/base/browser/ui/dropdown/dropdownActionViewItem.js"],"sourcesContent":["import { $, append } from '../../dom.js';\nimport { BaseActionViewItem } from '../actionbar/actionViewItems.js';\nimport { DropdownMenu } from './dropdown.js';\nimport { Emitter } from '../../../common/event.js';\nimport './dropdown.css';\nimport { getDefaultHoverDelegate } from '../hover/hoverDelegateFactory.js';\nimport { getBaseLayerHoverDelegate } from '../hover/hoverDelegate2.js';\nexport class DropdownMenuActionViewItem extends BaseActionViewItem {\n    constructor(action, menuActionsOrProvider, contextMenuProvider, options = Object.create(null)) {\n        super(null, action, options);\n        this.actionItem = null;\n        this._onDidChangeVisibility = this._register(new Emitter());\n        this.onDidChangeVisibility = this._onDidChangeVisibility.event;\n        this.menuActionsOrProvider = menuActionsOrProvider;\n        this.contextMenuProvider = contextMenuProvider;\n        this.options = options;\n        if (this.options.actionRunner) {\n            this.actionRunner = this.options.actionRunner;\n        }\n    }\n    render(container) {\n        this.actionItem = container;\n        const labelRenderer = (el) => {\n            this.element = append(el, $('a.action-label'));\n            let classNames = [];\n            if (typeof this.options.classNames === 'string') {\n                classNames = this.options.classNames.split(/\\s+/g).filter(s => !!s);\n            }\n            else if (this.options.classNames) {\n                classNames = this.options.classNames;\n            }\n            // todo@aeschli: remove codicon, should come through `this.options.classNames`\n            if (!classNames.find(c => c === 'icon')) {\n                classNames.push('codicon');\n            }\n            this.element.classList.add(...classNames);\n            this.element.setAttribute('role', 'button');\n            this.element.setAttribute('aria-haspopup', 'true');\n            this.element.setAttribute('aria-expanded', 'false');\n            if (this._action.label) {\n                this._register(getBaseLayerHoverDelegate().setupManagedHover(this.options.hoverDelegate ?? getDefaultHoverDelegate('mouse'), this.element, this._action.label));\n            }\n            this.element.ariaLabel = this._action.label || '';\n            return null;\n        };\n        const isActionsArray = Array.isArray(this.menuActionsOrProvider);\n        const options = {\n            contextMenuProvider: this.contextMenuProvider,\n            labelRenderer: labelRenderer,\n            menuAsChild: this.options.menuAsChild,\n            actions: isActionsArray ? this.menuActionsOrProvider : undefined,\n            actionProvider: isActionsArray ? undefined : this.menuActionsOrProvider,\n            skipTelemetry: this.options.skipTelemetry\n        };\n        this.dropdownMenu = this._register(new DropdownMenu(container, options));\n        this._register(this.dropdownMenu.onDidChangeVisibility(visible => {\n            this.element?.setAttribute('aria-expanded', `${visible}`);\n            this._onDidChangeVisibility.fire(visible);\n        }));\n        this.dropdownMenu.menuOptions = {\n            actionViewItemProvider: this.options.actionViewItemProvider,\n            actionRunner: this.actionRunner,\n            getKeyBinding: this.options.keybindingProvider,\n            context: this._context\n        };\n        if (this.options.anchorAlignmentProvider) {\n            const that = this;\n            this.dropdownMenu.menuOptions = {\n                ...this.dropdownMenu.menuOptions,\n                get anchorAlignment() {\n                    return that.options.anchorAlignmentProvider();\n                }\n            };\n        }\n        this.updateTooltip();\n        this.updateEnabled();\n    }\n    getTooltip() {\n        let title = null;\n        if (this.action.tooltip) {\n            title = this.action.tooltip;\n        }\n        else if (this.action.label) {\n            title = this.action.label;\n        }\n        return title ?? undefined;\n    }\n    setActionContext(newContext) {\n        super.setActionContext(newContext);\n        if (this.dropdownMenu) {\n            if (this.dropdownMenu.menuOptions) {\n                this.dropdownMenu.menuOptions.context = newContext;\n            }\n            else {\n                this.dropdownMenu.menuOptions = { context: newContext };\n            }\n        }\n    }\n    show() {\n        this.dropdownMenu?.show();\n    }\n    updateEnabled() {\n        const disabled = !this.action.enabled;\n        this.actionItem?.classList.toggle('disabled', disabled);\n        this.element?.classList.toggle('disabled', disabled);\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}