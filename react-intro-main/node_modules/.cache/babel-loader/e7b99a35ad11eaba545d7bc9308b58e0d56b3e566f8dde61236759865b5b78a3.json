{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nimport { $, addDisposableListener, append, asCSSUrl, EventType, ModifierKeyEmitter, prepend } from '../../../base/browser/dom.js';\nimport { StandardKeyboardEvent } from '../../../base/browser/keyboardEvent.js';\nimport { ActionViewItem, BaseActionViewItem, SelectActionViewItem } from '../../../base/browser/ui/actionbar/actionViewItems.js';\nimport { DropdownMenuActionViewItem } from '../../../base/browser/ui/dropdown/dropdownActionViewItem.js';\nimport { ActionRunner, Separator, SubmenuAction } from '../../../base/common/actions.js';\nimport { UILabelProvider } from '../../../base/common/keybindingLabels.js';\nimport { combinedDisposable, MutableDisposable, toDisposable } from '../../../base/common/lifecycle.js';\nimport { isLinux, isWindows, OS } from '../../../base/common/platform.js';\nimport './menuEntryActionViewItem.css';\nimport { localize } from '../../../nls.js';\nimport { IMenuService, MenuItemAction, SubmenuItemAction } from '../common/actions.js';\nimport { isICommandActionToggleInfo } from '../../action/common/action.js';\nimport { IContextKeyService } from '../../contextkey/common/contextkey.js';\nimport { IContextMenuService, IContextViewService } from '../../contextview/browser/contextView.js';\nimport { IInstantiationService } from '../../instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../keybinding/common/keybinding.js';\nimport { INotificationService } from '../../notification/common/notification.js';\nimport { IStorageService } from '../../storage/common/storage.js';\nimport { IThemeService } from '../../theme/common/themeService.js';\nimport { ThemeIcon } from '../../../base/common/themables.js';\nimport { isDark } from '../../theme/common/theme.js';\nimport { assertType } from '../../../base/common/types.js';\nimport { asCssVariable, selectBorder } from '../../theme/common/colorRegistry.js';\nimport { defaultSelectBoxStyles } from '../../theme/browser/defaultStyles.js';\nimport { IAccessibilityService } from '../../accessibility/common/accessibility.js';\nexport function createAndFillInContextMenuActions(menu, optionsOrTarget, targetOrPrimaryGroup, primaryGroupOrUndefined) {\n  let target;\n  let primaryGroup;\n  let groups;\n  if (Array.isArray(menu)) {\n    groups = menu;\n    target = optionsOrTarget;\n    primaryGroup = targetOrPrimaryGroup;\n  } else {\n    const options = optionsOrTarget;\n    groups = menu.getActions(options);\n    target = targetOrPrimaryGroup;\n    primaryGroup = primaryGroupOrUndefined;\n  }\n  const modifierKeyEmitter = ModifierKeyEmitter.getInstance();\n  const useAlternativeActions = modifierKeyEmitter.keyStatus.altKey || (isWindows || isLinux) && modifierKeyEmitter.keyStatus.shiftKey;\n  fillInActions(groups, target, useAlternativeActions, primaryGroup ? actionGroup => actionGroup === primaryGroup : actionGroup => actionGroup === 'navigation');\n}\nexport function createAndFillInActionBarActions(menu, optionsOrTarget, targetOrPrimaryGroup, primaryGroupOrShouldInlineSubmenu, shouldInlineSubmenuOrUseSeparatorsInPrimaryActions, useSeparatorsInPrimaryActionsOrUndefined) {\n  let target;\n  let primaryGroup;\n  let shouldInlineSubmenu;\n  let useSeparatorsInPrimaryActions;\n  let groups;\n  if (Array.isArray(menu)) {\n    groups = menu;\n    target = optionsOrTarget;\n    primaryGroup = targetOrPrimaryGroup;\n    shouldInlineSubmenu = primaryGroupOrShouldInlineSubmenu;\n    useSeparatorsInPrimaryActions = shouldInlineSubmenuOrUseSeparatorsInPrimaryActions;\n  } else {\n    const options = optionsOrTarget;\n    groups = menu.getActions(options);\n    target = targetOrPrimaryGroup;\n    primaryGroup = primaryGroupOrShouldInlineSubmenu;\n    shouldInlineSubmenu = shouldInlineSubmenuOrUseSeparatorsInPrimaryActions;\n    useSeparatorsInPrimaryActions = useSeparatorsInPrimaryActionsOrUndefined;\n  }\n  const isPrimaryAction = typeof primaryGroup === 'string' ? actionGroup => actionGroup === primaryGroup : primaryGroup;\n  // Action bars handle alternative actions on their own so the alternative actions should be ignored\n  fillInActions(groups, target, false, isPrimaryAction, shouldInlineSubmenu, useSeparatorsInPrimaryActions);\n}\nfunction fillInActions(groups, target, useAlternativeActions) {\n  let isPrimaryAction = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : actionGroup => actionGroup === 'navigation';\n  let shouldInlineSubmenu = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : () => false;\n  let useSeparatorsInPrimaryActions = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;\n  let primaryBucket;\n  let secondaryBucket;\n  if (Array.isArray(target)) {\n    primaryBucket = target;\n    secondaryBucket = target;\n  } else {\n    primaryBucket = target.primary;\n    secondaryBucket = target.secondary;\n  }\n  const submenuInfo = new Set();\n  for (const [group, actions] of groups) {\n    let target;\n    if (isPrimaryAction(group)) {\n      target = primaryBucket;\n      if (target.length > 0 && useSeparatorsInPrimaryActions) {\n        target.push(new Separator());\n      }\n    } else {\n      target = secondaryBucket;\n      if (target.length > 0) {\n        target.push(new Separator());\n      }\n    }\n    for (let action of actions) {\n      if (useAlternativeActions) {\n        action = action instanceof MenuItemAction && action.alt ? action.alt : action;\n      }\n      const newLen = target.push(action);\n      // keep submenu info for later inlining\n      if (action instanceof SubmenuAction) {\n        submenuInfo.add({\n          group,\n          action,\n          index: newLen - 1\n        });\n      }\n    }\n  }\n  // ask the outside if submenu should be inlined or not. only ask when\n  // there would be enough space\n  for (const {\n    group,\n    action,\n    index\n  } of submenuInfo) {\n    const target = isPrimaryAction(group) ? primaryBucket : secondaryBucket;\n    // inlining submenus with length 0 or 1 is easy,\n    // larger submenus need to be checked with the overall limit\n    const submenuActions = action.actions;\n    if (shouldInlineSubmenu(action, group, target.length)) {\n      target.splice(index, 1, ...submenuActions);\n    }\n  }\n}\nlet MenuEntryActionViewItem = class MenuEntryActionViewItem extends ActionViewItem {\n  constructor(action, _options, _keybindingService, _notificationService, _contextKeyService, _themeService, _contextMenuService, _accessibilityService) {\n    super(undefined, action, {\n      icon: !!(action.class || action.item.icon),\n      label: !action.class && !action.item.icon,\n      draggable: _options === null || _options === void 0 ? void 0 : _options.draggable,\n      keybinding: _options === null || _options === void 0 ? void 0 : _options.keybinding,\n      hoverDelegate: _options === null || _options === void 0 ? void 0 : _options.hoverDelegate\n    });\n    this._options = _options;\n    this._keybindingService = _keybindingService;\n    this._notificationService = _notificationService;\n    this._contextKeyService = _contextKeyService;\n    this._themeService = _themeService;\n    this._contextMenuService = _contextMenuService;\n    this._accessibilityService = _accessibilityService;\n    this._wantsAltCommand = false;\n    this._itemClassDispose = this._register(new MutableDisposable());\n    this._altKey = ModifierKeyEmitter.getInstance();\n  }\n  get _menuItemAction() {\n    return this._action;\n  }\n  get _commandAction() {\n    return this._wantsAltCommand && this._menuItemAction.alt || this._menuItemAction;\n  }\n  async onClick(event) {\n    event.preventDefault();\n    event.stopPropagation();\n    try {\n      await this.actionRunner.run(this._commandAction, this._context);\n    } catch (err) {\n      this._notificationService.error(err);\n    }\n  }\n  render(container) {\n    super.render(container);\n    container.classList.add('menu-entry');\n    if (this.options.icon) {\n      this._updateItemClass(this._menuItemAction.item);\n    }\n    if (this._menuItemAction.alt) {\n      let isMouseOver = false;\n      const updateAltState = () => {\n        var _this$_menuItemAction;\n        const wantsAltCommand = !!((_this$_menuItemAction = this._menuItemAction.alt) !== null && _this$_menuItemAction !== void 0 && _this$_menuItemAction.enabled) && (!this._accessibilityService.isMotionReduced() || isMouseOver) && (this._altKey.keyStatus.altKey || this._altKey.keyStatus.shiftKey && isMouseOver);\n        if (wantsAltCommand !== this._wantsAltCommand) {\n          this._wantsAltCommand = wantsAltCommand;\n          this.updateLabel();\n          this.updateTooltip();\n          this.updateClass();\n        }\n      };\n      this._register(this._altKey.event(updateAltState));\n      this._register(addDisposableListener(container, 'mouseleave', _ => {\n        isMouseOver = false;\n        updateAltState();\n      }));\n      this._register(addDisposableListener(container, 'mouseenter', _ => {\n        isMouseOver = true;\n        updateAltState();\n      }));\n      updateAltState();\n    }\n  }\n  updateLabel() {\n    if (this.options.label && this.label) {\n      this.label.textContent = this._commandAction.label;\n    }\n  }\n  getTooltip() {\n    var _this$_menuItemAction2;\n    const keybinding = this._keybindingService.lookupKeybinding(this._commandAction.id, this._contextKeyService);\n    const keybindingLabel = keybinding && keybinding.getLabel();\n    const tooltip = this._commandAction.tooltip || this._commandAction.label;\n    let title = keybindingLabel ? localize('titleAndKb', \"{0} ({1})\", tooltip, keybindingLabel) : tooltip;\n    if (!this._wantsAltCommand && (_this$_menuItemAction2 = this._menuItemAction.alt) !== null && _this$_menuItemAction2 !== void 0 && _this$_menuItemAction2.enabled) {\n      const altTooltip = this._menuItemAction.alt.tooltip || this._menuItemAction.alt.label;\n      const altKeybinding = this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id, this._contextKeyService);\n      const altKeybindingLabel = altKeybinding && altKeybinding.getLabel();\n      const altTitleSection = altKeybindingLabel ? localize('titleAndKb', \"{0} ({1})\", altTooltip, altKeybindingLabel) : altTooltip;\n      title = localize('titleAndKbAndAlt', \"{0}\\n[{1}] {2}\", title, UILabelProvider.modifierLabels[OS].altKey, altTitleSection);\n    }\n    return title;\n  }\n  updateClass() {\n    if (this.options.icon) {\n      if (this._commandAction !== this._menuItemAction) {\n        if (this._menuItemAction.alt) {\n          this._updateItemClass(this._menuItemAction.alt.item);\n        }\n      } else {\n        this._updateItemClass(this._menuItemAction.item);\n      }\n    }\n  }\n  _updateItemClass(item) {\n    this._itemClassDispose.value = undefined;\n    const {\n      element,\n      label\n    } = this;\n    if (!element || !label) {\n      return;\n    }\n    const icon = this._commandAction.checked && isICommandActionToggleInfo(item.toggled) && item.toggled.icon ? item.toggled.icon : item.icon;\n    if (!icon) {\n      return;\n    }\n    if (ThemeIcon.isThemeIcon(icon)) {\n      // theme icons\n      const iconClasses = ThemeIcon.asClassNameArray(icon);\n      label.classList.add(...iconClasses);\n      this._itemClassDispose.value = toDisposable(() => {\n        label.classList.remove(...iconClasses);\n      });\n    } else {\n      // icon path/url\n      label.style.backgroundImage = isDark(this._themeService.getColorTheme().type) ? asCSSUrl(icon.dark) : asCSSUrl(icon.light);\n      label.classList.add('icon');\n      this._itemClassDispose.value = combinedDisposable(toDisposable(() => {\n        label.style.backgroundImage = '';\n        label.classList.remove('icon');\n      }), this._themeService.onDidColorThemeChange(() => {\n        // refresh when the theme changes in case we go between dark <-> light\n        this.updateClass();\n      }));\n    }\n  }\n};\nMenuEntryActionViewItem = __decorate([__param(2, IKeybindingService), __param(3, INotificationService), __param(4, IContextKeyService), __param(5, IThemeService), __param(6, IContextMenuService), __param(7, IAccessibilityService)], MenuEntryActionViewItem);\nexport { MenuEntryActionViewItem };\nexport class TextOnlyMenuEntryActionViewItem extends MenuEntryActionViewItem {\n  render(container) {\n    var _this$_options$useCom, _this$_options;\n    this.options.label = true;\n    this.options.icon = false;\n    super.render(container);\n    container.classList.add('text-only');\n    container.classList.toggle('use-comma', (_this$_options$useCom = (_this$_options = this._options) === null || _this$_options === void 0 ? void 0 : _this$_options.useComma) !== null && _this$_options$useCom !== void 0 ? _this$_options$useCom : false);\n  }\n  updateLabel() {\n    const kb = this._keybindingService.lookupKeybinding(this._action.id, this._contextKeyService);\n    if (!kb) {\n      return super.updateLabel();\n    }\n    if (this.label) {\n      var _this$_options2;\n      const kb2 = TextOnlyMenuEntryActionViewItem._symbolPrintEnter(kb);\n      if ((_this$_options2 = this._options) !== null && _this$_options2 !== void 0 && _this$_options2.conversational) {\n        this.label.textContent = localize({\n          key: 'content2',\n          comment: ['A label with keybindg like \"ESC to dismiss\"']\n        }, '{1} to {0}', this._action.label, kb2);\n      } else {\n        this.label.textContent = localize({\n          key: 'content',\n          comment: ['A label', 'A keybinding']\n        }, '{0} ({1})', this._action.label, kb2);\n      }\n    }\n  }\n  static _symbolPrintEnter(kb) {\n    var _kb$getLabel;\n    return (_kb$getLabel = kb.getLabel()) === null || _kb$getLabel === void 0 ? void 0 : _kb$getLabel.replace(/\\benter\\b/gi, '\\u23CE').replace(/\\bEscape\\b/gi, 'Esc');\n  }\n}\nlet SubmenuEntryActionViewItem = class SubmenuEntryActionViewItem extends DropdownMenuActionViewItem {\n  constructor(action, options, _keybindingService, _contextMenuService, _themeService) {\n    var _options$menuAsChild, _options$classNames, _options$keybindingPr;\n    const dropdownOptions = {\n      ...options,\n      menuAsChild: (_options$menuAsChild = options === null || options === void 0 ? void 0 : options.menuAsChild) !== null && _options$menuAsChild !== void 0 ? _options$menuAsChild : false,\n      classNames: (_options$classNames = options === null || options === void 0 ? void 0 : options.classNames) !== null && _options$classNames !== void 0 ? _options$classNames : ThemeIcon.isThemeIcon(action.item.icon) ? ThemeIcon.asClassName(action.item.icon) : undefined,\n      keybindingProvider: (_options$keybindingPr = options === null || options === void 0 ? void 0 : options.keybindingProvider) !== null && _options$keybindingPr !== void 0 ? _options$keybindingPr : action => _keybindingService.lookupKeybinding(action.id)\n    };\n    super(action, {\n      getActions: () => action.actions\n    }, _contextMenuService, dropdownOptions);\n    this._keybindingService = _keybindingService;\n    this._contextMenuService = _contextMenuService;\n    this._themeService = _themeService;\n  }\n  render(container) {\n    super.render(container);\n    assertType(this.element);\n    container.classList.add('menu-entry');\n    const action = this._action;\n    const {\n      icon\n    } = action.item;\n    if (icon && !ThemeIcon.isThemeIcon(icon)) {\n      this.element.classList.add('icon');\n      const setBackgroundImage = () => {\n        if (this.element) {\n          this.element.style.backgroundImage = isDark(this._themeService.getColorTheme().type) ? asCSSUrl(icon.dark) : asCSSUrl(icon.light);\n        }\n      };\n      setBackgroundImage();\n      this._register(this._themeService.onDidColorThemeChange(() => {\n        // refresh when the theme changes in case we go between dark <-> light\n        setBackgroundImage();\n      }));\n    }\n  }\n};\nSubmenuEntryActionViewItem = __decorate([__param(2, IKeybindingService), __param(3, IContextMenuService), __param(4, IThemeService)], SubmenuEntryActionViewItem);\nexport { SubmenuEntryActionViewItem };\nlet DropdownWithDefaultActionViewItem = class DropdownWithDefaultActionViewItem extends BaseActionViewItem {\n  constructor(submenuAction, options, _keybindingService, _notificationService, _contextMenuService, _menuService, _instaService, _storageService) {\n    var _options$menuAsChild2, _options$classNames2, _options$actionRunner;\n    super(null, submenuAction);\n    this._keybindingService = _keybindingService;\n    this._notificationService = _notificationService;\n    this._contextMenuService = _contextMenuService;\n    this._menuService = _menuService;\n    this._instaService = _instaService;\n    this._storageService = _storageService;\n    this._container = null;\n    this._options = options;\n    this._storageKey = \"\".concat(submenuAction.item.submenu.id, \"_lastActionId\");\n    // determine default action\n    let defaultAction;\n    const defaultActionId = options !== null && options !== void 0 && options.persistLastActionId ? _storageService.get(this._storageKey, 1 /* StorageScope.WORKSPACE */) : undefined;\n    if (defaultActionId) {\n      defaultAction = submenuAction.actions.find(a => defaultActionId === a.id);\n    }\n    if (!defaultAction) {\n      defaultAction = submenuAction.actions[0];\n    }\n    this._defaultAction = this._instaService.createInstance(MenuEntryActionViewItem, defaultAction, {\n      keybinding: this._getDefaultActionKeybindingLabel(defaultAction)\n    });\n    const dropdownOptions = {\n      keybindingProvider: action => this._keybindingService.lookupKeybinding(action.id),\n      ...options,\n      menuAsChild: (_options$menuAsChild2 = options === null || options === void 0 ? void 0 : options.menuAsChild) !== null && _options$menuAsChild2 !== void 0 ? _options$menuAsChild2 : true,\n      classNames: (_options$classNames2 = options === null || options === void 0 ? void 0 : options.classNames) !== null && _options$classNames2 !== void 0 ? _options$classNames2 : ['codicon', 'codicon-chevron-down'],\n      actionRunner: (_options$actionRunner = options === null || options === void 0 ? void 0 : options.actionRunner) !== null && _options$actionRunner !== void 0 ? _options$actionRunner : new ActionRunner()\n    };\n    this._dropdown = new DropdownMenuActionViewItem(submenuAction, submenuAction.actions, this._contextMenuService, dropdownOptions);\n    this._register(this._dropdown.actionRunner.onDidRun(e => {\n      if (e.action instanceof MenuItemAction) {\n        this.update(e.action);\n      }\n    }));\n  }\n  update(lastAction) {\n    var _this$_options3;\n    if ((_this$_options3 = this._options) !== null && _this$_options3 !== void 0 && _this$_options3.persistLastActionId) {\n      this._storageService.store(this._storageKey, lastAction.id, 1 /* StorageScope.WORKSPACE */, 1 /* StorageTarget.MACHINE */);\n    }\n    this._defaultAction.dispose();\n    this._defaultAction = this._instaService.createInstance(MenuEntryActionViewItem, lastAction, {\n      keybinding: this._getDefaultActionKeybindingLabel(lastAction)\n    });\n    this._defaultAction.actionRunner = new class extends ActionRunner {\n      async runAction(action, context) {\n        await action.run(undefined);\n      }\n    }();\n    if (this._container) {\n      this._defaultAction.render(prepend(this._container, $('.action-container')));\n    }\n  }\n  _getDefaultActionKeybindingLabel(defaultAction) {\n    var _this$_options4;\n    let defaultActionKeybinding;\n    if ((_this$_options4 = this._options) !== null && _this$_options4 !== void 0 && _this$_options4.renderKeybindingWithDefaultActionLabel) {\n      const kb = this._keybindingService.lookupKeybinding(defaultAction.id);\n      if (kb) {\n        defaultActionKeybinding = \"(\".concat(kb.getLabel(), \")\");\n      }\n    }\n    return defaultActionKeybinding;\n  }\n  setActionContext(newContext) {\n    super.setActionContext(newContext);\n    this._defaultAction.setActionContext(newContext);\n    this._dropdown.setActionContext(newContext);\n  }\n  render(container) {\n    this._container = container;\n    super.render(this._container);\n    this._container.classList.add('monaco-dropdown-with-default');\n    const primaryContainer = $('.action-container');\n    this._defaultAction.render(append(this._container, primaryContainer));\n    this._register(addDisposableListener(primaryContainer, EventType.KEY_DOWN, e => {\n      const event = new StandardKeyboardEvent(e);\n      if (event.equals(17 /* KeyCode.RightArrow */)) {\n        this._defaultAction.element.tabIndex = -1;\n        this._dropdown.focus();\n        event.stopPropagation();\n      }\n    }));\n    const dropdownContainer = $('.dropdown-action-container');\n    this._dropdown.render(append(this._container, dropdownContainer));\n    this._register(addDisposableListener(dropdownContainer, EventType.KEY_DOWN, e => {\n      const event = new StandardKeyboardEvent(e);\n      if (event.equals(15 /* KeyCode.LeftArrow */)) {\n        var _this$_defaultAction$;\n        this._defaultAction.element.tabIndex = 0;\n        this._dropdown.setFocusable(false);\n        (_this$_defaultAction$ = this._defaultAction.element) === null || _this$_defaultAction$ === void 0 || _this$_defaultAction$.focus();\n        event.stopPropagation();\n      }\n    }));\n  }\n  focus(fromRight) {\n    if (fromRight) {\n      this._dropdown.focus();\n    } else {\n      this._defaultAction.element.tabIndex = 0;\n      this._defaultAction.element.focus();\n    }\n  }\n  blur() {\n    this._defaultAction.element.tabIndex = -1;\n    this._dropdown.blur();\n    this._container.blur();\n  }\n  setFocusable(focusable) {\n    if (focusable) {\n      this._defaultAction.element.tabIndex = 0;\n    } else {\n      this._defaultAction.element.tabIndex = -1;\n      this._dropdown.setFocusable(false);\n    }\n  }\n  dispose() {\n    this._defaultAction.dispose();\n    this._dropdown.dispose();\n    super.dispose();\n  }\n};\nDropdownWithDefaultActionViewItem = __decorate([__param(2, IKeybindingService), __param(3, INotificationService), __param(4, IContextMenuService), __param(5, IMenuService), __param(6, IInstantiationService), __param(7, IStorageService)], DropdownWithDefaultActionViewItem);\nexport { DropdownWithDefaultActionViewItem };\nlet SubmenuEntrySelectActionViewItem = class SubmenuEntrySelectActionViewItem extends SelectActionViewItem {\n  constructor(action, contextViewService) {\n    super(null, action, action.actions.map(a => ({\n      text: a.id === Separator.ID ? '\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500' : a.label,\n      isDisabled: !a.enabled\n    })), 0, contextViewService, defaultSelectBoxStyles, {\n      ariaLabel: action.tooltip,\n      optionsAsChildren: true\n    });\n    this.select(Math.max(0, action.actions.findIndex(a => a.checked)));\n  }\n  render(container) {\n    super.render(container);\n    container.style.borderColor = asCssVariable(selectBorder);\n  }\n  runAction(option, index) {\n    const action = this.action.actions[index];\n    if (action) {\n      this.actionRunner.run(action);\n    }\n  }\n};\nSubmenuEntrySelectActionViewItem = __decorate([__param(1, IContextViewService)], SubmenuEntrySelectActionViewItem);\n/**\n * Creates action view items for menu actions or submenu actions.\n */\nexport function createActionViewItem(instaService, action, options) {\n  if (action instanceof MenuItemAction) {\n    return instaService.createInstance(MenuEntryActionViewItem, action, options);\n  } else if (action instanceof SubmenuItemAction) {\n    if (action.item.isSelection) {\n      return instaService.createInstance(SubmenuEntrySelectActionViewItem, action);\n    } else {\n      if (action.item.rememberDefaultAction) {\n        return instaService.createInstance(DropdownWithDefaultActionViewItem, action, {\n          ...options,\n          persistLastActionId: true\n        });\n      } else {\n        return instaService.createInstance(SubmenuEntryActionViewItem, action, options);\n      }\n    }\n  } else {\n    return undefined;\n  }\n}","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","$","addDisposableListener","append","asCSSUrl","EventType","ModifierKeyEmitter","prepend","StandardKeyboardEvent","ActionViewItem","BaseActionViewItem","SelectActionViewItem","DropdownMenuActionViewItem","ActionRunner","Separator","SubmenuAction","UILabelProvider","combinedDisposable","MutableDisposable","toDisposable","isLinux","isWindows","OS","localize","IMenuService","MenuItemAction","SubmenuItemAction","isICommandActionToggleInfo","IContextKeyService","IContextMenuService","IContextViewService","IInstantiationService","IKeybindingService","INotificationService","IStorageService","IThemeService","ThemeIcon","isDark","assertType","asCssVariable","selectBorder","defaultSelectBoxStyles","IAccessibilityService","createAndFillInContextMenuActions","menu","optionsOrTarget","targetOrPrimaryGroup","primaryGroupOrUndefined","primaryGroup","groups","Array","isArray","options","getActions","modifierKeyEmitter","getInstance","useAlternativeActions","keyStatus","altKey","shiftKey","fillInActions","actionGroup","createAndFillInActionBarActions","primaryGroupOrShouldInlineSubmenu","shouldInlineSubmenuOrUseSeparatorsInPrimaryActions","useSeparatorsInPrimaryActionsOrUndefined","shouldInlineSubmenu","useSeparatorsInPrimaryActions","isPrimaryAction","undefined","primaryBucket","secondaryBucket","primary","secondary","submenuInfo","Set","group","actions","push","action","alt","newLen","add","index","submenuActions","splice","MenuEntryActionViewItem","constructor","_options","_keybindingService","_notificationService","_contextKeyService","_themeService","_contextMenuService","_accessibilityService","icon","class","item","label","draggable","keybinding","hoverDelegate","_wantsAltCommand","_itemClassDispose","_register","_altKey","_menuItemAction","_action","_commandAction","onClick","event","preventDefault","stopPropagation","actionRunner","run","_context","err","error","render","container","classList","_updateItemClass","isMouseOver","updateAltState","_this$_menuItemAction","wantsAltCommand","enabled","isMotionReduced","updateLabel","updateTooltip","updateClass","_","textContent","getTooltip","_this$_menuItemAction2","lookupKeybinding","id","keybindingLabel","getLabel","tooltip","title","altTooltip","altKeybinding","altKeybindingLabel","altTitleSection","modifierLabels","value","element","checked","toggled","isThemeIcon","iconClasses","asClassNameArray","remove","style","backgroundImage","getColorTheme","type","dark","light","onDidColorThemeChange","TextOnlyMenuEntryActionViewItem","_this$_options$useCom","_this$_options","toggle","useComma","kb","_this$_options2","kb2","_symbolPrintEnter","conversational","comment","_kb$getLabel","replace","SubmenuEntryActionViewItem","_options$menuAsChild","_options$classNames","_options$keybindingPr","dropdownOptions","menuAsChild","classNames","asClassName","keybindingProvider","setBackgroundImage","DropdownWithDefaultActionViewItem","submenuAction","_menuService","_instaService","_storageService","_options$menuAsChild2","_options$classNames2","_options$actionRunner","_container","_storageKey","concat","submenu","defaultAction","defaultActionId","persistLastActionId","get","find","a","_defaultAction","createInstance","_getDefaultActionKeybindingLabel","_dropdown","onDidRun","e","update","lastAction","_this$_options3","store","dispose","runAction","context","_this$_options4","defaultActionKeybinding","renderKeybindingWithDefaultActionLabel","setActionContext","newContext","primaryContainer","KEY_DOWN","equals","tabIndex","focus","dropdownContainer","_this$_defaultAction$","setFocusable","fromRight","blur","focusable","SubmenuEntrySelectActionViewItem","contextViewService","map","text","ID","isDisabled","ariaLabel","optionsAsChildren","select","Math","max","findIndex","borderColor","option","createActionViewItem","instaService","isSelection","rememberDefaultAction"],"sources":["D:/ospanel/domains/react/react-intro-main/node_modules/monaco-editor/esm/vs/platform/actions/browser/menuEntryActionViewItem.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { $, addDisposableListener, append, asCSSUrl, EventType, ModifierKeyEmitter, prepend } from '../../../base/browser/dom.js';\nimport { StandardKeyboardEvent } from '../../../base/browser/keyboardEvent.js';\nimport { ActionViewItem, BaseActionViewItem, SelectActionViewItem } from '../../../base/browser/ui/actionbar/actionViewItems.js';\nimport { DropdownMenuActionViewItem } from '../../../base/browser/ui/dropdown/dropdownActionViewItem.js';\nimport { ActionRunner, Separator, SubmenuAction } from '../../../base/common/actions.js';\nimport { UILabelProvider } from '../../../base/common/keybindingLabels.js';\nimport { combinedDisposable, MutableDisposable, toDisposable } from '../../../base/common/lifecycle.js';\nimport { isLinux, isWindows, OS } from '../../../base/common/platform.js';\nimport './menuEntryActionViewItem.css';\nimport { localize } from '../../../nls.js';\nimport { IMenuService, MenuItemAction, SubmenuItemAction } from '../common/actions.js';\nimport { isICommandActionToggleInfo } from '../../action/common/action.js';\nimport { IContextKeyService } from '../../contextkey/common/contextkey.js';\nimport { IContextMenuService, IContextViewService } from '../../contextview/browser/contextView.js';\nimport { IInstantiationService } from '../../instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../keybinding/common/keybinding.js';\nimport { INotificationService } from '../../notification/common/notification.js';\nimport { IStorageService } from '../../storage/common/storage.js';\nimport { IThemeService } from '../../theme/common/themeService.js';\nimport { ThemeIcon } from '../../../base/common/themables.js';\nimport { isDark } from '../../theme/common/theme.js';\nimport { assertType } from '../../../base/common/types.js';\nimport { asCssVariable, selectBorder } from '../../theme/common/colorRegistry.js';\nimport { defaultSelectBoxStyles } from '../../theme/browser/defaultStyles.js';\nimport { IAccessibilityService } from '../../accessibility/common/accessibility.js';\nexport function createAndFillInContextMenuActions(menu, optionsOrTarget, targetOrPrimaryGroup, primaryGroupOrUndefined) {\n    let target;\n    let primaryGroup;\n    let groups;\n    if (Array.isArray(menu)) {\n        groups = menu;\n        target = optionsOrTarget;\n        primaryGroup = targetOrPrimaryGroup;\n    }\n    else {\n        const options = optionsOrTarget;\n        groups = menu.getActions(options);\n        target = targetOrPrimaryGroup;\n        primaryGroup = primaryGroupOrUndefined;\n    }\n    const modifierKeyEmitter = ModifierKeyEmitter.getInstance();\n    const useAlternativeActions = modifierKeyEmitter.keyStatus.altKey || ((isWindows || isLinux) && modifierKeyEmitter.keyStatus.shiftKey);\n    fillInActions(groups, target, useAlternativeActions, primaryGroup ? actionGroup => actionGroup === primaryGroup : actionGroup => actionGroup === 'navigation');\n}\nexport function createAndFillInActionBarActions(menu, optionsOrTarget, targetOrPrimaryGroup, primaryGroupOrShouldInlineSubmenu, shouldInlineSubmenuOrUseSeparatorsInPrimaryActions, useSeparatorsInPrimaryActionsOrUndefined) {\n    let target;\n    let primaryGroup;\n    let shouldInlineSubmenu;\n    let useSeparatorsInPrimaryActions;\n    let groups;\n    if (Array.isArray(menu)) {\n        groups = menu;\n        target = optionsOrTarget;\n        primaryGroup = targetOrPrimaryGroup;\n        shouldInlineSubmenu = primaryGroupOrShouldInlineSubmenu;\n        useSeparatorsInPrimaryActions = shouldInlineSubmenuOrUseSeparatorsInPrimaryActions;\n    }\n    else {\n        const options = optionsOrTarget;\n        groups = menu.getActions(options);\n        target = targetOrPrimaryGroup;\n        primaryGroup = primaryGroupOrShouldInlineSubmenu;\n        shouldInlineSubmenu = shouldInlineSubmenuOrUseSeparatorsInPrimaryActions;\n        useSeparatorsInPrimaryActions = useSeparatorsInPrimaryActionsOrUndefined;\n    }\n    const isPrimaryAction = typeof primaryGroup === 'string' ? (actionGroup) => actionGroup === primaryGroup : primaryGroup;\n    // Action bars handle alternative actions on their own so the alternative actions should be ignored\n    fillInActions(groups, target, false, isPrimaryAction, shouldInlineSubmenu, useSeparatorsInPrimaryActions);\n}\nfunction fillInActions(groups, target, useAlternativeActions, isPrimaryAction = actionGroup => actionGroup === 'navigation', shouldInlineSubmenu = () => false, useSeparatorsInPrimaryActions = false) {\n    let primaryBucket;\n    let secondaryBucket;\n    if (Array.isArray(target)) {\n        primaryBucket = target;\n        secondaryBucket = target;\n    }\n    else {\n        primaryBucket = target.primary;\n        secondaryBucket = target.secondary;\n    }\n    const submenuInfo = new Set();\n    for (const [group, actions] of groups) {\n        let target;\n        if (isPrimaryAction(group)) {\n            target = primaryBucket;\n            if (target.length > 0 && useSeparatorsInPrimaryActions) {\n                target.push(new Separator());\n            }\n        }\n        else {\n            target = secondaryBucket;\n            if (target.length > 0) {\n                target.push(new Separator());\n            }\n        }\n        for (let action of actions) {\n            if (useAlternativeActions) {\n                action = action instanceof MenuItemAction && action.alt ? action.alt : action;\n            }\n            const newLen = target.push(action);\n            // keep submenu info for later inlining\n            if (action instanceof SubmenuAction) {\n                submenuInfo.add({ group, action, index: newLen - 1 });\n            }\n        }\n    }\n    // ask the outside if submenu should be inlined or not. only ask when\n    // there would be enough space\n    for (const { group, action, index } of submenuInfo) {\n        const target = isPrimaryAction(group) ? primaryBucket : secondaryBucket;\n        // inlining submenus with length 0 or 1 is easy,\n        // larger submenus need to be checked with the overall limit\n        const submenuActions = action.actions;\n        if (shouldInlineSubmenu(action, group, target.length)) {\n            target.splice(index, 1, ...submenuActions);\n        }\n    }\n}\nlet MenuEntryActionViewItem = class MenuEntryActionViewItem extends ActionViewItem {\n    constructor(action, _options, _keybindingService, _notificationService, _contextKeyService, _themeService, _contextMenuService, _accessibilityService) {\n        super(undefined, action, { icon: !!(action.class || action.item.icon), label: !action.class && !action.item.icon, draggable: _options?.draggable, keybinding: _options?.keybinding, hoverDelegate: _options?.hoverDelegate });\n        this._options = _options;\n        this._keybindingService = _keybindingService;\n        this._notificationService = _notificationService;\n        this._contextKeyService = _contextKeyService;\n        this._themeService = _themeService;\n        this._contextMenuService = _contextMenuService;\n        this._accessibilityService = _accessibilityService;\n        this._wantsAltCommand = false;\n        this._itemClassDispose = this._register(new MutableDisposable());\n        this._altKey = ModifierKeyEmitter.getInstance();\n    }\n    get _menuItemAction() {\n        return this._action;\n    }\n    get _commandAction() {\n        return this._wantsAltCommand && this._menuItemAction.alt || this._menuItemAction;\n    }\n    async onClick(event) {\n        event.preventDefault();\n        event.stopPropagation();\n        try {\n            await this.actionRunner.run(this._commandAction, this._context);\n        }\n        catch (err) {\n            this._notificationService.error(err);\n        }\n    }\n    render(container) {\n        super.render(container);\n        container.classList.add('menu-entry');\n        if (this.options.icon) {\n            this._updateItemClass(this._menuItemAction.item);\n        }\n        if (this._menuItemAction.alt) {\n            let isMouseOver = false;\n            const updateAltState = () => {\n                const wantsAltCommand = !!this._menuItemAction.alt?.enabled &&\n                    (!this._accessibilityService.isMotionReduced() || isMouseOver) && (this._altKey.keyStatus.altKey ||\n                    (this._altKey.keyStatus.shiftKey && isMouseOver));\n                if (wantsAltCommand !== this._wantsAltCommand) {\n                    this._wantsAltCommand = wantsAltCommand;\n                    this.updateLabel();\n                    this.updateTooltip();\n                    this.updateClass();\n                }\n            };\n            this._register(this._altKey.event(updateAltState));\n            this._register(addDisposableListener(container, 'mouseleave', _ => {\n                isMouseOver = false;\n                updateAltState();\n            }));\n            this._register(addDisposableListener(container, 'mouseenter', _ => {\n                isMouseOver = true;\n                updateAltState();\n            }));\n            updateAltState();\n        }\n    }\n    updateLabel() {\n        if (this.options.label && this.label) {\n            this.label.textContent = this._commandAction.label;\n        }\n    }\n    getTooltip() {\n        const keybinding = this._keybindingService.lookupKeybinding(this._commandAction.id, this._contextKeyService);\n        const keybindingLabel = keybinding && keybinding.getLabel();\n        const tooltip = this._commandAction.tooltip || this._commandAction.label;\n        let title = keybindingLabel\n            ? localize('titleAndKb', \"{0} ({1})\", tooltip, keybindingLabel)\n            : tooltip;\n        if (!this._wantsAltCommand && this._menuItemAction.alt?.enabled) {\n            const altTooltip = this._menuItemAction.alt.tooltip || this._menuItemAction.alt.label;\n            const altKeybinding = this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id, this._contextKeyService);\n            const altKeybindingLabel = altKeybinding && altKeybinding.getLabel();\n            const altTitleSection = altKeybindingLabel\n                ? localize('titleAndKb', \"{0} ({1})\", altTooltip, altKeybindingLabel)\n                : altTooltip;\n            title = localize('titleAndKbAndAlt', \"{0}\\n[{1}] {2}\", title, UILabelProvider.modifierLabels[OS].altKey, altTitleSection);\n        }\n        return title;\n    }\n    updateClass() {\n        if (this.options.icon) {\n            if (this._commandAction !== this._menuItemAction) {\n                if (this._menuItemAction.alt) {\n                    this._updateItemClass(this._menuItemAction.alt.item);\n                }\n            }\n            else {\n                this._updateItemClass(this._menuItemAction.item);\n            }\n        }\n    }\n    _updateItemClass(item) {\n        this._itemClassDispose.value = undefined;\n        const { element, label } = this;\n        if (!element || !label) {\n            return;\n        }\n        const icon = this._commandAction.checked && isICommandActionToggleInfo(item.toggled) && item.toggled.icon ? item.toggled.icon : item.icon;\n        if (!icon) {\n            return;\n        }\n        if (ThemeIcon.isThemeIcon(icon)) {\n            // theme icons\n            const iconClasses = ThemeIcon.asClassNameArray(icon);\n            label.classList.add(...iconClasses);\n            this._itemClassDispose.value = toDisposable(() => {\n                label.classList.remove(...iconClasses);\n            });\n        }\n        else {\n            // icon path/url\n            label.style.backgroundImage = (isDark(this._themeService.getColorTheme().type)\n                ? asCSSUrl(icon.dark)\n                : asCSSUrl(icon.light));\n            label.classList.add('icon');\n            this._itemClassDispose.value = combinedDisposable(toDisposable(() => {\n                label.style.backgroundImage = '';\n                label.classList.remove('icon');\n            }), this._themeService.onDidColorThemeChange(() => {\n                // refresh when the theme changes in case we go between dark <-> light\n                this.updateClass();\n            }));\n        }\n    }\n};\nMenuEntryActionViewItem = __decorate([\n    __param(2, IKeybindingService),\n    __param(3, INotificationService),\n    __param(4, IContextKeyService),\n    __param(5, IThemeService),\n    __param(6, IContextMenuService),\n    __param(7, IAccessibilityService)\n], MenuEntryActionViewItem);\nexport { MenuEntryActionViewItem };\nexport class TextOnlyMenuEntryActionViewItem extends MenuEntryActionViewItem {\n    render(container) {\n        this.options.label = true;\n        this.options.icon = false;\n        super.render(container);\n        container.classList.add('text-only');\n        container.classList.toggle('use-comma', this._options?.useComma ?? false);\n    }\n    updateLabel() {\n        const kb = this._keybindingService.lookupKeybinding(this._action.id, this._contextKeyService);\n        if (!kb) {\n            return super.updateLabel();\n        }\n        if (this.label) {\n            const kb2 = TextOnlyMenuEntryActionViewItem._symbolPrintEnter(kb);\n            if (this._options?.conversational) {\n                this.label.textContent = localize({ key: 'content2', comment: ['A label with keybindg like \"ESC to dismiss\"'] }, '{1} to {0}', this._action.label, kb2);\n            }\n            else {\n                this.label.textContent = localize({ key: 'content', comment: ['A label', 'A keybinding'] }, '{0} ({1})', this._action.label, kb2);\n            }\n        }\n    }\n    static _symbolPrintEnter(kb) {\n        return kb.getLabel()\n            ?.replace(/\\benter\\b/gi, '\\u23CE')\n            .replace(/\\bEscape\\b/gi, 'Esc');\n    }\n}\nlet SubmenuEntryActionViewItem = class SubmenuEntryActionViewItem extends DropdownMenuActionViewItem {\n    constructor(action, options, _keybindingService, _contextMenuService, _themeService) {\n        const dropdownOptions = {\n            ...options,\n            menuAsChild: options?.menuAsChild ?? false,\n            classNames: options?.classNames ?? (ThemeIcon.isThemeIcon(action.item.icon) ? ThemeIcon.asClassName(action.item.icon) : undefined),\n            keybindingProvider: options?.keybindingProvider ?? (action => _keybindingService.lookupKeybinding(action.id))\n        };\n        super(action, { getActions: () => action.actions }, _contextMenuService, dropdownOptions);\n        this._keybindingService = _keybindingService;\n        this._contextMenuService = _contextMenuService;\n        this._themeService = _themeService;\n    }\n    render(container) {\n        super.render(container);\n        assertType(this.element);\n        container.classList.add('menu-entry');\n        const action = this._action;\n        const { icon } = action.item;\n        if (icon && !ThemeIcon.isThemeIcon(icon)) {\n            this.element.classList.add('icon');\n            const setBackgroundImage = () => {\n                if (this.element) {\n                    this.element.style.backgroundImage = (isDark(this._themeService.getColorTheme().type)\n                        ? asCSSUrl(icon.dark)\n                        : asCSSUrl(icon.light));\n                }\n            };\n            setBackgroundImage();\n            this._register(this._themeService.onDidColorThemeChange(() => {\n                // refresh when the theme changes in case we go between dark <-> light\n                setBackgroundImage();\n            }));\n        }\n    }\n};\nSubmenuEntryActionViewItem = __decorate([\n    __param(2, IKeybindingService),\n    __param(3, IContextMenuService),\n    __param(4, IThemeService)\n], SubmenuEntryActionViewItem);\nexport { SubmenuEntryActionViewItem };\nlet DropdownWithDefaultActionViewItem = class DropdownWithDefaultActionViewItem extends BaseActionViewItem {\n    constructor(submenuAction, options, _keybindingService, _notificationService, _contextMenuService, _menuService, _instaService, _storageService) {\n        super(null, submenuAction);\n        this._keybindingService = _keybindingService;\n        this._notificationService = _notificationService;\n        this._contextMenuService = _contextMenuService;\n        this._menuService = _menuService;\n        this._instaService = _instaService;\n        this._storageService = _storageService;\n        this._container = null;\n        this._options = options;\n        this._storageKey = `${submenuAction.item.submenu.id}_lastActionId`;\n        // determine default action\n        let defaultAction;\n        const defaultActionId = options?.persistLastActionId ? _storageService.get(this._storageKey, 1 /* StorageScope.WORKSPACE */) : undefined;\n        if (defaultActionId) {\n            defaultAction = submenuAction.actions.find(a => defaultActionId === a.id);\n        }\n        if (!defaultAction) {\n            defaultAction = submenuAction.actions[0];\n        }\n        this._defaultAction = this._instaService.createInstance(MenuEntryActionViewItem, defaultAction, { keybinding: this._getDefaultActionKeybindingLabel(defaultAction) });\n        const dropdownOptions = {\n            keybindingProvider: action => this._keybindingService.lookupKeybinding(action.id),\n            ...options,\n            menuAsChild: options?.menuAsChild ?? true,\n            classNames: options?.classNames ?? ['codicon', 'codicon-chevron-down'],\n            actionRunner: options?.actionRunner ?? new ActionRunner(),\n        };\n        this._dropdown = new DropdownMenuActionViewItem(submenuAction, submenuAction.actions, this._contextMenuService, dropdownOptions);\n        this._register(this._dropdown.actionRunner.onDidRun((e) => {\n            if (e.action instanceof MenuItemAction) {\n                this.update(e.action);\n            }\n        }));\n    }\n    update(lastAction) {\n        if (this._options?.persistLastActionId) {\n            this._storageService.store(this._storageKey, lastAction.id, 1 /* StorageScope.WORKSPACE */, 1 /* StorageTarget.MACHINE */);\n        }\n        this._defaultAction.dispose();\n        this._defaultAction = this._instaService.createInstance(MenuEntryActionViewItem, lastAction, { keybinding: this._getDefaultActionKeybindingLabel(lastAction) });\n        this._defaultAction.actionRunner = new class extends ActionRunner {\n            async runAction(action, context) {\n                await action.run(undefined);\n            }\n        }();\n        if (this._container) {\n            this._defaultAction.render(prepend(this._container, $('.action-container')));\n        }\n    }\n    _getDefaultActionKeybindingLabel(defaultAction) {\n        let defaultActionKeybinding;\n        if (this._options?.renderKeybindingWithDefaultActionLabel) {\n            const kb = this._keybindingService.lookupKeybinding(defaultAction.id);\n            if (kb) {\n                defaultActionKeybinding = `(${kb.getLabel()})`;\n            }\n        }\n        return defaultActionKeybinding;\n    }\n    setActionContext(newContext) {\n        super.setActionContext(newContext);\n        this._defaultAction.setActionContext(newContext);\n        this._dropdown.setActionContext(newContext);\n    }\n    render(container) {\n        this._container = container;\n        super.render(this._container);\n        this._container.classList.add('monaco-dropdown-with-default');\n        const primaryContainer = $('.action-container');\n        this._defaultAction.render(append(this._container, primaryContainer));\n        this._register(addDisposableListener(primaryContainer, EventType.KEY_DOWN, (e) => {\n            const event = new StandardKeyboardEvent(e);\n            if (event.equals(17 /* KeyCode.RightArrow */)) {\n                this._defaultAction.element.tabIndex = -1;\n                this._dropdown.focus();\n                event.stopPropagation();\n            }\n        }));\n        const dropdownContainer = $('.dropdown-action-container');\n        this._dropdown.render(append(this._container, dropdownContainer));\n        this._register(addDisposableListener(dropdownContainer, EventType.KEY_DOWN, (e) => {\n            const event = new StandardKeyboardEvent(e);\n            if (event.equals(15 /* KeyCode.LeftArrow */)) {\n                this._defaultAction.element.tabIndex = 0;\n                this._dropdown.setFocusable(false);\n                this._defaultAction.element?.focus();\n                event.stopPropagation();\n            }\n        }));\n    }\n    focus(fromRight) {\n        if (fromRight) {\n            this._dropdown.focus();\n        }\n        else {\n            this._defaultAction.element.tabIndex = 0;\n            this._defaultAction.element.focus();\n        }\n    }\n    blur() {\n        this._defaultAction.element.tabIndex = -1;\n        this._dropdown.blur();\n        this._container.blur();\n    }\n    setFocusable(focusable) {\n        if (focusable) {\n            this._defaultAction.element.tabIndex = 0;\n        }\n        else {\n            this._defaultAction.element.tabIndex = -1;\n            this._dropdown.setFocusable(false);\n        }\n    }\n    dispose() {\n        this._defaultAction.dispose();\n        this._dropdown.dispose();\n        super.dispose();\n    }\n};\nDropdownWithDefaultActionViewItem = __decorate([\n    __param(2, IKeybindingService),\n    __param(3, INotificationService),\n    __param(4, IContextMenuService),\n    __param(5, IMenuService),\n    __param(6, IInstantiationService),\n    __param(7, IStorageService)\n], DropdownWithDefaultActionViewItem);\nexport { DropdownWithDefaultActionViewItem };\nlet SubmenuEntrySelectActionViewItem = class SubmenuEntrySelectActionViewItem extends SelectActionViewItem {\n    constructor(action, contextViewService) {\n        super(null, action, action.actions.map(a => ({\n            text: a.id === Separator.ID ? '\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500' : a.label,\n            isDisabled: !a.enabled,\n        })), 0, contextViewService, defaultSelectBoxStyles, { ariaLabel: action.tooltip, optionsAsChildren: true });\n        this.select(Math.max(0, action.actions.findIndex(a => a.checked)));\n    }\n    render(container) {\n        super.render(container);\n        container.style.borderColor = asCssVariable(selectBorder);\n    }\n    runAction(option, index) {\n        const action = this.action.actions[index];\n        if (action) {\n            this.actionRunner.run(action);\n        }\n    }\n};\nSubmenuEntrySelectActionViewItem = __decorate([\n    __param(1, IContextViewService)\n], SubmenuEntrySelectActionViewItem);\n/**\n * Creates action view items for menu actions or submenu actions.\n */\nexport function createActionViewItem(instaService, action, options) {\n    if (action instanceof MenuItemAction) {\n        return instaService.createInstance(MenuEntryActionViewItem, action, options);\n    }\n    else if (action instanceof SubmenuItemAction) {\n        if (action.item.isSelection) {\n            return instaService.createInstance(SubmenuEntrySelectActionViewItem, action);\n        }\n        else {\n            if (action.item.rememberDefaultAction) {\n                return instaService.createInstance(DropdownWithDefaultActionViewItem, action, { ...options, persistLastActionId: true });\n            }\n            else {\n                return instaService.createInstance(SubmenuEntryActionViewItem, action, options);\n            }\n        }\n    }\n    else {\n        return undefined;\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}