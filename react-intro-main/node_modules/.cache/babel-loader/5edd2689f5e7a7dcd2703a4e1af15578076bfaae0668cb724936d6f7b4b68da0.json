{"ast":null,"code":"/*\nCopyright 2021-present The maxGraph project Contributors\nCopyright (c) 2006-2015, JGraph Ltd\nCopyright (c) 2006-2015, Gaudenz Alder\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport GraphLayout from './GraphLayout';\n/**\n * Extends {@link GraphLayout} to implement a circular layout for a given radius.\n * The vertices do not need to be connected for this layout to work and all\n * connections between vertices are not taken into account.\n *\n * Example:\n *\n * ```javascript\n * let layout = new mxCircleLayout(graph);\n * layout.execute(graph.getDefaultParent());\n * ```\n *\n * Constructor: mxCircleLayout\n *\n * Constructs a new circular layout for the specified radius.\n *\n * Arguments:\n *\n * graph - {@link Graph} that contains the cells.\n * radius - Optional radius as an int. Default is 100.\n */\nclass CircleLayout extends GraphLayout {\n  constructor(graph, radius = 100) {\n    super(graph);\n    /**\n     * Boolean specifying if the circle should be moved to the top,\n     * left corner specified by <x0> and <y0>. Default is false.\n     */\n    this.moveCircle = false;\n    /**\n     * Integer specifying the left coordinate of the circle.\n     * Default is 0.\n     */\n    this.x0 = 0;\n    /**\n     * Integer specifying the top coordinate of the circle.\n     * Default is 0.\n     */\n    this.y0 = 0;\n    /**\n     * Specifies if all edge points of traversed edges should be removed.\n     * Default is true.\n     */\n    this.resetEdges = true;\n    /**\n     * Specifies if the STYLE_NOEDGESTYLE flag should be set on edges that are\n     * modified by the result. Default is true.\n     */\n    this.disableEdgeStyle = true;\n    // mxGraphLayout.call(this, graph);\n    this.radius = radius;\n  }\n  /**\n   * Implements {@link GraphLayout#execute}.\n   */\n  execute(parent) {\n    // Moves the vertices to build a circle. Makes sure the\n    // radius is large enough for the vertices to not\n    // overlap\n    this.graph.batchUpdate(() => {\n      // Gets all vertices inside the parent and finds\n      // the maximum dimension of the largest vertex\n      let max = 0;\n      let top = null;\n      let left = null;\n      const vertices = [];\n      const childCount = parent.getChildCount();\n      for (let i = 0; i < childCount; i += 1) {\n        const cell = parent.getChildAt(i);\n        if (!this.isVertexIgnored(cell)) {\n          vertices.push(cell);\n          const bounds = this.getVertexBounds(cell);\n          if (top == null) {\n            top = bounds.y;\n          } else {\n            top = Math.min(top, bounds.y);\n          }\n          if (left == null) {\n            left = bounds.x;\n          } else {\n            left = Math.min(left, bounds.x);\n          }\n          max = Math.max(max, Math.max(bounds.width, bounds.height));\n        } else if (!this.isEdgeIgnored(cell)) {\n          // Resets the points on the traversed edge\n          if (this.resetEdges) {\n            this.graph.resetEdge(cell);\n          }\n          if (this.disableEdgeStyle) {\n            this.setEdgeStyleEnabled(cell, false);\n          }\n        }\n      }\n      const r = this.getRadius(vertices.length, max);\n      if (this.moveCircle) {\n        // Moves the circle to the specified origin\n        left = this.x0;\n        top = this.y0;\n      }\n      this.circle(vertices, r, left, top);\n    });\n  }\n  /**\n   * Returns the radius to be used for the given vertex count. Max is the maximum\n   * width or height of all vertices in the layout.\n   */\n  getRadius(count, max) {\n    return Math.max(count * max / Math.PI, this.radius);\n  }\n  /**\n   * Executes the circular layout for the specified array\n   * of vertices and the given radius. This is called from\n   * <execute>.\n   */\n  circle(vertices, r, left, top) {\n    const vertexCount = vertices.length;\n    const phi = 2 * Math.PI / vertexCount;\n    vertices.forEach((vertex, i) => {\n      if (this.isVertexMovable(vertex)) {\n        this.setVertexLocation(vertex, Math.round(left + r + r * Math.sin(i * phi)), Math.round(top + r + r * Math.cos(i * phi)));\n      }\n    });\n  }\n}\nexport default CircleLayout;","map":{"version":3,"names":["GraphLayout","CircleLayout","constructor","graph","radius","moveCircle","x0","y0","resetEdges","disableEdgeStyle","execute","parent","batchUpdate","max","top","left","vertices","childCount","getChildCount","i","cell","getChildAt","isVertexIgnored","push","bounds","getVertexBounds","y","Math","min","x","width","height","isEdgeIgnored","resetEdge","setEdgeStyleEnabled","r","getRadius","length","circle","count","PI","vertexCount","phi","forEach","vertex","isVertexMovable","setVertexLocation","round","sin","cos"],"sources":["D:/OSPanel/domains/old/react/react-intro-main/node_modules/@maxgraph/core/dist/view/layout/CircleLayout.js"],"sourcesContent":["/*\nCopyright 2021-present The maxGraph project Contributors\nCopyright (c) 2006-2015, JGraph Ltd\nCopyright (c) 2006-2015, Gaudenz Alder\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport GraphLayout from './GraphLayout';\n/**\n * Extends {@link GraphLayout} to implement a circular layout for a given radius.\n * The vertices do not need to be connected for this layout to work and all\n * connections between vertices are not taken into account.\n *\n * Example:\n *\n * ```javascript\n * let layout = new mxCircleLayout(graph);\n * layout.execute(graph.getDefaultParent());\n * ```\n *\n * Constructor: mxCircleLayout\n *\n * Constructs a new circular layout for the specified radius.\n *\n * Arguments:\n *\n * graph - {@link Graph} that contains the cells.\n * radius - Optional radius as an int. Default is 100.\n */\nclass CircleLayout extends GraphLayout {\n    constructor(graph, radius = 100) {\n        super(graph);\n        /**\n         * Boolean specifying if the circle should be moved to the top,\n         * left corner specified by <x0> and <y0>. Default is false.\n         */\n        this.moveCircle = false;\n        /**\n         * Integer specifying the left coordinate of the circle.\n         * Default is 0.\n         */\n        this.x0 = 0;\n        /**\n         * Integer specifying the top coordinate of the circle.\n         * Default is 0.\n         */\n        this.y0 = 0;\n        /**\n         * Specifies if all edge points of traversed edges should be removed.\n         * Default is true.\n         */\n        this.resetEdges = true;\n        /**\n         * Specifies if the STYLE_NOEDGESTYLE flag should be set on edges that are\n         * modified by the result. Default is true.\n         */\n        this.disableEdgeStyle = true;\n        // mxGraphLayout.call(this, graph);\n        this.radius = radius;\n    }\n    /**\n     * Implements {@link GraphLayout#execute}.\n     */\n    execute(parent) {\n        // Moves the vertices to build a circle. Makes sure the\n        // radius is large enough for the vertices to not\n        // overlap\n        this.graph.batchUpdate(() => {\n            // Gets all vertices inside the parent and finds\n            // the maximum dimension of the largest vertex\n            let max = 0;\n            let top = null;\n            let left = null;\n            const vertices = [];\n            const childCount = parent.getChildCount();\n            for (let i = 0; i < childCount; i += 1) {\n                const cell = parent.getChildAt(i);\n                if (!this.isVertexIgnored(cell)) {\n                    vertices.push(cell);\n                    const bounds = this.getVertexBounds(cell);\n                    if (top == null) {\n                        top = bounds.y;\n                    }\n                    else {\n                        top = Math.min(top, bounds.y);\n                    }\n                    if (left == null) {\n                        left = bounds.x;\n                    }\n                    else {\n                        left = Math.min(left, bounds.x);\n                    }\n                    max = Math.max(max, Math.max(bounds.width, bounds.height));\n                }\n                else if (!this.isEdgeIgnored(cell)) {\n                    // Resets the points on the traversed edge\n                    if (this.resetEdges) {\n                        this.graph.resetEdge(cell);\n                    }\n                    if (this.disableEdgeStyle) {\n                        this.setEdgeStyleEnabled(cell, false);\n                    }\n                }\n            }\n            const r = this.getRadius(vertices.length, max);\n            if (this.moveCircle) {\n                // Moves the circle to the specified origin\n                left = this.x0;\n                top = this.y0;\n            }\n            this.circle(vertices, r, left, top);\n        });\n    }\n    /**\n     * Returns the radius to be used for the given vertex count. Max is the maximum\n     * width or height of all vertices in the layout.\n     */\n    getRadius(count, max) {\n        return Math.max((count * max) / Math.PI, this.radius);\n    }\n    /**\n     * Executes the circular layout for the specified array\n     * of vertices and the given radius. This is called from\n     * <execute>.\n     */\n    circle(vertices, r, left, top) {\n        const vertexCount = vertices.length;\n        const phi = (2 * Math.PI) / vertexCount;\n        vertices.forEach((vertex, i) => {\n            if (this.isVertexMovable(vertex)) {\n                this.setVertexLocation(vertex, Math.round(left + r + r * Math.sin(i * phi)), Math.round(top + r + r * Math.cos(i * phi)));\n            }\n        });\n    }\n}\nexport default CircleLayout;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,WAAW,MAAM,eAAe;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMC,YAAY,SAASD,WAAW,CAAC;EACnCE,WAAWA,CAACC,KAAK,EAAEC,MAAM,GAAG,GAAG,EAAE;IAC7B,KAAK,CAACD,KAAK,CAAC;IACZ;AACR;AACA;AACA;IACQ,IAAI,CAACE,UAAU,GAAG,KAAK;IACvB;AACR;AACA;AACA;IACQ,IAAI,CAACC,EAAE,GAAG,CAAC;IACX;AACR;AACA;AACA;IACQ,IAAI,CAACC,EAAE,GAAG,CAAC;IACX;AACR;AACA;AACA;IACQ,IAAI,CAACC,UAAU,GAAG,IAAI;IACtB;AACR;AACA;AACA;IACQ,IAAI,CAACC,gBAAgB,GAAG,IAAI;IAC5B;IACA,IAAI,CAACL,MAAM,GAAGA,MAAM;EACxB;EACA;AACJ;AACA;EACIM,OAAOA,CAACC,MAAM,EAAE;IACZ;IACA;IACA;IACA,IAAI,CAACR,KAAK,CAACS,WAAW,CAAC,MAAM;MACzB;MACA;MACA,IAAIC,GAAG,GAAG,CAAC;MACX,IAAIC,GAAG,GAAG,IAAI;MACd,IAAIC,IAAI,GAAG,IAAI;MACf,MAAMC,QAAQ,GAAG,EAAE;MACnB,MAAMC,UAAU,GAAGN,MAAM,CAACO,aAAa,CAAC,CAAC;MACzC,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,UAAU,EAAEE,CAAC,IAAI,CAAC,EAAE;QACpC,MAAMC,IAAI,GAAGT,MAAM,CAACU,UAAU,CAACF,CAAC,CAAC;QACjC,IAAI,CAAC,IAAI,CAACG,eAAe,CAACF,IAAI,CAAC,EAAE;UAC7BJ,QAAQ,CAACO,IAAI,CAACH,IAAI,CAAC;UACnB,MAAMI,MAAM,GAAG,IAAI,CAACC,eAAe,CAACL,IAAI,CAAC;UACzC,IAAIN,GAAG,IAAI,IAAI,EAAE;YACbA,GAAG,GAAGU,MAAM,CAACE,CAAC;UAClB,CAAC,MACI;YACDZ,GAAG,GAAGa,IAAI,CAACC,GAAG,CAACd,GAAG,EAAEU,MAAM,CAACE,CAAC,CAAC;UACjC;UACA,IAAIX,IAAI,IAAI,IAAI,EAAE;YACdA,IAAI,GAAGS,MAAM,CAACK,CAAC;UACnB,CAAC,MACI;YACDd,IAAI,GAAGY,IAAI,CAACC,GAAG,CAACb,IAAI,EAAES,MAAM,CAACK,CAAC,CAAC;UACnC;UACAhB,GAAG,GAAGc,IAAI,CAACd,GAAG,CAACA,GAAG,EAAEc,IAAI,CAACd,GAAG,CAACW,MAAM,CAACM,KAAK,EAAEN,MAAM,CAACO,MAAM,CAAC,CAAC;QAC9D,CAAC,MACI,IAAI,CAAC,IAAI,CAACC,aAAa,CAACZ,IAAI,CAAC,EAAE;UAChC;UACA,IAAI,IAAI,CAACZ,UAAU,EAAE;YACjB,IAAI,CAACL,KAAK,CAAC8B,SAAS,CAACb,IAAI,CAAC;UAC9B;UACA,IAAI,IAAI,CAACX,gBAAgB,EAAE;YACvB,IAAI,CAACyB,mBAAmB,CAACd,IAAI,EAAE,KAAK,CAAC;UACzC;QACJ;MACJ;MACA,MAAMe,CAAC,GAAG,IAAI,CAACC,SAAS,CAACpB,QAAQ,CAACqB,MAAM,EAAExB,GAAG,CAAC;MAC9C,IAAI,IAAI,CAACR,UAAU,EAAE;QACjB;QACAU,IAAI,GAAG,IAAI,CAACT,EAAE;QACdQ,GAAG,GAAG,IAAI,CAACP,EAAE;MACjB;MACA,IAAI,CAAC+B,MAAM,CAACtB,QAAQ,EAAEmB,CAAC,EAAEpB,IAAI,EAAED,GAAG,CAAC;IACvC,CAAC,CAAC;EACN;EACA;AACJ;AACA;AACA;EACIsB,SAASA,CAACG,KAAK,EAAE1B,GAAG,EAAE;IAClB,OAAOc,IAAI,CAACd,GAAG,CAAE0B,KAAK,GAAG1B,GAAG,GAAIc,IAAI,CAACa,EAAE,EAAE,IAAI,CAACpC,MAAM,CAAC;EACzD;EACA;AACJ;AACA;AACA;AACA;EACIkC,MAAMA,CAACtB,QAAQ,EAAEmB,CAAC,EAAEpB,IAAI,EAAED,GAAG,EAAE;IAC3B,MAAM2B,WAAW,GAAGzB,QAAQ,CAACqB,MAAM;IACnC,MAAMK,GAAG,GAAI,CAAC,GAAGf,IAAI,CAACa,EAAE,GAAIC,WAAW;IACvCzB,QAAQ,CAAC2B,OAAO,CAAC,CAACC,MAAM,EAAEzB,CAAC,KAAK;MAC5B,IAAI,IAAI,CAAC0B,eAAe,CAACD,MAAM,CAAC,EAAE;QAC9B,IAAI,CAACE,iBAAiB,CAACF,MAAM,EAAEjB,IAAI,CAACoB,KAAK,CAAChC,IAAI,GAAGoB,CAAC,GAAGA,CAAC,GAAGR,IAAI,CAACqB,GAAG,CAAC7B,CAAC,GAAGuB,GAAG,CAAC,CAAC,EAAEf,IAAI,CAACoB,KAAK,CAACjC,GAAG,GAAGqB,CAAC,GAAGA,CAAC,GAAGR,IAAI,CAACsB,GAAG,CAAC9B,CAAC,GAAGuB,GAAG,CAAC,CAAC,CAAC;MAC7H;IACJ,CAAC,CAAC;EACN;AACJ;AACA,eAAezC,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}