{"ast":null,"code":"/*\nCopyright 2021-present The maxGraph project Contributors\nCopyright (c) 2006-2015, JGraph Ltd\nCopyright (c) 2006-2015, Gaudenz Alder\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport { ALIGN, ARROW, SHAPE } from '../../util/Constants';\n/**\n * Defines the appearance of the cells in a graph. See {@link putCellStyle} for an example\n * of creating a new cell style.\n *\n * Existing styles can be cloned using {@link clone} and turned into a string for debugging\n * using {@link toString}.\n *\n * ### Default Styles\n *\n * The stylesheet contains two built-in styles, which are used if no style is defined for\n * a cell:\n *\n * - `defaultVertex`: default style for vertices\n * - `defaultEdge`: default style for edges\n *\n * ### Example\n *\n * ```javascript\n * const defaultVertexStyle = stylesheet.getDefaultVertexStyle();\n * defaultVertexStyle.rounded = true;\n * const defaultEdgeStyle = stylesheet.getDefaultEdgeStyle();\n * defaultEdgeStyle.edgeStyle = EdgeStyle.EntityRelation;\n * ```\n */\nexport class Stylesheet {\n  constructor() {\n    this.styles = new Map();\n    this.putDefaultVertexStyle(this.createDefaultVertexStyle());\n    this.putDefaultEdgeStyle(this.createDefaultEdgeStyle());\n  }\n  /**\n   * Creates and returns the default vertex style.\n   */\n  createDefaultVertexStyle() {\n    const style = {};\n    style.shape = SHAPE.RECTANGLE;\n    style.perimeter = 'rectanglePerimeter';\n    style.verticalAlign = ALIGN.MIDDLE;\n    style.align = ALIGN.CENTER;\n    style.fillColor = '#C3D9FF';\n    style.strokeColor = '#6482B9';\n    style.fontColor = '#774400';\n    return style;\n  }\n  /**\n   * Creates and returns the default edge style.\n   */\n  createDefaultEdgeStyle() {\n    const style = {};\n    style.shape = SHAPE.CONNECTOR;\n    style.endArrow = ARROW.CLASSIC;\n    style.verticalAlign = ALIGN.MIDDLE;\n    style.align = ALIGN.CENTER;\n    style.strokeColor = '#6482B9';\n    style.fontColor = '#446299';\n    return style;\n  }\n  /**\n   * Sets the default style for vertices using `defaultVertex` as the style name.\n   * @param style The style to be stored.\n   */\n  putDefaultVertexStyle(style) {\n    this.putCellStyle('defaultVertex', style);\n  }\n  /**\n   * Sets the default style for edges using `defaultEdge` as the style name.\n   * @param style The style to be stored.\n   */\n  putDefaultEdgeStyle(style) {\n    this.putCellStyle('defaultEdge', style);\n  }\n  /**\n   * Returns the default style for vertices.\n   */\n  getDefaultVertexStyle() {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion -- the style is set in the constructor\n    return this.styles.get('defaultVertex');\n  }\n  /**\n   * Returns the default style for edges.\n   */\n  getDefaultEdgeStyle() {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion -- the style is set in the constructor\n    return this.styles.get('defaultEdge');\n  }\n  /**\n   * Stores the given {@link CellStateStyle} under the given name in {@link styles}.\n   *\n   * ### Example\n   *\n   * The following example adds a new style called `rounded` into an existing stylesheet:\n   *\n   * ```javascript\n   * const style = {} as CellStateStyle;\n   * style.shape = SHAPE.RECTANGLE;\n   * style.perimeter = PERIMETER.RECTANGLE;\n   * style.rounded = true;\n   * graph.getStylesheet().putCellStyle('rounded', style);\n   * ```\n   *\n   * ### Description\n   *\n   * Note that not all properties will be interpreted by all shapes. For example, the 'line' shape ignores the fill color.\n   * The final call to this method associates the style with a name in the stylesheet.\n   *\n   * The style is used in a cell with the following code:\n   * ```javascript\n   * // model is an instance of GraphDataModel\n   * // style is an instance of CellStyle\n   * model.setStyle(cell, { baseStyleNames: ['rounded'] });\n   * ```\n   *\n   * @param name Name for the style to be stored.\n   * @param style The instance of the style to be stored.\n   */\n  putCellStyle(name, style) {\n    this.styles.set(name, style);\n  }\n  /**\n   * Returns a {@link CellStateStyle} computed by merging the default style, styles referenced in the specified `baseStyleNames`\n   * and the properties of the `cellStyle` parameter.\n   *\n   * The properties are merged by taken the properties from various styles in the following order:\n   *   - default style\n   *   - registered styles referenced in `baseStyleNames`, in the order of the array\n   *   - `cellStyle` parameter\n   *\n   * @param cellStyle An object that represents the style.\n   * @param defaultStyle Default style used as reference to compute the returned style.\n   */\n  getCellStyle(cellStyle, defaultStyle) {\n    let style;\n    if (cellStyle.baseStyleNames) {\n      // creates style with the given baseStyleNames. (merges from left to right)\n      style = cellStyle.baseStyleNames.reduce((acc, styleName) => {\n        return {\n          ...acc,\n          ...this.styles.get(styleName)\n        };\n      }, {\n        ...defaultStyle\n      });\n    } else {\n      style = {\n        ...defaultStyle\n      };\n    }\n    // Merges cellStyle into style\n    style = {\n      ...style,\n      ...cellStyle\n    };\n    // Remove the 'baseStyleNames' that may have been copied from the cellStyle parameter to match the method signature\n    'baseStyleNames' in style && delete style.baseStyleNames;\n    return style;\n  }\n}","map":{"version":3,"names":["ALIGN","ARROW","SHAPE","Stylesheet","constructor","styles","Map","putDefaultVertexStyle","createDefaultVertexStyle","putDefaultEdgeStyle","createDefaultEdgeStyle","style","shape","RECTANGLE","perimeter","verticalAlign","MIDDLE","align","CENTER","fillColor","strokeColor","fontColor","CONNECTOR","endArrow","CLASSIC","putCellStyle","getDefaultVertexStyle","get","getDefaultEdgeStyle","name","set","getCellStyle","cellStyle","defaultStyle","baseStyleNames","reduce","acc","styleName"],"sources":["D:/ospanel/domains/react/react-intro-main/node_modules/@maxgraph/core/dist/view/style/Stylesheet.js"],"sourcesContent":["/*\nCopyright 2021-present The maxGraph project Contributors\nCopyright (c) 2006-2015, JGraph Ltd\nCopyright (c) 2006-2015, Gaudenz Alder\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport { ALIGN, ARROW, SHAPE } from '../../util/Constants';\n/**\n * Defines the appearance of the cells in a graph. See {@link putCellStyle} for an example\n * of creating a new cell style.\n *\n * Existing styles can be cloned using {@link clone} and turned into a string for debugging\n * using {@link toString}.\n *\n * ### Default Styles\n *\n * The stylesheet contains two built-in styles, which are used if no style is defined for\n * a cell:\n *\n * - `defaultVertex`: default style for vertices\n * - `defaultEdge`: default style for edges\n *\n * ### Example\n *\n * ```javascript\n * const defaultVertexStyle = stylesheet.getDefaultVertexStyle();\n * defaultVertexStyle.rounded = true;\n * const defaultEdgeStyle = stylesheet.getDefaultEdgeStyle();\n * defaultEdgeStyle.edgeStyle = EdgeStyle.EntityRelation;\n * ```\n */\nexport class Stylesheet {\n    constructor() {\n        this.styles = new Map();\n        this.putDefaultVertexStyle(this.createDefaultVertexStyle());\n        this.putDefaultEdgeStyle(this.createDefaultEdgeStyle());\n    }\n    /**\n     * Creates and returns the default vertex style.\n     */\n    createDefaultVertexStyle() {\n        const style = {};\n        style.shape = SHAPE.RECTANGLE;\n        style.perimeter = 'rectanglePerimeter';\n        style.verticalAlign = ALIGN.MIDDLE;\n        style.align = ALIGN.CENTER;\n        style.fillColor = '#C3D9FF';\n        style.strokeColor = '#6482B9';\n        style.fontColor = '#774400';\n        return style;\n    }\n    /**\n     * Creates and returns the default edge style.\n     */\n    createDefaultEdgeStyle() {\n        const style = {};\n        style.shape = SHAPE.CONNECTOR;\n        style.endArrow = ARROW.CLASSIC;\n        style.verticalAlign = ALIGN.MIDDLE;\n        style.align = ALIGN.CENTER;\n        style.strokeColor = '#6482B9';\n        style.fontColor = '#446299';\n        return style;\n    }\n    /**\n     * Sets the default style for vertices using `defaultVertex` as the style name.\n     * @param style The style to be stored.\n     */\n    putDefaultVertexStyle(style) {\n        this.putCellStyle('defaultVertex', style);\n    }\n    /**\n     * Sets the default style for edges using `defaultEdge` as the style name.\n     * @param style The style to be stored.\n     */\n    putDefaultEdgeStyle(style) {\n        this.putCellStyle('defaultEdge', style);\n    }\n    /**\n     * Returns the default style for vertices.\n     */\n    getDefaultVertexStyle() {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion -- the style is set in the constructor\n        return this.styles.get('defaultVertex');\n    }\n    /**\n     * Returns the default style for edges.\n     */\n    getDefaultEdgeStyle() {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion -- the style is set in the constructor\n        return this.styles.get('defaultEdge');\n    }\n    /**\n     * Stores the given {@link CellStateStyle} under the given name in {@link styles}.\n     *\n     * ### Example\n     *\n     * The following example adds a new style called `rounded` into an existing stylesheet:\n     *\n     * ```javascript\n     * const style = {} as CellStateStyle;\n     * style.shape = SHAPE.RECTANGLE;\n     * style.perimeter = PERIMETER.RECTANGLE;\n     * style.rounded = true;\n     * graph.getStylesheet().putCellStyle('rounded', style);\n     * ```\n     *\n     * ### Description\n     *\n     * Note that not all properties will be interpreted by all shapes. For example, the 'line' shape ignores the fill color.\n     * The final call to this method associates the style with a name in the stylesheet.\n     *\n     * The style is used in a cell with the following code:\n     * ```javascript\n     * // model is an instance of GraphDataModel\n     * // style is an instance of CellStyle\n     * model.setStyle(cell, { baseStyleNames: ['rounded'] });\n     * ```\n     *\n     * @param name Name for the style to be stored.\n     * @param style The instance of the style to be stored.\n     */\n    putCellStyle(name, style) {\n        this.styles.set(name, style);\n    }\n    /**\n     * Returns a {@link CellStateStyle} computed by merging the default style, styles referenced in the specified `baseStyleNames`\n     * and the properties of the `cellStyle` parameter.\n     *\n     * The properties are merged by taken the properties from various styles in the following order:\n     *   - default style\n     *   - registered styles referenced in `baseStyleNames`, in the order of the array\n     *   - `cellStyle` parameter\n     *\n     * @param cellStyle An object that represents the style.\n     * @param defaultStyle Default style used as reference to compute the returned style.\n     */\n    getCellStyle(cellStyle, defaultStyle) {\n        let style;\n        if (cellStyle.baseStyleNames) {\n            // creates style with the given baseStyleNames. (merges from left to right)\n            style = cellStyle.baseStyleNames.reduce((acc, styleName) => {\n                return {\n                    ...acc,\n                    ...this.styles.get(styleName),\n                };\n            }, { ...defaultStyle });\n        }\n        else {\n            style = { ...defaultStyle };\n        }\n        // Merges cellStyle into style\n        style = {\n            ...style,\n            ...cellStyle,\n        };\n        // Remove the 'baseStyleNames' that may have been copied from the cellStyle parameter to match the method signature\n        'baseStyleNames' in style && delete style.baseStyleNames;\n        return style;\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}