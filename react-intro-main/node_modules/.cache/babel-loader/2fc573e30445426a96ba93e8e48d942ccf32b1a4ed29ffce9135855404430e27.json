{"ast":null,"code":"'use strict';\n\nconst tt = require('onml/tt.js');\nconst scaled = (d, sx, sy) => {\n  if (sy === undefined) {\n    sy = sx;\n  }\n  let i = 0;\n  while (i < d.length) {\n    switch (d[i].toLowerCase()) {\n      case 'h':\n        while (i < d.length && !isNaN(d[i + 1])) {\n          d[i + 1] *= sx;\n          i++;\n        }\n        break;\n      case 'v':\n        while (i < d.length && !isNaN(d[i + 1])) {\n          d[i + 1] *= sy;\n          i++;\n        }\n        break;\n      case 'm':\n      case 'l':\n      case 't':\n        while (i + 1 < d.length && !isNaN(d[i + 1])) {\n          d[i + 1] *= sx;\n          d[i + 2] *= sy;\n          i += 2;\n        }\n        break;\n      case 'q':\n        while (i + 3 < d.length && !isNaN(d[i + 1])) {\n          d[i + 1] *= sx;\n          d[i + 2] *= sy;\n          d[i + 3] *= sx;\n          d[i + 4] *= sy;\n          i += 4;\n        }\n        break;\n      case 'a':\n        while (i + 6 < d.length && !isNaN(d[i + 1])) {\n          d[i + 1] *= sx;\n          d[i + 2] *= sy;\n          d[i + 6] *= sx;\n          d[i + 7] *= sy;\n          i += 7;\n        }\n        break;\n    }\n    i++;\n  }\n  return d;\n};\nfunction scale(d, cfg) {\n  if (typeof d === 'string') {\n    d = d.trim().split(/[\\s,]+/);\n  }\n  if (!Array.isArray(d)) {\n    return;\n  }\n  return scaled(d, 2 * cfg.xs, -cfg.ys);\n}\nfunction renderLane(wave, idx, cfg) {\n  if (Array.isArray(wave)) {\n    const tag = wave[0];\n    const attr = wave[1];\n    if (tag === 'pw' && typeof attr === 'object') {\n      const d = scale(attr.d, cfg);\n      return ['g', tt(0, cfg.yo * idx + cfg.ys + cfg.y0), ['path', {\n        style: 'fill:none;stroke:#000;stroke-width:1px;',\n        d: d\n      }]];\n    }\n  }\n}\nfunction renderPieceWise(lanes, index, cfg) {\n  let res = ['g'];\n  lanes.map((row, idx) => {\n    const wave = row.wave;\n    if (Array.isArray(wave)) {\n      res.push(renderLane(wave, idx, cfg));\n    }\n  });\n  return res;\n}\nmodule.exports = renderPieceWise;","map":{"version":3,"names":["tt","require","scaled","d","sx","sy","undefined","i","length","toLowerCase","isNaN","scale","cfg","trim","split","Array","isArray","xs","ys","renderLane","wave","idx","tag","attr","yo","y0","style","renderPieceWise","lanes","index","res","map","row","push","module","exports"],"sources":["D:/ospanel/domains/react/react-intro-main/node_modules/wavedrom/lib/render-piece-wise.js"],"sourcesContent":["'use strict';\n\nconst tt = require('onml/tt.js');\n\nconst scaled = (d, sx, sy) => {\n    if (sy === undefined) {\n        sy = sx;\n    }\n    let i = 0;\n    while (i < d.length) {\n        switch (d[i].toLowerCase()) {\n        case 'h':\n            while ((i < d.length) && !isNaN(d[i + 1])) {\n                d[i + 1] *= sx; i++;\n            }\n            break;\n        case 'v':\n            while ((i < d.length) && !isNaN(d[i + 1])) {\n                d[i + 1] *= sy; i++;\n            }\n            break;\n        case 'm':\n        case 'l':\n        case 't':\n            while (((i + 1) < d.length) && !isNaN(d[i + 1])) {\n                d[i + 1] *= sx; d[i + 2] *= sy; i += 2;\n            }\n            break;\n        case 'q':\n            while (((i + 3) < d.length) && !isNaN(d[i + 1])) {\n                d[i + 1] *= sx; d[i + 2] *= sy; d[i + 3] *= sx; d[i + 4] *= sy; i += 4;\n            }\n            break;\n        case 'a':\n            while (((i + 6) < d.length) && !isNaN(d[i + 1])) {\n                d[i + 1] *= sx; d[i + 2] *= sy; d[i + 6] *= sx; d[i + 7] *= sy; i += 7;\n            }\n            break;\n        }\n        i++;\n    }\n    return d;\n};\n\nfunction scale (d, cfg) {\n    if (typeof d === 'string') {\n        d = d.trim().split(/[\\s,]+/);\n    }\n\n    if (!Array.isArray(d)) {\n        return;\n    }\n\n    return scaled(d, 2 * cfg.xs, -cfg.ys);\n}\n\nfunction renderLane (wave, idx, cfg) {\n    if (Array.isArray(wave)) {\n        const tag = wave[0];\n        const attr = wave[1];\n        if (tag === 'pw' && (typeof attr === 'object')) {\n            const d = scale(attr.d, cfg);\n            return ['g',\n                tt(0, cfg.yo * idx + cfg.ys + cfg.y0),\n                ['path', {style: 'fill:none;stroke:#000;stroke-width:1px;', d: d}]\n            ];\n        }\n    }\n}\n\nfunction renderPieceWise (lanes, index, cfg) {\n    let res = ['g'];\n    lanes.map((row, idx) => {\n        const wave = row.wave;\n        if (Array.isArray(wave)) {\n            res.push(renderLane(wave, idx, cfg));\n        }\n    });\n    return res;\n}\n\nmodule.exports = renderPieceWise;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}