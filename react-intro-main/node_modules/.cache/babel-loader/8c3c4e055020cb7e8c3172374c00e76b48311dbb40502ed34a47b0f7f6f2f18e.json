{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { getBaseLayerHoverDelegate } from '../hover/hoverDelegate2.js';\nimport { getDefaultHoverDelegate } from '../hover/hoverDelegateFactory.js';\nimport { renderLabelWithIcons } from '../iconLabel/iconLabels.js';\nimport { Disposable } from '../../../common/lifecycle.js';\nimport * as objects from '../../../common/objects.js';\n/**\n * A widget which can render a label with substring highlights, often\n * originating from a filter function like the fuzzy matcher.\n */\nexport class HighlightedLabel extends Disposable {\n  /**\n   * Create a new {@link HighlightedLabel}.\n   *\n   * @param container The parent container to append to.\n   */\n  constructor(container, options) {\n    var _options$supportIcons;\n    super();\n    this.options = options;\n    this.text = '';\n    this.title = '';\n    this.highlights = [];\n    this.didEverRender = false;\n    this.supportIcons = (_options$supportIcons = options === null || options === void 0 ? void 0 : options.supportIcons) !== null && _options$supportIcons !== void 0 ? _options$supportIcons : false;\n    this.domNode = dom.append(container, dom.$('span.monaco-highlighted-label'));\n  }\n  /**\n   * The label's DOM node.\n   */\n  get element() {\n    return this.domNode;\n  }\n  /**\n   * Set the label and highlights.\n   *\n   * @param text The label to display.\n   * @param highlights The ranges to highlight.\n   * @param title An optional title for the hover tooltip.\n   * @param escapeNewLines Whether to escape new lines.\n   * @returns\n   */\n  set(text) {\n    let highlights = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    let title = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n    let escapeNewLines = arguments.length > 3 ? arguments[3] : undefined;\n    if (!text) {\n      text = '';\n    }\n    if (escapeNewLines) {\n      // adjusts highlights inplace\n      text = HighlightedLabel.escapeNewLines(text, highlights);\n    }\n    if (this.didEverRender && this.text === text && this.title === title && objects.equals(this.highlights, highlights)) {\n      return;\n    }\n    this.text = text;\n    this.title = title;\n    this.highlights = highlights;\n    this.render();\n  }\n  render() {\n    var _this$options;\n    const children = [];\n    let pos = 0;\n    for (const highlight of this.highlights) {\n      if (highlight.end === highlight.start) {\n        continue;\n      }\n      if (pos < highlight.start) {\n        const substring = this.text.substring(pos, highlight.start);\n        if (this.supportIcons) {\n          children.push(...renderLabelWithIcons(substring));\n        } else {\n          children.push(substring);\n        }\n        pos = highlight.start;\n      }\n      const substring = this.text.substring(pos, highlight.end);\n      const element = dom.$('span.highlight', undefined, ...(this.supportIcons ? renderLabelWithIcons(substring) : [substring]));\n      if (highlight.extraClasses) {\n        element.classList.add(...highlight.extraClasses);\n      }\n      children.push(element);\n      pos = highlight.end;\n    }\n    if (pos < this.text.length) {\n      const substring = this.text.substring(pos);\n      if (this.supportIcons) {\n        children.push(...renderLabelWithIcons(substring));\n      } else {\n        children.push(substring);\n      }\n    }\n    dom.reset(this.domNode, ...children);\n    if ((_this$options = this.options) !== null && _this$options !== void 0 && (_this$options = _this$options.hoverDelegate) !== null && _this$options !== void 0 && _this$options.showNativeHover) {\n      /* While custom hover is not inside custom hover */\n      this.domNode.title = this.title;\n    } else {\n      if (!this.customHover && this.title !== '') {\n        var _this$options$hoverDe, _this$options2;\n        const hoverDelegate = (_this$options$hoverDe = (_this$options2 = this.options) === null || _this$options2 === void 0 ? void 0 : _this$options2.hoverDelegate) !== null && _this$options$hoverDe !== void 0 ? _this$options$hoverDe : getDefaultHoverDelegate('mouse');\n        this.customHover = this._register(getBaseLayerHoverDelegate().setupManagedHover(hoverDelegate, this.domNode, this.title));\n      } else if (this.customHover) {\n        this.customHover.update(this.title);\n      }\n    }\n    this.didEverRender = true;\n  }\n  static escapeNewLines(text, highlights) {\n    let total = 0;\n    let extra = 0;\n    return text.replace(/\\r\\n|\\r|\\n/g, (match, offset) => {\n      extra = match === '\\r\\n' ? -1 : 0;\n      offset += total;\n      for (const highlight of highlights) {\n        if (highlight.end <= offset) {\n          continue;\n        }\n        if (highlight.start >= offset) {\n          highlight.start += extra;\n        }\n        if (highlight.end >= offset) {\n          highlight.end += extra;\n        }\n      }\n      total += extra;\n      return '\\u23CE';\n    });\n  }\n}","map":{"version":3,"names":["dom","getBaseLayerHoverDelegate","getDefaultHoverDelegate","renderLabelWithIcons","Disposable","objects","HighlightedLabel","constructor","container","options","_options$supportIcons","text","title","highlights","didEverRender","supportIcons","domNode","append","$","element","set","arguments","length","undefined","escapeNewLines","equals","render","_this$options","children","pos","highlight","end","start","substring","push","extraClasses","classList","add","reset","hoverDelegate","showNativeHover","customHover","_this$options$hoverDe","_this$options2","_register","setupManagedHover","update","total","extra","replace","match","offset"],"sources":["D:/ospanel/domains/react/react-intro-main/node_modules/monaco-editor/esm/vs/base/browser/ui/highlightedlabel/highlightedLabel.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { getBaseLayerHoverDelegate } from '../hover/hoverDelegate2.js';\nimport { getDefaultHoverDelegate } from '../hover/hoverDelegateFactory.js';\nimport { renderLabelWithIcons } from '../iconLabel/iconLabels.js';\nimport { Disposable } from '../../../common/lifecycle.js';\nimport * as objects from '../../../common/objects.js';\n/**\n * A widget which can render a label with substring highlights, often\n * originating from a filter function like the fuzzy matcher.\n */\nexport class HighlightedLabel extends Disposable {\n    /**\n     * Create a new {@link HighlightedLabel}.\n     *\n     * @param container The parent container to append to.\n     */\n    constructor(container, options) {\n        super();\n        this.options = options;\n        this.text = '';\n        this.title = '';\n        this.highlights = [];\n        this.didEverRender = false;\n        this.supportIcons = options?.supportIcons ?? false;\n        this.domNode = dom.append(container, dom.$('span.monaco-highlighted-label'));\n    }\n    /**\n     * The label's DOM node.\n     */\n    get element() {\n        return this.domNode;\n    }\n    /**\n     * Set the label and highlights.\n     *\n     * @param text The label to display.\n     * @param highlights The ranges to highlight.\n     * @param title An optional title for the hover tooltip.\n     * @param escapeNewLines Whether to escape new lines.\n     * @returns\n     */\n    set(text, highlights = [], title = '', escapeNewLines) {\n        if (!text) {\n            text = '';\n        }\n        if (escapeNewLines) {\n            // adjusts highlights inplace\n            text = HighlightedLabel.escapeNewLines(text, highlights);\n        }\n        if (this.didEverRender && this.text === text && this.title === title && objects.equals(this.highlights, highlights)) {\n            return;\n        }\n        this.text = text;\n        this.title = title;\n        this.highlights = highlights;\n        this.render();\n    }\n    render() {\n        const children = [];\n        let pos = 0;\n        for (const highlight of this.highlights) {\n            if (highlight.end === highlight.start) {\n                continue;\n            }\n            if (pos < highlight.start) {\n                const substring = this.text.substring(pos, highlight.start);\n                if (this.supportIcons) {\n                    children.push(...renderLabelWithIcons(substring));\n                }\n                else {\n                    children.push(substring);\n                }\n                pos = highlight.start;\n            }\n            const substring = this.text.substring(pos, highlight.end);\n            const element = dom.$('span.highlight', undefined, ...this.supportIcons ? renderLabelWithIcons(substring) : [substring]);\n            if (highlight.extraClasses) {\n                element.classList.add(...highlight.extraClasses);\n            }\n            children.push(element);\n            pos = highlight.end;\n        }\n        if (pos < this.text.length) {\n            const substring = this.text.substring(pos);\n            if (this.supportIcons) {\n                children.push(...renderLabelWithIcons(substring));\n            }\n            else {\n                children.push(substring);\n            }\n        }\n        dom.reset(this.domNode, ...children);\n        if (this.options?.hoverDelegate?.showNativeHover) {\n            /* While custom hover is not inside custom hover */\n            this.domNode.title = this.title;\n        }\n        else {\n            if (!this.customHover && this.title !== '') {\n                const hoverDelegate = this.options?.hoverDelegate ?? getDefaultHoverDelegate('mouse');\n                this.customHover = this._register(getBaseLayerHoverDelegate().setupManagedHover(hoverDelegate, this.domNode, this.title));\n            }\n            else if (this.customHover) {\n                this.customHover.update(this.title);\n            }\n        }\n        this.didEverRender = true;\n    }\n    static escapeNewLines(text, highlights) {\n        let total = 0;\n        let extra = 0;\n        return text.replace(/\\r\\n|\\r|\\n/g, (match, offset) => {\n            extra = match === '\\r\\n' ? -1 : 0;\n            offset += total;\n            for (const highlight of highlights) {\n                if (highlight.end <= offset) {\n                    continue;\n                }\n                if (highlight.start >= offset) {\n                    highlight.start += extra;\n                }\n                if (highlight.end >= offset) {\n                    highlight.end += extra;\n                }\n            }\n            total += extra;\n            return '\\u23CE';\n        });\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}