{"ast":null,"code":"var _jsxFileName = \"D:\\\\ospanel\\\\domains\\\\react\\\\react-intro\\\\src\\\\components\\\\GraphComponent.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport { DomHelpers, EdgeStyle, Graph, ModelXmlSerializer, Point, popup, RubberBandHandler } from '@maxgraph/core';\nimport { globalValues, rubberBandValues } from './shared/args.js';\nimport { configureImagesBasePath, createGraphContainer } from './shared/configure.js';\nimport './GraphComponent.css'; // Импортируем файл стилей\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GraphComponent = ({\n  label,\n  ...args\n}) => {\n  _s();\n  const graphContainerRef = useRef(null);\n  useEffect(() => {\n    configureImagesBasePath();\n    const container = createGraphContainer(args);\n    graphContainerRef.current.appendChild(container);\n\n    // Creates the graph inside the given container\n    const graph = new Graph(container);\n    graph.setConnectable(true);\n    graph.setTooltips(true);\n\n    // Sets the default edge style\n    const style = graph.getStylesheet().getDefaultEdgeStyle();\n    style.edgeStyle = EdgeStyle.ElbowConnector;\n\n    // Ports are not used as terminals for edges, they are\n    // only used to compute the graphical connection point\n    graph.isPort = function (cell) {\n      var _geo$relative;\n      const geo = cell === null || cell === void 0 ? void 0 : cell.getGeometry();\n      return (_geo$relative = geo === null || geo === void 0 ? void 0 : geo.relative) !== null && _geo$relative !== void 0 ? _geo$relative : false;\n    };\n\n    // Implements a tooltip that shows the actual\n    // source and target of an edge\n    graph.getTooltipForCell = function (cell) {\n      if (cell && cell.isEdge()) {\n        const source = cell.getTerminal(true);\n        const target = cell.getTerminal(false);\n        if (source && target) {\n          return `${this.convertValueToString(source)} => ${this.convertValueToString(target)}`;\n        }\n      }\n      return Graph.prototype.getTooltipForCell.apply(this, [cell]);\n    };\n\n    // Removes the folding icon and disables any folding\n    graph.isCellFoldable = _cell => false;\n\n    // Enables rubberband selection\n    if (args.rubberBand) new RubberBandHandler(graph);\n\n    // Gets the default parent for inserting new cells. This\n    // is normally the first child of the root (ie. layer 0).\n    const parent = graph.getDefaultParent();\n\n    // Adds cells to the model in a single step\n    graph.batchUpdate(() => {\n      const v1 = graph.insertVertex(parent, null, 'Hello', 20, 80, 80, 30);\n      v1.setConnectable(false);\n      const v11 = graph.insertVertex(v1, null, '', 1, 1, 10, 10);\n      if (v11.geometry) {\n        v11.geometry.offset = new Point(-5, -5);\n        v11.geometry.relative = true;\n      }\n      const v12 = graph.insertVertex(v1, null, '', 1, 0, 10, 10);\n      if (v12.geometry) {\n        v12.geometry.offset = new Point(-5, -5);\n        v12.geometry.relative = true;\n      }\n      const v2 = graph.insertVertex(parent, null, 'World!', 200, 150, 80, 30);\n      const v3 = graph.insertVertex(parent, null, 'World2', 200, 20, 80, 30);\n      graph.insertEdge(parent, null, '', v11, v2);\n      graph.insertEdge(parent, null, '', v12, v3);\n    });\n    const controller = document.createElement('div');\n    graphContainerRef.current.appendChild(controller);\n    const button = DomHelpers.button('View XML', function () {\n      const xml = new ModelXmlSerializer(graph.getDataModel()).export();\n      popup(xml, true);\n    });\n    controller.appendChild(button);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"graph-container\",\n    ref: graphContainerRef\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 10\n  }, this); // Добавляем класс \"graph-container\"\n};\n_s(GraphComponent, \"T2LhyAvPiiq95tTQ9P6wK78bc+c=\");\n_c = GraphComponent;\nexport default GraphComponent;\nvar _c;\n$RefreshReg$(_c, \"GraphComponent\");","map":{"version":3,"names":["React","useEffect","useRef","DomHelpers","EdgeStyle","Graph","ModelXmlSerializer","Point","popup","RubberBandHandler","globalValues","rubberBandValues","configureImagesBasePath","createGraphContainer","jsxDEV","_jsxDEV","GraphComponent","label","args","_s","graphContainerRef","container","current","appendChild","graph","setConnectable","setTooltips","style","getStylesheet","getDefaultEdgeStyle","edgeStyle","ElbowConnector","isPort","cell","_geo$relative","geo","getGeometry","relative","getTooltipForCell","isEdge","source","getTerminal","target","convertValueToString","prototype","apply","isCellFoldable","_cell","rubberBand","parent","getDefaultParent","batchUpdate","v1","insertVertex","v11","geometry","offset","v12","v2","v3","insertEdge","controller","document","createElement","button","xml","getDataModel","export","className","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/ospanel/domains/react/react-intro/src/components/GraphComponent.jsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\nimport {\r\n  DomHelpers,\r\n  EdgeStyle,\r\n  Graph,\r\n  ModelXmlSerializer,\r\n  Point,\r\n  popup,\r\n  RubberBandHandler,\r\n} from '@maxgraph/core';\r\n\r\nimport {\r\n  globalValues,\r\n  rubberBandValues,\r\n} from './shared/args.js';\r\nimport { configureImagesBasePath, createGraphContainer } from './shared/configure.js';\r\n\r\nimport './GraphComponent.css'; // Импортируем файл стилей\r\n\r\nconst GraphComponent = ({ label, ...args }) => {\r\n  const graphContainerRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    configureImagesBasePath();\r\n\r\n    const container = createGraphContainer(args);\r\n    graphContainerRef.current.appendChild(container);\r\n\r\n    // Creates the graph inside the given container\r\n    const graph = new Graph(container);\r\n    graph.setConnectable(true);\r\n    graph.setTooltips(true);\r\n\r\n    // Sets the default edge style\r\n    const style = graph.getStylesheet().getDefaultEdgeStyle();\r\n    style.edgeStyle = EdgeStyle.ElbowConnector;\r\n\r\n    // Ports are not used as terminals for edges, they are\r\n    // only used to compute the graphical connection point\r\n    graph.isPort = function (cell) {\r\n      const geo = cell?.getGeometry();\r\n      return geo?.relative ?? false;\r\n    };\r\n\r\n    // Implements a tooltip that shows the actual\r\n    // source and target of an edge\r\n    graph.getTooltipForCell = function (cell) {\r\n      if (cell && cell.isEdge()) {\r\n        const source = cell.getTerminal(true);\r\n        const target = cell.getTerminal(false);\r\n        if (source && target) {\r\n          return `${this.convertValueToString(source)} => ${this.convertValueToString(\r\n            target\r\n          )}`;\r\n        }\r\n      }\r\n\r\n      return Graph.prototype.getTooltipForCell.apply(this, [cell]);\r\n    };\r\n\r\n    // Removes the folding icon and disables any folding\r\n    graph.isCellFoldable = (_cell) => false;\r\n\r\n    // Enables rubberband selection\r\n    if (args.rubberBand) new RubberBandHandler(graph);\r\n\r\n    // Gets the default parent for inserting new cells. This\r\n    // is normally the first child of the root (ie. layer 0).\r\n    const parent = graph.getDefaultParent();\r\n\r\n    // Adds cells to the model in a single step\r\n    graph.batchUpdate(() => {\r\n      const v1 = graph.insertVertex(parent, null, 'Hello', 20, 80, 80, 30);\r\n      v1.setConnectable(false);\r\n      const v11 = graph.insertVertex(v1, null, '', 1, 1, 10, 10);\r\n      if (v11.geometry) {\r\n        v11.geometry.offset = new Point(-5, -5);\r\n        v11.geometry.relative = true;\r\n      }\r\n      const v12 = graph.insertVertex(v1, null, '', 1, 0, 10, 10);\r\n      if (v12.geometry) {\r\n        v12.geometry.offset = new Point(-5, -5);\r\n        v12.geometry.relative = true;\r\n      }\r\n      const v2 = graph.insertVertex(parent, null, 'World!', 200, 150, 80, 30);\r\n      const v3 = graph.insertVertex(parent, null, 'World2', 200, 20, 80, 30);\r\n      graph.insertEdge(parent, null, '', v11, v2);\r\n      graph.insertEdge(parent, null, '', v12, v3);\r\n    });\r\n\r\n    const controller = document.createElement('div');\r\n    graphContainerRef.current.appendChild(controller);\r\n\r\n    const button = DomHelpers.button('View XML', function () {\r\n      const xml = new ModelXmlSerializer(graph.getDataModel()).export();\r\n      popup(xml, true);\r\n    });\r\n\r\n    controller.appendChild(button);\r\n  }, []);\r\n\r\n  return <div className=\"graph-container\" ref={graphContainerRef}></div>; // Добавляем класс \"graph-container\"\r\n};\r\n\r\nexport default GraphComponent;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}