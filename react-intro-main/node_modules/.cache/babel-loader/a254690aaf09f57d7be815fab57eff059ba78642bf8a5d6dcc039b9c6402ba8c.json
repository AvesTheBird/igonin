{"ast":null,"code":"import React,{useEffect,useRef,useState}from'react';import axios from'axios';import{popup,ModelXmlSerializer,domUtils,styleUtils,mathUtils,cloneUtils,eventUtils,Graph,InternalEvent,RubberBandHandler,ConnectionHandler,ConnectionConstraint,Point,CylinderShape,CellRenderer,DomHelpers,EdgeStyle,Rectangle,EdgeHandler,StyleRegistry,EdgeSegmentHandler,UndoManager,CellEditorHandler,ConstraintHandler,Guide,ImageBox,GraphView,SelectionHandler,PanningHandler,TooltipHandler,SelectionCellsHandler,PopupMenuHandler,xmlUtils,Codec}from'@maxgraph/core';import{contextMenuTypes,contextMenuValues,globalTypes,globalValues,rubberBandTypes,rubberBandValues}from'./shared/args.js';import{createGraphContainer}from'./shared/configure.js';// style required by RubberBand\nimport'@maxgraph/core/css/common.css';import{render}from'react-dom';import{MyCustomGraph,MyCustomEdgeSegmentHandler,MyCustomGraphView,MyCustomConnectionHandler,MyCustomPanningHandler,MyCustomSelectionHandler,MyCustomEdgeHandler,MyCustomConstraintHandler}from'./MyCustomGraph.jsx';import{jsx as _jsx}from\"react/jsx-runtime\";export const YourComponent=()=>{const importFileInputRef=useRef(null);const graphContainerRef=useRef(null);const[xmlText,setXmlText]=useState('');// Инициализируем переменную для graph\nlet[graphInstance,setGraphInstance]=useState(null);let[variableFromEffect,setVariableFromEffect]=useState(null);const[graph,setGraph]=useState(null);useEffect(()=>{if(graphContainerRef.current){const graphContainer=graphContainerRef.current;const newGraph=new Graph(graphContainerRef.current);setGraph(newGraph);// Сохраняем граф в состояние\n////\n////\nconst parentContainer=document.createElement('div');const container=createGraphContainer({imageUrl:'images/grid.gif'});parentContainer.appendChild(container);//console.log({graph})\n// Changes some default colors\n// TODO Find a way of modifying globally or setting locally! See https://github.com/maxGraph/maxGraph/issues/192\n//constants.SHADOWCOLOR = '#C0C0C0';\nlet joinNodeSize=7;let strokeWidth=2;// Switch for black background and bright styles\nlet invert=false;let MyCustomCellEditorHandler;if(!graphInstance){const newGraph=new MyCustomGraph(graphContainer,null,[]);setGraphInstance(newGraph);}if(invert){container.style.backgroundColor='black';// White in-place editor text color\nMyCustomCellEditorHandler=class extends CellEditorHandler{startEditing(cell,trigger){super.startEditing.apply(this,arguments);if(this.textarea!=null){this.textarea.style.color='#FFFFFF';}}};}else{MyCustomCellEditorHandler=CellEditorHandler;}// Imlements a custom resistor shape. Direction currently ignored here.\nclass ResistorShape extends CylinderShape{constructor(){// TODO: The original didn't seem to call the super\nsuper(null,null,null,null);}redrawPath(path,x,y,w,h,isForeground){let dx=w/16;if(isForeground){path.moveTo(0,h/2);path.lineTo(2*dx,h/2);path.lineTo(3*dx,0);path.lineTo(5*dx,h);path.lineTo(7*dx,0);path.lineTo(9*dx,h);path.lineTo(11*dx,0);path.lineTo(13*dx,h);path.lineTo(14*dx,h/2);path.lineTo(16*dx,h/2);path.end();}}}CellRenderer.registerShape('resistor',ResistorShape);// Imlements a custom resistor shape. Direction currently ignored here.\nEdgeStyle.WireConnector=function(state,source,target,hints,result){// Creates array of all way- and terminalpoints\nlet pts=state.absolutePoints;let horizontal=true;let hint=null;// Gets the initial connection from the source terminal or edge\nif(source!=null&&source.cell.isEdge()){horizontal=state.style.sourceConstraint=='horizontal';}else if(source!=null){horizontal=source.style.portConstraint!='vertical';// Checks the direction of the shape and rotates\nlet direction=source.style.direction;if(direction=='north'||direction=='south'){horizontal=!horizontal;}}// Adds the first point\n// TODO: Should move along connected segment\nlet pt=pts[0];if(pt==null&&source!=null){pt=new Point(state.view.getRoutingCenterX(source),state.view.getRoutingCenterY(source));}else if(pt!=null){pt=pt.clone();}let first=pt;// Adds the waypoints\nif(hints!=null&&hints.length>0){// FIXME: First segment not movable\n/*hint = state.view.transformControlPoint(state, hints[0]);\n      MaxLog.show();\n      MaxLog.debug(hints.length,'hints0.y='+hint.y, pt.y)\n\n      if (horizontal && Math.floor(hint.y) != Math.floor(pt.y))\n      {\n        MaxLog.show();\n        MaxLog.debug('add waypoint');\n\n        pt = new Point(pt.x, hint.y);\n        result.push(pt);\n        pt = pt.clone();\n        //horizontal = !horizontal;\n      }*/for(let i=0;i<hints.length;i++){horizontal=!horizontal;hint=state.view.transformControlPoint(state,hints[i]);if(horizontal){if(pt.y!==hint.y){pt.y=hint.y;result.push(pt.clone());}}else if(pt.x!==hint.x){pt.x=hint.x;result.push(pt.clone());}}}else{hint=pt;}// Adds the last point\npt=pts[pts.length-1];// TODO: Should move along connected segment\nif(pt==null&&target!=null){pt=new Point(state.view.getRoutingCenterX(target),state.view.getRoutingCenterY(target));}if(horizontal){if(pt.y!==hint.y&&first.x!==pt.x){result.push(new Point(pt.x,hint.y));}}else if(pt.x!==hint.x&&first.y!==pt.y){result.push(new Point(hint.x,pt.y));}};StyleRegistry.putValue('wireEdgeStyle',EdgeStyle.WireConnector);let graph=new MyCustomGraph(container,null,[MyCustomCellEditorHandler,TooltipHandler,SelectionCellsHandler,PopupMenuHandler,MyCustomConnectionHandler,MyCustomSelectionHandler,MyCustomPanningHandler]);setVariableFromEffect(graph);let labelBackground=invert?'#000000':'#FFFFFF';let fontColor=invert?'#FFFFFF':'#000000';let strokeColor=invert?'#C0C0C0':'#000000';let fillColor=invert?'none':'#FFFFFF';graph.view.scale=1;graph.setPanning(true);graph.setConnectable(true);graph.setConnectableEdges(true);graph.setDisconnectOnMove(false);graph.foldingEnabled=false;//Maximum size\ngraph.maximumGraphBounds=new Rectangle(0,0,1000,1000);graph.border=50;graph.spacingLeft=30;// Enables return key to stop editing (use shift-enter for newlines)\ngraph.setEnterStopsCellEditing(true);// Adds rubberband selection\nnew RubberBandHandler(graph);// Adds a special tooltip for edges\ngraph.setTooltips(true);let style=graph.getStylesheet().getDefaultEdgeStyle();delete style.endArrow;style.strokeColor=strokeColor;style.labelBackgroundColor=labelBackground;style.edgeStyle='wireEdgeStyle';style.fontColor=fontColor;style.fontSize='9';style.movable='0';style.strokeWidth=strokeWidth;//style.rounded = '1';\n// Sets join node size\nstyle.startSize=joinNodeSize;style.endSize=joinNodeSize;style=graph.getStylesheet().getDefaultVertexStyle();style.gradientDirection='south';//style.gradientColor = '#909090';\nstyle.strokeColor=strokeColor;//style.fillColor = '#e0e0e0';\nstyle.fillColor='none';style.fontColor=fontColor;style.fontStyle='1';style.fontSize='12';style.resizable='0';style.rounded='1';style.strokeWidth=strokeWidth;// инородное дерьмо\nconst btn1=document.getElementById('btn1');const btn2=document.getElementById('btn2');const btn3=document.getElementById('btn3');const btn4=document.getElementById('btn4');const btn5=document.getElementById('btn5');const btn6=document.getElementById('btn6');const btn7=document.getElementById('btn7');const update=event=>{var parent=graph.getDefaultParent();var doc=xmlUtils.createXmlDocument();graph.batchUpdate(()=>{const targetId=event.target.id;if(targetId==='btn3'){var v1=graph.insertVertex(parent,null,'',80,40,40,80,'verticalLabelPosition=top;verticalAlign=bottom;shadow=1;fillColor='+fillColor);v1.setConnectable(false);var v11=graph.insertVertex(v1,null,'X',0,0,10,16,{shape:'line',align:'left',verticalAlign:'middle',fontSize:10,routingCenterX:-0.5,spacingLeft:12,fontColor,strokeColor});v11.geometry.relative=true;v11.geometry.offset=new Point(-v11.geometry.width,12);var v12=v11.clone();v12.value='Y';v12.geometry.offset=new Point(-v11.geometry.width,52);v1.insert(v12);var v15=v11.clone();v15.value='';v15.geometry.x=1;v15.style={shape:'line',align:'right',verticalAlign:'middle',fontSize:10,routingCenterX:0.5,spacingRight:12,fontColor:fontColor,strokeColor:strokeColor};v15.geometry.offset=new Point(5,32);v1.insert(v15);var v16=graph.insertVertex(v1,null,'○',0,0,0,0,{shape:'line',align:'right',verticalAlign:'middle',fontSize:30,routingCenterX:0.5,spacingLeft:6,fontColor:fontColor,strokeColor:strokeColor});v16.geometry.x=1;v16.geometry.offset=new Point(49,34);v1.insert(v16);}else if(targetId==='btn6'){var inputVertex=graph.insertVertex(parent,null,'вход',80,40,40,80,{shape:'ellipse',fillColor:'green',fontColor:'white',strokeColor:'black'});inputVertex.setConnectable(true);console.log(\"blyaa\");}else if(targetId==='btn7'){var outputVertex=graph.insertVertex(parent,null,'Выход',80,40,40,80,{shape:'ellipse',fillColor:'red',fontColor:'white',strokeColor:'black'});outputVertex.setConnectable(true);}else if(targetId==='btn1'){var v1=graph.insertVertex(parent,null,'',180,40,40,80,'verticalLabelPosition=top;verticalAlign=bottom;shadow=1;fillColor='+fillColor);v1.setConnectable(false);var v11=graph.insertVertex(v1,null,'X',0,0,10,16,{shape:'line',align:'left',verticalAlign:'middle',fontSize:10,routingCenterX:-0.5,spacingLeft:12,fontColor:fontColor,strokeColor:strokeColor});v11.geometry.relative=true;v11.geometry.offset=new Point(-v11.geometry.width,12);var v12=v11.clone();v12.value='Y';v12.geometry.offset=new Point(-v11.geometry.width,52);v1.insert(v12);var v15=v11.clone();v15.value='';v15.geometry.x=1;v15.style={shape:'line',align:'right',verticalAlign:'middle',fontSize:10,routingCenterX:0.5,spacingRight:12,fontColor:fontColor,strokeColor:strokeColor};v15.geometry.offset=new Point(0,32);v1.insert(v15);var v16=graph.insertVertex(v1,null,'&',0,0,0,0,{shape:'line',align:'right',verticalAlign:'middle',fontSize:20,routingCenterX:0.5,spacingLeft:6,fontColor:fontColor,strokeColor:strokeColor});v16.geometry.x=1;v16.geometry.offset=new Point(28.5,37);v1.insert(v16);}else if(targetId==='btn2'){var v1=graph.insertVertex(parent,null,'',250,40,40,80,'verticalLabelPosition=top;verticalAlign=bottom;shadow=1;fillColor='+fillColor);v1.setConnectable(false);var v11=graph.insertVertex(v1,null,'X',0,0,10,16,{shape:'line',align:'left',verticalAlign:'middle',fontSize:10,routingCenterX:-0.5,spacingLeft:12,fontColor:fontColor,strokeColor:strokeColor});v11.geometry.relative=true;v11.geometry.offset=new Point(-v11.geometry.width,12);var v12=v11.clone();v12.value='Y';v12.geometry.offset=new Point(-v11.geometry.width,52);v1.insert(v12);var v15=v11.clone();v15.value='';v15.geometry.x=1;v15.style={shape:'line',align:'right',verticalAlign:'middle',fontSize:10,routingCenterX:0.5,spacingRight:12,fontColor:fontColor,strokeColor:strokeColor};v15.geometry.offset=new Point(0,32);v1.insert(v15);var v16=graph.insertVertex(v1,null,'|',0,0,0,0,{shape:'line',align:'right',verticalAlign:'middle',fontSize:20,routingCenterX:0.5,spacingLeft:6,fontColor:fontColor,strokeColor:strokeColor});v16.geometry.x=1;v16.geometry.offset=new Point(24,37);v1.insert(v16);}else if(targetId==='btn5'){var v1=graph.insertVertex(parent,null,'',180,140,40,80,'verticalLabelPosition=top;verticalAlign=bottom;shadow=1;fillColor='+fillColor);v1.setConnectable(false);var v11=graph.insertVertex(v1,null,'X',0,0,10,16,{shape:'line',align:'left',verticalAlign:'middle',fontSize:10,routingCenterX:-0.5,spacingLeft:12,fontColor:fontColor,strokeColor:strokeColor});v11.geometry.relative=true;v11.geometry.offset=new Point(-v11.geometry.width,12);var v12=v11.clone();v12.value='Y';v12.geometry.offset=new Point(-v11.geometry.width,52);v1.insert(v12);var v15=v11.clone();v15.value='';v15.geometry.x=1;v15.style={shape:'line',align:'right',verticalAlign:'middle',fontSize:10,routingCenterX:0.5,spacingRight:12,fontColor:fontColor,strokeColor:strokeColor};v15.geometry.offset=new Point(0,32);v1.insert(v15);var v16=graph.insertVertex(v1,null,'==',0,0,0,0,{shape:'line',align:'right',verticalAlign:'middle',fontSize:15,routingCenterX:0.5,spacingLeft:6,fontColor:fontColor,strokeColor:strokeColor});v16.geometry.x=1;v16.geometry.offset=new Point(30,38);v1.insert(v16);}else if(targetId==='btn4'){var v1=graph.insertVertex(parent,null,'',80,140,40,80,'verticalLabelPosition=top;verticalAlign=bottom;shadow=1;fillColor='+fillColor);v1.setConnectable(false);var v11=graph.insertVertex(v1,null,'',0,0,14,16,{shape:'line',align:'left',verticalAlign:'middle',fontSize:10,routingCenterX:-0.5,spacingLeft:12,fontColor:fontColor,strokeColor:strokeColor});v11.geometry.relative=true;v11.geometry.offset=new Point(-v11.geometry.width,12);var v12=v11.clone();v12.value='';v12.geometry.offset=new Point(-v11.geometry.width,52);v1.insert(v12);var v15=v11.clone();v15.value='';v15.geometry.x=1;v15.style={shape:'line',align:'right',verticalAlign:'middle',fontSize:10,routingCenterX:0.5,spacingRight:12,fontColor:fontColor,strokeColor:strokeColor};v15.geometry.offset=new Point(0,32);v1.insert(v15);var v16=graph.insertVertex(v1,null,'○',0,0,0,0,{shape:'line',align:'right',verticalAlign:'middle',fontSize:25,routingCenterX:0.5,spacingLeft:6,fontColor:fontColor,strokeColor:strokeColor});v16.geometry.x=1;v16.geometry.offset=new Point(8,15);v1.insert(v16);var v17=graph.insertVertex(v1,null,'X',0,0,0,0,{shape:'line',align:'right',verticalAlign:'middle',fontSize:10,routingCenterX:0.5,spacingLeft:6,fontColor:fontColor,strokeColor:strokeColor});v17.geometry.x=1;v17.geometry.offset=new Point(14,20);v1.insert(v17);var v18=graph.insertVertex(v1,null,'Y',0,0,0,0,{shape:'line',align:'right',verticalAlign:'middle',fontSize:10,routingCenterX:0.5,spacingLeft:6,fontColor:fontColor,strokeColor:strokeColor});v18.geometry.x=1;v18.geometry.offset=new Point(14,59);v1.insert(v18);}});};btn1.addEventListener('click',update);btn2.addEventListener('click',update);btn3.addEventListener('click',update);btn4.addEventListener('click',update);btn5.addEventListener('click',update);btn6.addEventListener('click',update);btn7.addEventListener('click',update);const importButton=document.getElementById(\"import\");importButton.onclick=()=>{console.log(graph);const fileInput=document.getElementById(\"importFileInput\");console.log(fileInput);if(fileInput){// Добавляем обработчик события onchange\nfileInput.onchange=function(event){handleFileImport(event);// Вызываем твою функцию handleFileImport\n};fileInput.click();// Открываем диалог выбора файла\nconsole.log(\"клик\");}else{console.log(\"fileInput не найден!\");}};function handleFileImport(event){console.log(\"blyaaa\");// Очищаем граф перед загрузкой новой схемы\nconsole.log(graph);const file=event.target.files[0];if(file){// Вызов функции readXMLFile\nreadXMLFile(file,function(xmlContent){console.log('Файл импортирован: ',xmlContent);// Работаем с содержимым файла\nloadGraphFromXml(xmlContent,graph);// Загружаем граф из XML\n});}else{console.log(\"Файл не выбран!\");}}// Функция чтения XML файла\nfunction readXMLFile(file,callback){const reader=new FileReader();reader.onload=function(e){const xmlContent=e.target.result;callback(xmlContent);// Передаем результат чтения в коллбэк\n};reader.readAsText(file);// Читаем файл как текст\n}// Функция для загрузки графа из XML\nconst loadGraphFromXml=(xml,graph)=>{graph.removeCells(graph.getChildVertices(graph.getDefaultParent()));const node=xmlUtils.parseXml(xml).documentElement;graph.model.beginUpdate();try{console.log(node);const codec=new Codec();// Создаем кодек для декодирования XML\ncodec.decode(node,graph.model);// Декодируем XML и загружаем в модель графа\n}finally{graph.model.endUpdate();// Завершаем транзакцию\ngraph.refresh();}};////////////////////////////////////////////////////////\n// XML \ndocument.getElementById(\"xml\").onclick=()=>{// Получаем XML данные\nconsole.log(graph);const xml=new ModelXmlSerializer(graph.getDataModel()).export();// Создаем новый Blob объект с XML данными\nconst blob=new Blob([xml],{type:'text/xml'});// Создаем ссылку на Blob объект\nconst url=window.URL.createObjectURL(blob);// Создаем ссылку для скачивания\nconst a=document.createElement('a');a.href=url;a.download='data.xml';// Имя файла для скачивания\ndocument.body.appendChild(a);// Инициируем скачивание файла\na.click();// Освобождаем ресурсы\nwindow.URL.revokeObjectURL(url);};///////////////////////////////////////////////////////////\ndocument.getElementById(\"zoom\").onclick=()=>graph.zoomIn();document.getElementById(\"zoomout\").onclick=()=>graph.zoomOut();// Undo/redo\nlet undoManager=new UndoManager();let listener=function(sender,evt){undoManager.undoableEditHappened(evt.getProperty('edit'));};graph.getDataModel().addListener(InternalEvent.UNDO,listener);graph.getView().addListener(InternalEvent.UNDO,listener);document.getElementById(\"undo\").onclick=()=>undoManager.undo();document.getElementById(\"redo\").onclick=()=>undoManager.redo();document.getElementById(\"delete\").onclick=()=>graph.removeCells();// Wire-mode\nlet checkbox=document.getElementById(\"wire\");// Grid\nlet checkbox2=document.getElementById(\"grid\");checkbox2.setAttribute('checked','true');InternalEvent.addListener(checkbox2,'click',function(evt){if(checkbox2.checked){container.style.background='url(./images/grid.gif)';}else{container.style.background='';}container.style.backgroundColor=invert?'black':'white';});InternalEvent.disableContextMenu(container);graphContainer.appendChild(parentContainer);}},[]);return/*#__PURE__*/_jsx(\"div\",{ref:graphContainerRef,style:{width:'100%',height:'100%'}});};","map":{"version":3,"names":["React","useEffect","useRef","useState","axios","popup","ModelXmlSerializer","domUtils","styleUtils","mathUtils","cloneUtils","eventUtils","Graph","InternalEvent","RubberBandHandler","ConnectionHandler","ConnectionConstraint","Point","CylinderShape","CellRenderer","DomHelpers","EdgeStyle","Rectangle","EdgeHandler","StyleRegistry","EdgeSegmentHandler","UndoManager","CellEditorHandler","ConstraintHandler","Guide","ImageBox","GraphView","SelectionHandler","PanningHandler","TooltipHandler","SelectionCellsHandler","PopupMenuHandler","xmlUtils","Codec","contextMenuTypes","contextMenuValues","globalTypes","globalValues","rubberBandTypes","rubberBandValues","createGraphContainer","render","MyCustomGraph","MyCustomEdgeSegmentHandler","MyCustomGraphView","MyCustomConnectionHandler","MyCustomPanningHandler","MyCustomSelectionHandler","MyCustomEdgeHandler","MyCustomConstraintHandler","jsx","_jsx","YourComponent","importFileInputRef","graphContainerRef","xmlText","setXmlText","graphInstance","setGraphInstance","variableFromEffect","setVariableFromEffect","graph","setGraph","current","graphContainer","newGraph","parentContainer","document","createElement","container","imageUrl","appendChild","joinNodeSize","strokeWidth","invert","MyCustomCellEditorHandler","style","backgroundColor","startEditing","cell","trigger","apply","arguments","textarea","color","ResistorShape","constructor","redrawPath","path","x","y","w","h","isForeground","dx","moveTo","lineTo","end","registerShape","WireConnector","state","source","target","hints","result","pts","absolutePoints","horizontal","hint","isEdge","sourceConstraint","portConstraint","direction","pt","view","getRoutingCenterX","getRoutingCenterY","clone","first","length","i","transformControlPoint","push","putValue","labelBackground","fontColor","strokeColor","fillColor","scale","setPanning","setConnectable","setConnectableEdges","setDisconnectOnMove","foldingEnabled","maximumGraphBounds","border","spacingLeft","setEnterStopsCellEditing","setTooltips","getStylesheet","getDefaultEdgeStyle","endArrow","labelBackgroundColor","edgeStyle","fontSize","movable","startSize","endSize","getDefaultVertexStyle","gradientDirection","fontStyle","resizable","rounded","btn1","getElementById","btn2","btn3","btn4","btn5","btn6","btn7","update","event","parent","getDefaultParent","doc","createXmlDocument","batchUpdate","targetId","id","v1","insertVertex","v11","shape","align","verticalAlign","routingCenterX","geometry","relative","offset","width","v12","value","insert","v15","spacingRight","v16","inputVertex","console","log","outputVertex","v17","v18","addEventListener","importButton","onclick","fileInput","onchange","handleFileImport","click","file","files","readXMLFile","xmlContent","loadGraphFromXml","callback","reader","FileReader","onload","e","readAsText","xml","removeCells","getChildVertices","node","parseXml","documentElement","model","beginUpdate","codec","decode","endUpdate","refresh","getDataModel","export","blob","Blob","type","url","window","URL","createObjectURL","a","href","download","body","revokeObjectURL","zoomIn","zoomOut","undoManager","listener","sender","evt","undoableEditHappened","getProperty","addListener","UNDO","getView","undo","redo","checkbox","checkbox2","setAttribute","checked","background","disableContextMenu","ref","height"],"sources":["D:/ospanel/domains/проекты open server/old/react/react-intro-main/src/components/GraphComponent.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\n\nimport axios from 'axios';\nimport {\n  popup,\n  ModelXmlSerializer,\n  domUtils,\n  styleUtils,\n  mathUtils,\n  cloneUtils,\n  eventUtils,\n  Graph,\n  InternalEvent,\n  RubberBandHandler,\n  ConnectionHandler,\n  ConnectionConstraint,\n  Point,\n  CylinderShape,\n  CellRenderer,\n  DomHelpers,\n  EdgeStyle,\n  Rectangle,\n  EdgeHandler,\n  StyleRegistry,\n  EdgeSegmentHandler,\n  UndoManager,\n  CellEditorHandler,\n  ConstraintHandler,\n  Guide,\n  ImageBox,\n  GraphView,\n  SelectionHandler,\n  PanningHandler,\n  TooltipHandler,\n  SelectionCellsHandler,\n  PopupMenuHandler,\n  xmlUtils,\n  Codec,\n} from '@maxgraph/core';\n\nimport {\n  contextMenuTypes,\n  contextMenuValues,\n  globalTypes,\n  globalValues,\n  rubberBandTypes,\n  rubberBandValues,\n} from './shared/args.js';\n\nimport { createGraphContainer } from './shared/configure.js';\n\n// style required by RubberBand\nimport '@maxgraph/core/css/common.css';\n\nimport { render } from 'react-dom';\n\nimport {\n  MyCustomGraph, \n  MyCustomEdgeSegmentHandler, \n  MyCustomGraphView, \n  MyCustomConnectionHandler,  \n  MyCustomPanningHandler, \n  MyCustomSelectionHandler,\n  MyCustomEdgeHandler,\n  MyCustomConstraintHandler\n} from './MyCustomGraph.jsx';\n\n\nexport const YourComponent = () => {\n  const importFileInputRef = useRef(null);\n  const graphContainerRef = useRef(null);\n  const [xmlText, setXmlText] = useState('');\n  // Инициализируем переменную для graph\n  let [graphInstance, setGraphInstance] = useState(null);\n  let [variableFromEffect, setVariableFromEffect] = useState(null);\n\n  const [graph, setGraph] = useState(null);\n\n  useEffect(() => {\n    if (graphContainerRef.current) {\n    const graphContainer = graphContainerRef.current;\n    const newGraph = new Graph(graphContainerRef.current);\n    setGraph(newGraph); // Сохраняем граф в состояние\n\n   ////\n\n    \n    \n////\n    const parentContainer = document.createElement('div');\n    const container = createGraphContainer({\n      imageUrl: 'images/grid.gif'\n    });\n    parentContainer.appendChild(container);\n    //console.log({graph})\n      // Changes some default colors\n  // TODO Find a way of modifying globally or setting locally! See https://github.com/maxGraph/maxGraph/issues/192\n  //constants.SHADOWCOLOR = '#C0C0C0';\n\n  let joinNodeSize = 7;\n  let strokeWidth = 2;\n\n  // Switch for black background and bright styles\n  let invert = false;\n  let MyCustomCellEditorHandler;\n\n  if (!graphInstance) {\n    const newGraph = new MyCustomGraph(graphContainer, null, []);\n    setGraphInstance(newGraph);\n  }\n\n  if (invert) {\n    container.style.backgroundColor = 'black';\n\n    // White in-place editor text color\n    MyCustomCellEditorHandler = class extends CellEditorHandler {\n      startEditing(cell, trigger) {\n        super.startEditing.apply(this, arguments);\n\n        if (this.textarea != null) {\n          this.textarea.style.color = '#FFFFFF';\n        }\n      }\n    };\n  } else {\n    MyCustomCellEditorHandler = CellEditorHandler;\n  }\n\n  // Imlements a custom resistor shape. Direction currently ignored here.\n\n  class ResistorShape extends CylinderShape {\n    constructor() {\n      // TODO: The original didn't seem to call the super\n      super(null, null, null, null);\n    }\n\n    redrawPath(path, x, y, w, h, isForeground) {\n      let dx = w / 16;\n\n      if (isForeground) {\n        path.moveTo(0, h / 2);\n        path.lineTo(2 * dx, h / 2);\n        path.lineTo(3 * dx, 0);\n        path.lineTo(5 * dx, h);\n        path.lineTo(7 * dx, 0);\n        path.lineTo(9 * dx, h);\n        path.lineTo(11 * dx, 0);\n        path.lineTo(13 * dx, h);\n        path.lineTo(14 * dx, h / 2);\n        path.lineTo(16 * dx, h / 2);\n        path.end();\n      }\n    }\n  }\n\n  CellRenderer.registerShape('resistor', ResistorShape);\n\n  // Imlements a custom resistor shape. Direction currently ignored here.\n\n  EdgeStyle.WireConnector = function (state, source, target, hints, result) {\n    // Creates array of all way- and terminalpoints\n    let pts = state.absolutePoints;\n    let horizontal = true;\n    let hint = null;\n\n    // Gets the initial connection from the source terminal or edge\n    if (source != null && source.cell.isEdge()) {\n      horizontal = state.style.sourceConstraint == 'horizontal';\n    } else if (source != null) {\n      horizontal = source.style.portConstraint != 'vertical';\n\n      // Checks the direction of the shape and rotates\n      let direction = source.style.direction;\n\n      if (direction == 'north' || direction == 'south') {\n        horizontal = !horizontal;\n      }\n    }\n\n    // Adds the first point\n    // TODO: Should move along connected segment\n    let pt = pts[0];\n\n    if (pt == null && source != null) {\n      pt = new Point(\n        state.view.getRoutingCenterX(source),\n        state.view.getRoutingCenterY(source)\n      );\n    } else if (pt != null) {\n      pt = pt.clone();\n    }\n\n    let first = pt;\n\n    // Adds the waypoints\n    if (hints != null && hints.length > 0) {\n      // FIXME: First segment not movable\n      /*hint = state.view.transformControlPoint(state, hints[0]);\n      MaxLog.show();\n      MaxLog.debug(hints.length,'hints0.y='+hint.y, pt.y)\n\n      if (horizontal && Math.floor(hint.y) != Math.floor(pt.y))\n      {\n        MaxLog.show();\n        MaxLog.debug('add waypoint');\n\n        pt = new Point(pt.x, hint.y);\n        result.push(pt);\n        pt = pt.clone();\n        //horizontal = !horizontal;\n      }*/\n\n      for (let i = 0; i < hints.length; i++) {\n        horizontal = !horizontal;\n        hint = state.view.transformControlPoint(state, hints[i]);\n\n        if (horizontal) {\n          if (pt.y !== hint.y) {\n            pt.y = hint.y;\n            result.push(pt.clone());\n          }\n        } else if (pt.x !== hint.x) {\n          pt.x = hint.x;\n          result.push(pt.clone());\n        }\n      }\n    } else {\n      hint = pt;\n    }\n\n    // Adds the last point\n    pt = pts[pts.length - 1];\n\n    // TODO: Should move along connected segment\n    if (pt == null && target != null) {\n      pt = new Point(\n        state.view.getRoutingCenterX(target),\n        state.view.getRoutingCenterY(target)\n      );\n    }\n\n    if (horizontal) {\n      if (pt.y !== hint.y && first.x !== pt.x) {\n        result.push(new Point(pt.x, hint.y));\n      }\n    } else if (pt.x !== hint.x && first.y !== pt.y) {\n      result.push(new Point(hint.x, pt.y));\n    }\n  };\n\n  StyleRegistry.putValue('wireEdgeStyle', EdgeStyle.WireConnector);\n\n\n    let graph = new MyCustomGraph(container, null, [\n      MyCustomCellEditorHandler,\n      TooltipHandler,\n      SelectionCellsHandler,\n      PopupMenuHandler,\n      MyCustomConnectionHandler,\n      MyCustomSelectionHandler,\n      MyCustomPanningHandler,\n    ]);\n    setVariableFromEffect(graph);\n\n  let labelBackground = invert ? '#000000' : '#FFFFFF';\n  let fontColor = invert ? '#FFFFFF' : '#000000';\n  let strokeColor = invert ? '#C0C0C0' : '#000000';\n  let fillColor = invert ? 'none' : '#FFFFFF';\n\n  graph.view.scale = 1;\n  graph.setPanning(true);\n  graph.setConnectable(true);\n  graph.setConnectableEdges(true);\n  graph.setDisconnectOnMove(false);\n  graph.foldingEnabled = false;\n\n  //Maximum size\n  graph.maximumGraphBounds = new Rectangle(0, 0, 1000, 1000);\n  graph.border = 50;\n  graph.spacingLeft = 30;\n\n  // Enables return key to stop editing (use shift-enter for newlines)\n  graph.setEnterStopsCellEditing(true);\n\n  // Adds rubberband selection\n  new RubberBandHandler(graph);\n\n  // Adds a special tooltip for edges\n  graph.setTooltips(true);\n\n  let style = graph.getStylesheet().getDefaultEdgeStyle();\n  delete style.endArrow;\n  style.strokeColor = strokeColor;\n  style.labelBackgroundColor = labelBackground;\n  style.edgeStyle = 'wireEdgeStyle';\n  style.fontColor = fontColor;\n  style.fontSize = '9';\n  style.movable = '0';\n  style.strokeWidth = strokeWidth;\n  //style.rounded = '1';\n\n  // Sets join node size\n  style.startSize = joinNodeSize;\n  style.endSize = joinNodeSize;\n\n  style = graph.getStylesheet().getDefaultVertexStyle();\n  style.gradientDirection = 'south';\n  //style.gradientColor = '#909090';\n  style.strokeColor = strokeColor;\n  //style.fillColor = '#e0e0e0';\n  style.fillColor = 'none';\n  style.fontColor = fontColor;\n  style.fontStyle = '1';\n  style.fontSize = '12';\n  style.resizable = '0';\n  style.rounded = '1';\n  style.strokeWidth = strokeWidth;\n\n  // инородное дерьмо\n\n  const btn1 = document.getElementById('btn1');\n  const btn2 = document.getElementById('btn2');\n  const btn3 = document.getElementById('btn3');\n  const btn4 = document.getElementById('btn4');\n  const btn5 = document.getElementById('btn5');\n  const btn6 = document.getElementById('btn6');\n  const btn7 = document.getElementById('btn7');\n\n  const update = (event) => {\n    var parent = graph.getDefaultParent();\n    var doc = xmlUtils.createXmlDocument();\n    graph.batchUpdate(() => {\n      const targetId = event.target.id;\n      if (targetId === 'btn3') {\n        var v1 = graph.insertVertex(parent, null, '', 80, 40, 40, 80,\n          'verticalLabelPosition=top;verticalAlign=bottom;shadow=1;fillColor=' + fillColor);\n        v1.setConnectable(false);\n\n        var v11 = graph.insertVertex(v1, null, 'X', 0, 0, 10, 16, {\n          shape: 'line',\n          align: 'left',\n          verticalAlign: 'middle',\n          fontSize: 10,\n          routingCenterX: -0.5,\n          spacingLeft: 12,\n          fontColor,\n          strokeColor,\n        });\n        v11.geometry.relative = true;\n        v11.geometry.offset = new Point(-v11.geometry.width, 12);\n        var v12 = v11.clone();\n        v12.value = 'Y';\n        v12.geometry.offset = new Point(-v11.geometry.width, 52);\n        v1.insert(v12);\n        var v15 = v11.clone();\n        v15.value = '';\n        v15.geometry.x = 1;\n        v15.style = {\n          shape: 'line',\n          align: 'right',\n          verticalAlign: 'middle',\n          fontSize: 10,\n          routingCenterX: 0.5,\n          spacingRight: 12,\n          fontColor: fontColor,\n          strokeColor: strokeColor\n        }\n\n        v15.geometry.offset = new Point(5, 32);\n        v1.insert(v15);\n\n        var v16 = graph.insertVertex(v1, null, '○', 0, 0, 0, 0, {\n          shape: 'line',\n          align: 'right',\n          verticalAlign: 'middle',\n          fontSize: 30,\n          routingCenterX: 0.5,\n          spacingLeft: 6,\n          fontColor: fontColor,\n          strokeColor: strokeColor\n        });\n        v16.geometry.x = 1;\n        v16.geometry.offset = new Point(49, 34);\n        v1.insert(v16);\n      }\n        else if (targetId === 'btn6') {\n        var inputVertex = graph.insertVertex(parent, null, 'вход', 80, 40, 40, 80, {\n          shape: 'ellipse',\n          fillColor: 'green',\n          fontColor: 'white',\n          strokeColor: 'black'\n        });\n        inputVertex.setConnectable(true);\n        console.log(\"blyaa\")\n      } \n      else if (targetId === 'btn7') {\n        var outputVertex = graph.insertVertex(parent, null, 'Выход', 80, 40, 40, 80, {\n          shape: 'ellipse',\n          fillColor: 'red',\n          fontColor: 'white',\n          strokeColor: 'black'\n        });\n        outputVertex.setConnectable(true);\n      } else if (targetId === 'btn1') {\n        var v1 = graph.insertVertex(parent, null, '', 180, 40, 40, 80,\n          'verticalLabelPosition=top;verticalAlign=bottom;shadow=1;fillColor=' + fillColor);\n        v1.setConnectable(false);\n\n        var v11 = graph.insertVertex(v1, null, 'X', 0, 0, 10, 16, {\n          shape: 'line',\n          align: 'left',\n          verticalAlign: 'middle',\n          fontSize: 10,\n          routingCenterX: -0.5,\n          spacingLeft: 12,\n          fontColor: fontColor,\n          strokeColor: strokeColor\n        });\n        v11.geometry.relative = true;\n        v11.geometry.offset = new Point(-v11.geometry.width, 12);\n        var v12 = v11.clone();\n        v12.value = 'Y';\n        v12.geometry.offset = new Point(-v11.geometry.width, 52);\n        v1.insert(v12);\n        var v15 = v11.clone();\n        v15.value = '';\n        v15.geometry.x = 1;\n        v15.style = {\n          shape: 'line',\n          align: 'right',\n          verticalAlign: 'middle',\n          fontSize: 10,\n          routingCenterX: 0.5,\n          spacingRight: 12,\n          fontColor: fontColor,\n          strokeColor: strokeColor\n        };\n        v15.geometry.offset = new Point(0, 32);\n        v1.insert(v15);\n\n        var v16 = graph.insertVertex(v1, null, '&', 0, 0, 0, 0, {\n          shape: 'line',\n          align: 'right',\n          verticalAlign: 'middle',\n          fontSize: 20,\n          routingCenterX: 0.5,\n          spacingLeft: 6,\n          fontColor: fontColor,\n          strokeColor: strokeColor\n        });\n        v16.geometry.x = 1;\n        v16.geometry.offset = new Point(28.5, 37);\n        v1.insert(v16);\n      } else if (targetId === 'btn2') {\n        var v1 = graph.insertVertex(parent, null, '', 250, 40, 40, 80,\n          'verticalLabelPosition=top;verticalAlign=bottom;shadow=1;fillColor=' + fillColor);\n        v1.setConnectable(false);\n\n        var v11 = graph.insertVertex(v1, null, 'X', 0, 0, 10, 16, {\n          shape: 'line',\n          align: 'left',\n          verticalAlign: 'middle',\n          fontSize: 10,\n          routingCenterX: -0.5,\n          spacingLeft: 12,\n          fontColor: fontColor,\n          strokeColor: strokeColor\n        });\n        v11.geometry.relative = true;\n        v11.geometry.offset = new Point(-v11.geometry.width, 12);\n        var v12 = v11.clone();\n        v12.value = 'Y';\n        v12.geometry.offset = new Point(-v11.geometry.width, 52);\n        v1.insert(v12);\n        var v15 = v11.clone();\n        v15.value = '';\n        v15.geometry.x = 1;\n        v15.style = {\n          shape: 'line',\n          align: 'right',\n          verticalAlign: 'middle',\n          fontSize: 10,\n          routingCenterX: 0.5,\n          spacingRight: 12,\n          fontColor: fontColor,\n          strokeColor: strokeColor\n        };\n        v15.geometry.offset = new Point(0, 32);\n        v1.insert(v15);\n\n        var v16 = graph.insertVertex(v1, null, '|', 0, 0, 0, 0, {\n          shape: 'line',\n          align: 'right',\n          verticalAlign: 'middle',\n          fontSize: 20,\n          routingCenterX: 0.5,\n          spacingLeft: 6,\n          fontColor: fontColor,\n          strokeColor: strokeColor\n        });\n        v16.geometry.x = 1;\n        v16.geometry.offset = new Point(24, 37);\n        v1.insert(v16);\n      } else if (targetId === 'btn5') {\n        var v1 = graph.insertVertex(parent, null, '', 180, 140, 40, 80,\n          'verticalLabelPosition=top;verticalAlign=bottom;shadow=1;fillColor=' + fillColor);\n        v1.setConnectable(false);\n\n        var v11 = graph.insertVertex(v1, null, 'X', 0, 0, 10, 16, {\n          shape: 'line',\n          align: 'left',\n          verticalAlign: 'middle',\n          fontSize: 10,\n          routingCenterX: -0.5,\n          spacingLeft: 12,\n          fontColor: fontColor,\n          strokeColor: strokeColor\n        });\n        v11.geometry.relative = true;\n        v11.geometry.offset = new Point(-v11.geometry.width, 12);\n        var v12 = v11.clone();\n        v12.value = 'Y';\n        v12.geometry.offset = new Point(-v11.geometry.width, 52);\n        v1.insert(v12);\n        var v15 = v11.clone();\n        v15.value = '';\n        v15.geometry.x = 1;\n        v15.style = {\n          shape: 'line',\n          align: 'right',\n          verticalAlign: 'middle',\n          fontSize: 10,\n          routingCenterX: 0.5,\n          spacingRight: 12,\n          fontColor: fontColor,\n          strokeColor: strokeColor\n        };\n        v15.geometry.offset = new Point(0, 32);\n        v1.insert(v15);\n\n        var v16 = graph.insertVertex(v1, null, '==', 0, 0, 0, 0, {\n          shape: 'line',\n          align: 'right',\n          verticalAlign: 'middle',\n          fontSize: 15,\n          routingCenterX: 0.5,\n          spacingLeft: 6,\n          fontColor: fontColor,\n          strokeColor: strokeColor\n        });\n        v16.geometry.x = 1;\n        v16.geometry.offset = new Point(30, 38);\n        v1.insert(v16);\n      } else if (targetId === 'btn4') {\n        var v1 = graph.insertVertex(parent, null, '', 80, 140, 40, 80,\n          'verticalLabelPosition=top;verticalAlign=bottom;shadow=1;fillColor=' + fillColor);\n        v1.setConnectable(false);\n\n        var v11 = graph.insertVertex(v1, null, '', 0, 0, 14, 16, {\n          shape: 'line',\n          align: 'left',\n          verticalAlign: 'middle',\n          fontSize: 10,\n          routingCenterX: -0.5,\n          spacingLeft: 12,\n          fontColor: fontColor,\n          strokeColor: strokeColor\n        });\n        v11.geometry.relative = true;\n        v11.geometry.offset = new Point(-v11.geometry.width, 12);\n        var v12 = v11.clone();\n        v12.value = '';\n        v12.geometry.offset = new Point(-v11.geometry.width, 52);\n        v1.insert(v12);\n        var v15 = v11.clone();\n        v15.value = '';\n        v15.geometry.x = 1;\n        v15.style = {\n          shape: 'line',\n          align: 'right',\n          verticalAlign: 'middle',\n          fontSize: 10,\n          routingCenterX: 0.5,\n          spacingRight: 12,\n          fontColor: fontColor,\n          strokeColor: strokeColor\n        };\n        v15.geometry.offset = new Point(0, 32);\n        v1.insert(v15);\n\n        var v16 = graph.insertVertex(v1, null, '○', 0, 0, 0, 0, {\n          shape: 'line',\n          align: 'right',\n          verticalAlign: 'middle',\n          fontSize: 25,\n          routingCenterX: 0.5,\n          spacingLeft: 6,\n          fontColor: fontColor,\n          strokeColor: strokeColor\n        });\n        v16.geometry.x = 1;\n        v16.geometry.offset = new Point(8, 15);\n        v1.insert(v16);\n        var v17 = graph.insertVertex(v1, null, 'X', 0, 0, 0, 0, {\n          shape: 'line',\n          align: 'right',\n          verticalAlign: 'middle',\n          fontSize: 10,\n          routingCenterX: 0.5,\n          spacingLeft: 6,\n          fontColor: fontColor,\n          strokeColor: strokeColor\n        });\n        v17.geometry.x = 1;\n        v17.geometry.offset = new Point(14, 20);\n        v1.insert(v17);\n        var v18 = graph.insertVertex(v1, null, 'Y', 0, 0, 0, 0, {\n          shape: 'line',\n          align: 'right',\n          verticalAlign: 'middle',\n          fontSize: 10,\n          routingCenterX: 0.5,\n          spacingLeft: 6,\n          fontColor: fontColor,\n          strokeColor: strokeColor\n        });\n        v18.geometry.x = 1;\n        v18.geometry.offset = new Point(14, 59);\n        v1.insert(v18);\n      }\n    });\n  };\n\n\n  btn1.addEventListener('click', update);\n  btn2.addEventListener('click', update);\n  btn3.addEventListener('click', update);\n  btn4.addEventListener('click', update);\n  btn5.addEventListener('click', update);\n  btn6.addEventListener('click', update);\n  btn7.addEventListener('click', update);\n\n\n\n\n\n\n  const importButton = document.getElementById(\"import\");\n  importButton.onclick = () => {\n    console.log(graph);\n    const fileInput = document.getElementById(\"importFileInput\");\n    console.log(fileInput);\n    if (fileInput) {\n      // Добавляем обработчик события onchange\n      fileInput.onchange = function(event) {\n        handleFileImport(event);  // Вызываем твою функцию handleFileImport\n      };\n      fileInput.click();  // Открываем диалог выбора файла\n      console.log(\"клик\");\n    } else {\n      console.log(\"fileInput не найден!\");\n    }\n  };\n  function handleFileImport(event) {\n    console.log(\"blyaaa\");\n      // Очищаем граф перед загрузкой новой схемы\n      console.log(graph);\n    const file = event.target.files[0];\n    if (file) {\n      // Вызов функции readXMLFile\n      readXMLFile(file, function(xmlContent) {\n        console.log('Файл импортирован: ', xmlContent); // Работаем с содержимым файла\n        loadGraphFromXml(xmlContent, graph); // Загружаем граф из XML\n      });\n    } else {\n      console.log(\"Файл не выбран!\");\n    }\n  }\n  // Функция чтения XML файла\nfunction readXMLFile(file, callback) {\nconst reader = new FileReader();\nreader.onload = function(e) {\n  const xmlContent = e.target.result;\n  callback(xmlContent);  // Передаем результат чтения в коллбэк\n};\nreader.readAsText(file);  // Читаем файл как текст\n}\n\n// Функция для загрузки графа из XML\nconst loadGraphFromXml = (xml, graph) => {\ngraph.removeCells(graph.getChildVertices(graph.getDefaultParent()));\nconst node = xmlUtils.parseXml(xml).documentElement;\ngraph.model.beginUpdate();\ntry {\n  console.log(node);\n\n  const codec = new Codec();  // Создаем кодек для декодирования XML\n  codec.decode(node, graph.model);  // Декодируем XML и загружаем в модель графа\n} finally {\n  graph.model.endUpdate();  // Завершаем транзакцию\n  graph.refresh();\n}\n};\n\n  ////////////////////////////////////////////////////////\n// XML \n\ndocument.getElementById(\"xml\").onclick = () => {\n  // Получаем XML данные\n  console.log(graph);\n  const xml = new ModelXmlSerializer(graph.getDataModel()).export();\n  \n  // Создаем новый Blob объект с XML данными\n  const blob = new Blob([xml], { type: 'text/xml' });\n  \n  // Создаем ссылку на Blob объект\n  const url = window.URL.createObjectURL(blob);\n  \n  // Создаем ссылку для скачивания\n  const a = document.createElement('a');\n  a.href = url;\n  a.download = 'data.xml'; // Имя файла для скачивания\n  document.body.appendChild(a);\n  \n  // Инициируем скачивание файла\n  a.click();\n  \n  // Освобождаем ресурсы\n  window.URL.revokeObjectURL(url);\n};\n\n\n\n\n\n\n\n\n\n///////////////////////////////////////////////////////////\n\n\n    document.getElementById(\"zoom\").onclick = () => graph.zoomIn();\n    document.getElementById(\"zoomout\").onclick = () => graph.zoomOut();\n\n  // Undo/redo\n  let undoManager = new UndoManager();\n  let listener = function (sender, evt) {\n    undoManager.undoableEditHappened(evt.getProperty('edit'));\n  };\n  graph.getDataModel().addListener(InternalEvent.UNDO, listener);\n  graph.getView().addListener(InternalEvent.UNDO, listener);\n\n  document.getElementById(\"undo\").onclick = () => undoManager.undo();\n  document.getElementById(\"redo\").onclick = () => undoManager.redo();\n\n\n  document.getElementById(\"delete\").onclick = () => graph.removeCells();\n\n  // Wire-mode\n  let checkbox = document.getElementById(\"wire\");\n\n  // Grid\n  let checkbox2 = document.getElementById(\"grid\");\n  checkbox2.setAttribute('checked', 'true');\n\n\n  InternalEvent.addListener(checkbox2, 'click', function (evt) {\n    if (checkbox2.checked) {\n      container.style.background = 'url(./images/grid.gif)';\n    } else {\n      container.style.background = '';\n    }\n    container.style.backgroundColor = invert ? 'black' : 'white';\n  });\n  InternalEvent.disableContextMenu(container);\n\n\n    graphContainer.appendChild(parentContainer);\n\n\n\n}\n}, []);\n\n\n\n  return (\n      <div ref={graphContainerRef} style={{ width: '100%', height: '100%' }} />\n  );\n  \n};\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}