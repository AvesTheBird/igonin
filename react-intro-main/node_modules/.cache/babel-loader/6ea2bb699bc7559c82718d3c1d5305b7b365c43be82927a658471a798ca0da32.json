{"ast":null,"code":"var _ContentHoverWidget;\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nvar ContentHoverWidget_1;\nimport * as dom from '../../../../base/browser/dom.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { ResizableContentWidget } from './resizableContentWidget.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IAccessibilityService } from '../../../../platform/accessibility/common/accessibility.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { getHoverAccessibleViewHint, HoverWidget } from '../../../../base/browser/ui/hover/hoverWidget.js';\nimport { Emitter } from '../../../../base/common/event.js';\nconst HORIZONTAL_SCROLLING_BY = 30;\nconst CONTAINER_HEIGHT_PADDING = 6;\nlet ContentHoverWidget = (_ContentHoverWidget = class ContentHoverWidget extends ResizableContentWidget {\n  get isVisibleFromKeyboard() {\n    var _this$_renderedHover;\n    return ((_this$_renderedHover = this._renderedHover) === null || _this$_renderedHover === void 0 ? void 0 : _this$_renderedHover.source) === 1 /* HoverStartSource.Keyboard */;\n  }\n  get isVisible() {\n    var _this$_hoverVisibleKe;\n    return (_this$_hoverVisibleKe = this._hoverVisibleKey.get()) !== null && _this$_hoverVisibleKe !== void 0 ? _this$_hoverVisibleKe : false;\n  }\n  get isFocused() {\n    var _this$_hoverFocusedKe;\n    return (_this$_hoverFocusedKe = this._hoverFocusedKey.get()) !== null && _this$_hoverFocusedKe !== void 0 ? _this$_hoverFocusedKe : false;\n  }\n  constructor(editor, contextKeyService, _configurationService, _accessibilityService, _keybindingService) {\n    const minimumHeight = editor.getOption(67 /* EditorOption.lineHeight */) + 8;\n    const minimumWidth = 150;\n    const minimumSize = new dom.Dimension(minimumWidth, minimumHeight);\n    super(editor, minimumSize);\n    this._configurationService = _configurationService;\n    this._accessibilityService = _accessibilityService;\n    this._keybindingService = _keybindingService;\n    this._hover = this._register(new HoverWidget());\n    this._onDidResize = this._register(new Emitter());\n    this.onDidResize = this._onDidResize.event;\n    this._minimumSize = minimumSize;\n    this._hoverVisibleKey = EditorContextKeys.hoverVisible.bindTo(contextKeyService);\n    this._hoverFocusedKey = EditorContextKeys.hoverFocused.bindTo(contextKeyService);\n    dom.append(this._resizableNode.domNode, this._hover.containerDomNode);\n    this._resizableNode.domNode.style.zIndex = '50';\n    this._register(this._editor.onDidLayoutChange(() => {\n      if (this.isVisible) {\n        this._updateMaxDimensions();\n      }\n    }));\n    this._register(this._editor.onDidChangeConfiguration(e => {\n      if (e.hasChanged(50 /* EditorOption.fontInfo */)) {\n        this._updateFont();\n      }\n    }));\n    const focusTracker = this._register(dom.trackFocus(this._resizableNode.domNode));\n    this._register(focusTracker.onDidFocus(() => {\n      this._hoverFocusedKey.set(true);\n    }));\n    this._register(focusTracker.onDidBlur(() => {\n      this._hoverFocusedKey.set(false);\n    }));\n    this._setRenderedHover(undefined);\n    this._editor.addContentWidget(this);\n  }\n  dispose() {\n    var _this$_renderedHover2;\n    super.dispose();\n    (_this$_renderedHover2 = this._renderedHover) === null || _this$_renderedHover2 === void 0 || _this$_renderedHover2.dispose();\n    this._editor.removeContentWidget(this);\n  }\n  getId() {\n    return ContentHoverWidget_1.ID;\n  }\n  static _applyDimensions(container, width, height) {\n    const transformedWidth = typeof width === 'number' ? \"\".concat(width, \"px\") : width;\n    const transformedHeight = typeof height === 'number' ? \"\".concat(height, \"px\") : height;\n    container.style.width = transformedWidth;\n    container.style.height = transformedHeight;\n  }\n  _setContentsDomNodeDimensions(width, height) {\n    const contentsDomNode = this._hover.contentsDomNode;\n    return ContentHoverWidget_1._applyDimensions(contentsDomNode, width, height);\n  }\n  _setContainerDomNodeDimensions(width, height) {\n    const containerDomNode = this._hover.containerDomNode;\n    return ContentHoverWidget_1._applyDimensions(containerDomNode, width, height);\n  }\n  _setHoverWidgetDimensions(width, height) {\n    this._setContentsDomNodeDimensions(width, height);\n    this._setContainerDomNodeDimensions(width, height);\n    this._layoutContentWidget();\n  }\n  static _applyMaxDimensions(container, width, height) {\n    const transformedWidth = typeof width === 'number' ? \"\".concat(width, \"px\") : width;\n    const transformedHeight = typeof height === 'number' ? \"\".concat(height, \"px\") : height;\n    container.style.maxWidth = transformedWidth;\n    container.style.maxHeight = transformedHeight;\n  }\n  _setHoverWidgetMaxDimensions(width, height) {\n    ContentHoverWidget_1._applyMaxDimensions(this._hover.contentsDomNode, width, height);\n    ContentHoverWidget_1._applyMaxDimensions(this._hover.containerDomNode, width, height);\n    this._hover.containerDomNode.style.setProperty('--vscode-hover-maxWidth', typeof width === 'number' ? \"\".concat(width, \"px\") : width);\n    this._layoutContentWidget();\n  }\n  _setAdjustedHoverWidgetDimensions(size) {\n    this._setHoverWidgetMaxDimensions('none', 'none');\n    const width = size.width;\n    const height = size.height;\n    this._setHoverWidgetDimensions(width, height);\n  }\n  _updateResizableNodeMaxDimensions() {\n    var _this$_findMaximumRen, _this$_findMaximumRen2;\n    const maxRenderingWidth = (_this$_findMaximumRen = this._findMaximumRenderingWidth()) !== null && _this$_findMaximumRen !== void 0 ? _this$_findMaximumRen : Infinity;\n    const maxRenderingHeight = (_this$_findMaximumRen2 = this._findMaximumRenderingHeight()) !== null && _this$_findMaximumRen2 !== void 0 ? _this$_findMaximumRen2 : Infinity;\n    this._resizableNode.maxSize = new dom.Dimension(maxRenderingWidth, maxRenderingHeight);\n    this._setHoverWidgetMaxDimensions(maxRenderingWidth, maxRenderingHeight);\n  }\n  _resize(size) {\n    ContentHoverWidget_1._lastDimensions = new dom.Dimension(size.width, size.height);\n    this._setAdjustedHoverWidgetDimensions(size);\n    this._resizableNode.layout(size.height, size.width);\n    this._updateResizableNodeMaxDimensions();\n    this._hover.scrollbar.scanDomNode();\n    this._editor.layoutContentWidget(this);\n    this._onDidResize.fire();\n  }\n  _findAvailableSpaceVertically() {\n    var _this$_renderedHover3;\n    const position = (_this$_renderedHover3 = this._renderedHover) === null || _this$_renderedHover3 === void 0 ? void 0 : _this$_renderedHover3.showAtPosition;\n    if (!position) {\n      return;\n    }\n    return this._positionPreference === 1 /* ContentWidgetPositionPreference.ABOVE */ ? this._availableVerticalSpaceAbove(position) : this._availableVerticalSpaceBelow(position);\n  }\n  _findMaximumRenderingHeight() {\n    const availableSpace = this._findAvailableSpaceVertically();\n    if (!availableSpace) {\n      return;\n    }\n    // Padding needed in order to stop the resizing down to a smaller height\n    let maximumHeight = CONTAINER_HEIGHT_PADDING;\n    Array.from(this._hover.contentsDomNode.children).forEach(hoverPart => {\n      maximumHeight += hoverPart.clientHeight;\n    });\n    return Math.min(availableSpace, maximumHeight);\n  }\n  _isHoverTextOverflowing() {\n    // To find out if the text is overflowing, we will disable wrapping, check the widths, and then re-enable wrapping\n    this._hover.containerDomNode.style.setProperty('--vscode-hover-whiteSpace', 'nowrap');\n    this._hover.containerDomNode.style.setProperty('--vscode-hover-sourceWhiteSpace', 'nowrap');\n    const overflowing = Array.from(this._hover.contentsDomNode.children).some(hoverElement => {\n      return hoverElement.scrollWidth > hoverElement.clientWidth;\n    });\n    this._hover.containerDomNode.style.removeProperty('--vscode-hover-whiteSpace');\n    this._hover.containerDomNode.style.removeProperty('--vscode-hover-sourceWhiteSpace');\n    return overflowing;\n  }\n  _findMaximumRenderingWidth() {\n    if (!this._editor || !this._editor.hasModel()) {\n      return;\n    }\n    const overflowing = this._isHoverTextOverflowing();\n    const initialWidth = typeof this._contentWidth === 'undefined' ? 0 : this._contentWidth - 2 // - 2 for the borders\n    ;\n    if (overflowing || this._hover.containerDomNode.clientWidth < initialWidth) {\n      const bodyBoxWidth = dom.getClientArea(this._hover.containerDomNode.ownerDocument.body).width;\n      const horizontalPadding = 14;\n      return bodyBoxWidth - horizontalPadding;\n    } else {\n      return this._hover.containerDomNode.clientWidth + 2;\n    }\n  }\n  isMouseGettingCloser(posx, posy) {\n    if (!this._renderedHover) {\n      return false;\n    }\n    if (this._renderedHover.initialMousePosX === undefined || this._renderedHover.initialMousePosY === undefined) {\n      this._renderedHover.initialMousePosX = posx;\n      this._renderedHover.initialMousePosY = posy;\n      return false;\n    }\n    const widgetRect = dom.getDomNodePagePosition(this.getDomNode());\n    if (this._renderedHover.closestMouseDistance === undefined) {\n      this._renderedHover.closestMouseDistance = computeDistanceFromPointToRectangle(this._renderedHover.initialMousePosX, this._renderedHover.initialMousePosY, widgetRect.left, widgetRect.top, widgetRect.width, widgetRect.height);\n    }\n    const distance = computeDistanceFromPointToRectangle(posx, posy, widgetRect.left, widgetRect.top, widgetRect.width, widgetRect.height);\n    if (distance > this._renderedHover.closestMouseDistance + 4 /* tolerance of 4 pixels */) {\n      // The mouse is getting farther away\n      return false;\n    }\n    this._renderedHover.closestMouseDistance = Math.min(this._renderedHover.closestMouseDistance, distance);\n    return true;\n  }\n  _setRenderedHover(renderedHover) {\n    var _this$_renderedHover4;\n    (_this$_renderedHover4 = this._renderedHover) === null || _this$_renderedHover4 === void 0 || _this$_renderedHover4.dispose();\n    this._renderedHover = renderedHover;\n    this._hoverVisibleKey.set(!!renderedHover);\n    this._hover.containerDomNode.classList.toggle('hidden', !renderedHover);\n  }\n  _updateFont() {\n    const {\n      fontSize,\n      lineHeight\n    } = this._editor.getOption(50 /* EditorOption.fontInfo */);\n    const contentsDomNode = this._hover.contentsDomNode;\n    contentsDomNode.style.fontSize = \"\".concat(fontSize, \"px\");\n    contentsDomNode.style.lineHeight = \"\".concat(lineHeight / fontSize);\n    const codeClasses = Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName('code'));\n    codeClasses.forEach(node => this._editor.applyFontInfo(node));\n  }\n  _updateContent(node) {\n    const contentsDomNode = this._hover.contentsDomNode;\n    contentsDomNode.style.paddingBottom = '';\n    contentsDomNode.textContent = '';\n    contentsDomNode.appendChild(node);\n  }\n  _layoutContentWidget() {\n    this._editor.layoutContentWidget(this);\n    this._hover.onContentsChanged();\n  }\n  _updateMaxDimensions() {\n    const height = Math.max(this._editor.getLayoutInfo().height / 4, 250, ContentHoverWidget_1._lastDimensions.height);\n    const width = Math.max(this._editor.getLayoutInfo().width * 0.66, 500, ContentHoverWidget_1._lastDimensions.width);\n    this._setHoverWidgetMaxDimensions(width, height);\n  }\n  _render(renderedHover) {\n    this._setRenderedHover(renderedHover);\n    this._updateFont();\n    this._updateContent(renderedHover.domNode);\n    this._updateMaxDimensions();\n    this.onContentsChanged();\n    // Simply force a synchronous render on the editor\n    // such that the widget does not really render with left = '0px'\n    this._editor.render();\n  }\n  getPosition() {\n    var _this$_positionPrefer;\n    if (!this._renderedHover) {\n      return null;\n    }\n    return {\n      position: this._renderedHover.showAtPosition,\n      secondaryPosition: this._renderedHover.showAtSecondaryPosition,\n      positionAffinity: this._renderedHover.shouldAppearBeforeContent ? 3 /* PositionAffinity.LeftOfInjectedText */ : undefined,\n      preference: [(_this$_positionPrefer = this._positionPreference) !== null && _this$_positionPrefer !== void 0 ? _this$_positionPrefer : 1 /* ContentWidgetPositionPreference.ABOVE */]\n    };\n  }\n  show(renderedHover) {\n    var _this$_findPositionPr, _this$_keybindingServ, _this$_keybindingServ2;\n    if (!this._editor || !this._editor.hasModel()) {\n      return;\n    }\n    this._render(renderedHover);\n    const widgetHeight = dom.getTotalHeight(this._hover.containerDomNode);\n    const widgetPosition = renderedHover.showAtPosition;\n    this._positionPreference = (_this$_findPositionPr = this._findPositionPreference(widgetHeight, widgetPosition)) !== null && _this$_findPositionPr !== void 0 ? _this$_findPositionPr : 1 /* ContentWidgetPositionPreference.ABOVE */;\n    // See https://github.com/microsoft/vscode/issues/140339\n    // TODO: Doing a second layout of the hover after force rendering the editor\n    this.onContentsChanged();\n    if (renderedHover.shouldFocus) {\n      this._hover.containerDomNode.focus();\n    }\n    this._onDidResize.fire();\n    // The aria label overrides the label, so if we add to it, add the contents of the hover\n    const hoverFocused = this._hover.containerDomNode.ownerDocument.activeElement === this._hover.containerDomNode;\n    const accessibleViewHint = hoverFocused && getHoverAccessibleViewHint(this._configurationService.getValue('accessibility.verbosity.hover') === true && this._accessibilityService.isScreenReaderOptimized(), (_this$_keybindingServ = (_this$_keybindingServ2 = this._keybindingService.lookupKeybinding('editor.action.accessibleView')) === null || _this$_keybindingServ2 === void 0 ? void 0 : _this$_keybindingServ2.getAriaLabel()) !== null && _this$_keybindingServ !== void 0 ? _this$_keybindingServ : '');\n    if (accessibleViewHint) {\n      this._hover.contentsDomNode.ariaLabel = this._hover.contentsDomNode.textContent + ', ' + accessibleViewHint;\n    }\n  }\n  hide() {\n    if (!this._renderedHover) {\n      return;\n    }\n    const hoverStoleFocus = this._renderedHover.shouldFocus || this._hoverFocusedKey.get();\n    this._setRenderedHover(undefined);\n    this._resizableNode.maxSize = new dom.Dimension(Infinity, Infinity);\n    this._resizableNode.clearSashHoverState();\n    this._hoverFocusedKey.set(false);\n    this._editor.layoutContentWidget(this);\n    if (hoverStoleFocus) {\n      this._editor.focus();\n    }\n  }\n  _removeConstraintsRenderNormally() {\n    // Added because otherwise the initial size of the hover content is smaller than should be\n    const layoutInfo = this._editor.getLayoutInfo();\n    this._resizableNode.layout(layoutInfo.height, layoutInfo.width);\n    this._setHoverWidgetDimensions('auto', 'auto');\n  }\n  setMinimumDimensions(dimensions) {\n    // We combine the new minimum dimensions with the previous ones\n    this._minimumSize = new dom.Dimension(Math.max(this._minimumSize.width, dimensions.width), Math.max(this._minimumSize.height, dimensions.height));\n    this._updateMinimumWidth();\n  }\n  _updateMinimumWidth() {\n    const width = typeof this._contentWidth === 'undefined' ? this._minimumSize.width : Math.min(this._contentWidth, this._minimumSize.width);\n    // We want to avoid that the hover is artificially large, so we use the content width as minimum width\n    this._resizableNode.minSize = new dom.Dimension(width, this._minimumSize.height);\n  }\n  onContentsChanged() {\n    var _this$_renderedHover5;\n    this._removeConstraintsRenderNormally();\n    const containerDomNode = this._hover.containerDomNode;\n    let height = dom.getTotalHeight(containerDomNode);\n    let width = dom.getTotalWidth(containerDomNode);\n    this._resizableNode.layout(height, width);\n    this._setHoverWidgetDimensions(width, height);\n    height = dom.getTotalHeight(containerDomNode);\n    width = dom.getTotalWidth(containerDomNode);\n    this._contentWidth = width;\n    this._updateMinimumWidth();\n    this._resizableNode.layout(height, width);\n    if ((_this$_renderedHover5 = this._renderedHover) !== null && _this$_renderedHover5 !== void 0 && _this$_renderedHover5.showAtPosition) {\n      const widgetHeight = dom.getTotalHeight(this._hover.containerDomNode);\n      this._positionPreference = this._findPositionPreference(widgetHeight, this._renderedHover.showAtPosition);\n    }\n    this._layoutContentWidget();\n  }\n  focus() {\n    this._hover.containerDomNode.focus();\n  }\n  scrollUp() {\n    const scrollTop = this._hover.scrollbar.getScrollPosition().scrollTop;\n    const fontInfo = this._editor.getOption(50 /* EditorOption.fontInfo */);\n    this._hover.scrollbar.setScrollPosition({\n      scrollTop: scrollTop - fontInfo.lineHeight\n    });\n  }\n  scrollDown() {\n    const scrollTop = this._hover.scrollbar.getScrollPosition().scrollTop;\n    const fontInfo = this._editor.getOption(50 /* EditorOption.fontInfo */);\n    this._hover.scrollbar.setScrollPosition({\n      scrollTop: scrollTop + fontInfo.lineHeight\n    });\n  }\n  scrollLeft() {\n    const scrollLeft = this._hover.scrollbar.getScrollPosition().scrollLeft;\n    this._hover.scrollbar.setScrollPosition({\n      scrollLeft: scrollLeft - HORIZONTAL_SCROLLING_BY\n    });\n  }\n  scrollRight() {\n    const scrollLeft = this._hover.scrollbar.getScrollPosition().scrollLeft;\n    this._hover.scrollbar.setScrollPosition({\n      scrollLeft: scrollLeft + HORIZONTAL_SCROLLING_BY\n    });\n  }\n  pageUp() {\n    const scrollTop = this._hover.scrollbar.getScrollPosition().scrollTop;\n    const scrollHeight = this._hover.scrollbar.getScrollDimensions().height;\n    this._hover.scrollbar.setScrollPosition({\n      scrollTop: scrollTop - scrollHeight\n    });\n  }\n  pageDown() {\n    const scrollTop = this._hover.scrollbar.getScrollPosition().scrollTop;\n    const scrollHeight = this._hover.scrollbar.getScrollDimensions().height;\n    this._hover.scrollbar.setScrollPosition({\n      scrollTop: scrollTop + scrollHeight\n    });\n  }\n  goToTop() {\n    this._hover.scrollbar.setScrollPosition({\n      scrollTop: 0\n    });\n  }\n  goToBottom() {\n    this._hover.scrollbar.setScrollPosition({\n      scrollTop: this._hover.scrollbar.getScrollDimensions().scrollHeight\n    });\n  }\n}, ContentHoverWidget_1 = _ContentHoverWidget, _ContentHoverWidget.ID = 'editor.contrib.resizableContentHoverWidget', _ContentHoverWidget._lastDimensions = new dom.Dimension(0, 0), _ContentHoverWidget);\nContentHoverWidget = ContentHoverWidget_1 = __decorate([__param(1, IContextKeyService), __param(2, IConfigurationService), __param(3, IAccessibilityService), __param(4, IKeybindingService)], ContentHoverWidget);\nexport { ContentHoverWidget };\nfunction computeDistanceFromPointToRectangle(pointX, pointY, left, top, width, height) {\n  const x = left + width / 2; // x center of rectangle\n  const y = top + height / 2; // y center of rectangle\n  const dx = Math.max(Math.abs(pointX - x) - width / 2, 0);\n  const dy = Math.max(Math.abs(pointY - y) - height / 2, 0);\n  return Math.sqrt(dx * dx + dy * dy);\n}","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","ContentHoverWidget_1","dom","IKeybindingService","ResizableContentWidget","IContextKeyService","IConfigurationService","IAccessibilityService","EditorContextKeys","getHoverAccessibleViewHint","HoverWidget","Emitter","HORIZONTAL_SCROLLING_BY","CONTAINER_HEIGHT_PADDING","ContentHoverWidget","_ContentHoverWidget","isVisibleFromKeyboard","_this$_renderedHover","_renderedHover","source","isVisible","_this$_hoverVisibleKe","_hoverVisibleKey","get","isFocused","_this$_hoverFocusedKe","_hoverFocusedKey","constructor","editor","contextKeyService","_configurationService","_accessibilityService","_keybindingService","minimumHeight","getOption","minimumWidth","minimumSize","Dimension","_hover","_register","_onDidResize","onDidResize","event","_minimumSize","hoverVisible","bindTo","hoverFocused","append","_resizableNode","domNode","containerDomNode","style","zIndex","_editor","onDidLayoutChange","_updateMaxDimensions","onDidChangeConfiguration","e","hasChanged","_updateFont","focusTracker","trackFocus","onDidFocus","set","onDidBlur","_setRenderedHover","undefined","addContentWidget","dispose","_this$_renderedHover2","removeContentWidget","getId","ID","_applyDimensions","container","width","height","transformedWidth","concat","transformedHeight","_setContentsDomNodeDimensions","contentsDomNode","_setContainerDomNodeDimensions","_setHoverWidgetDimensions","_layoutContentWidget","_applyMaxDimensions","maxWidth","maxHeight","_setHoverWidgetMaxDimensions","setProperty","_setAdjustedHoverWidgetDimensions","size","_updateResizableNodeMaxDimensions","_this$_findMaximumRen","_this$_findMaximumRen2","maxRenderingWidth","_findMaximumRenderingWidth","Infinity","maxRenderingHeight","_findMaximumRenderingHeight","maxSize","_resize","_lastDimensions","layout","scrollbar","scanDomNode","layoutContentWidget","fire","_findAvailableSpaceVertically","_this$_renderedHover3","position","showAtPosition","_positionPreference","_availableVerticalSpaceAbove","_availableVerticalSpaceBelow","availableSpace","maximumHeight","Array","from","children","forEach","hoverPart","clientHeight","Math","min","_isHoverTextOverflowing","overflowing","some","hoverElement","scrollWidth","clientWidth","removeProperty","hasModel","initialWidth","_contentWidth","bodyBoxWidth","getClientArea","ownerDocument","body","horizontalPadding","isMouseGettingCloser","posx","posy","initialMousePosX","initialMousePosY","widgetRect","getDomNodePagePosition","getDomNode","closestMouseDistance","computeDistanceFromPointToRectangle","left","top","distance","renderedHover","_this$_renderedHover4","classList","toggle","fontSize","lineHeight","codeClasses","prototype","slice","call","getElementsByClassName","node","applyFontInfo","_updateContent","paddingBottom","textContent","appendChild","onContentsChanged","max","getLayoutInfo","_render","render","getPosition","_this$_positionPrefer","secondaryPosition","showAtSecondaryPosition","positionAffinity","shouldAppearBeforeContent","preference","show","_this$_findPositionPr","_this$_keybindingServ","_this$_keybindingServ2","widgetHeight","getTotalHeight","widgetPosition","_findPositionPreference","shouldFocus","focus","activeElement","accessibleViewHint","getValue","isScreenReaderOptimized","lookupKeybinding","getAriaLabel","ariaLabel","hide","hoverStoleFocus","clearSashHoverState","_removeConstraintsRenderNormally","layoutInfo","setMinimumDimensions","dimensions","_updateMinimumWidth","minSize","_this$_renderedHover5","getTotalWidth","scrollUp","scrollTop","getScrollPosition","fontInfo","setScrollPosition","scrollDown","scrollLeft","scrollRight","pageUp","scrollHeight","getScrollDimensions","pageDown","goToTop","goToBottom","pointX","pointY","x","y","dx","abs","dy","sqrt"],"sources":["D:/ospanel/domains/react/react-intro-main/node_modules/monaco-editor/esm/vs/editor/contrib/hover/browser/contentHoverWidget.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar ContentHoverWidget_1;\nimport * as dom from '../../../../base/browser/dom.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { ResizableContentWidget } from './resizableContentWidget.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IAccessibilityService } from '../../../../platform/accessibility/common/accessibility.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { getHoverAccessibleViewHint, HoverWidget } from '../../../../base/browser/ui/hover/hoverWidget.js';\nimport { Emitter } from '../../../../base/common/event.js';\nconst HORIZONTAL_SCROLLING_BY = 30;\nconst CONTAINER_HEIGHT_PADDING = 6;\nlet ContentHoverWidget = class ContentHoverWidget extends ResizableContentWidget {\n    static { ContentHoverWidget_1 = this; }\n    static { this.ID = 'editor.contrib.resizableContentHoverWidget'; }\n    static { this._lastDimensions = new dom.Dimension(0, 0); }\n    get isVisibleFromKeyboard() {\n        return (this._renderedHover?.source === 1 /* HoverStartSource.Keyboard */);\n    }\n    get isVisible() {\n        return this._hoverVisibleKey.get() ?? false;\n    }\n    get isFocused() {\n        return this._hoverFocusedKey.get() ?? false;\n    }\n    constructor(editor, contextKeyService, _configurationService, _accessibilityService, _keybindingService) {\n        const minimumHeight = editor.getOption(67 /* EditorOption.lineHeight */) + 8;\n        const minimumWidth = 150;\n        const minimumSize = new dom.Dimension(minimumWidth, minimumHeight);\n        super(editor, minimumSize);\n        this._configurationService = _configurationService;\n        this._accessibilityService = _accessibilityService;\n        this._keybindingService = _keybindingService;\n        this._hover = this._register(new HoverWidget());\n        this._onDidResize = this._register(new Emitter());\n        this.onDidResize = this._onDidResize.event;\n        this._minimumSize = minimumSize;\n        this._hoverVisibleKey = EditorContextKeys.hoverVisible.bindTo(contextKeyService);\n        this._hoverFocusedKey = EditorContextKeys.hoverFocused.bindTo(contextKeyService);\n        dom.append(this._resizableNode.domNode, this._hover.containerDomNode);\n        this._resizableNode.domNode.style.zIndex = '50';\n        this._register(this._editor.onDidLayoutChange(() => {\n            if (this.isVisible) {\n                this._updateMaxDimensions();\n            }\n        }));\n        this._register(this._editor.onDidChangeConfiguration((e) => {\n            if (e.hasChanged(50 /* EditorOption.fontInfo */)) {\n                this._updateFont();\n            }\n        }));\n        const focusTracker = this._register(dom.trackFocus(this._resizableNode.domNode));\n        this._register(focusTracker.onDidFocus(() => {\n            this._hoverFocusedKey.set(true);\n        }));\n        this._register(focusTracker.onDidBlur(() => {\n            this._hoverFocusedKey.set(false);\n        }));\n        this._setRenderedHover(undefined);\n        this._editor.addContentWidget(this);\n    }\n    dispose() {\n        super.dispose();\n        this._renderedHover?.dispose();\n        this._editor.removeContentWidget(this);\n    }\n    getId() {\n        return ContentHoverWidget_1.ID;\n    }\n    static _applyDimensions(container, width, height) {\n        const transformedWidth = typeof width === 'number' ? `${width}px` : width;\n        const transformedHeight = typeof height === 'number' ? `${height}px` : height;\n        container.style.width = transformedWidth;\n        container.style.height = transformedHeight;\n    }\n    _setContentsDomNodeDimensions(width, height) {\n        const contentsDomNode = this._hover.contentsDomNode;\n        return ContentHoverWidget_1._applyDimensions(contentsDomNode, width, height);\n    }\n    _setContainerDomNodeDimensions(width, height) {\n        const containerDomNode = this._hover.containerDomNode;\n        return ContentHoverWidget_1._applyDimensions(containerDomNode, width, height);\n    }\n    _setHoverWidgetDimensions(width, height) {\n        this._setContentsDomNodeDimensions(width, height);\n        this._setContainerDomNodeDimensions(width, height);\n        this._layoutContentWidget();\n    }\n    static _applyMaxDimensions(container, width, height) {\n        const transformedWidth = typeof width === 'number' ? `${width}px` : width;\n        const transformedHeight = typeof height === 'number' ? `${height}px` : height;\n        container.style.maxWidth = transformedWidth;\n        container.style.maxHeight = transformedHeight;\n    }\n    _setHoverWidgetMaxDimensions(width, height) {\n        ContentHoverWidget_1._applyMaxDimensions(this._hover.contentsDomNode, width, height);\n        ContentHoverWidget_1._applyMaxDimensions(this._hover.containerDomNode, width, height);\n        this._hover.containerDomNode.style.setProperty('--vscode-hover-maxWidth', typeof width === 'number' ? `${width}px` : width);\n        this._layoutContentWidget();\n    }\n    _setAdjustedHoverWidgetDimensions(size) {\n        this._setHoverWidgetMaxDimensions('none', 'none');\n        const width = size.width;\n        const height = size.height;\n        this._setHoverWidgetDimensions(width, height);\n    }\n    _updateResizableNodeMaxDimensions() {\n        const maxRenderingWidth = this._findMaximumRenderingWidth() ?? Infinity;\n        const maxRenderingHeight = this._findMaximumRenderingHeight() ?? Infinity;\n        this._resizableNode.maxSize = new dom.Dimension(maxRenderingWidth, maxRenderingHeight);\n        this._setHoverWidgetMaxDimensions(maxRenderingWidth, maxRenderingHeight);\n    }\n    _resize(size) {\n        ContentHoverWidget_1._lastDimensions = new dom.Dimension(size.width, size.height);\n        this._setAdjustedHoverWidgetDimensions(size);\n        this._resizableNode.layout(size.height, size.width);\n        this._updateResizableNodeMaxDimensions();\n        this._hover.scrollbar.scanDomNode();\n        this._editor.layoutContentWidget(this);\n        this._onDidResize.fire();\n    }\n    _findAvailableSpaceVertically() {\n        const position = this._renderedHover?.showAtPosition;\n        if (!position) {\n            return;\n        }\n        return this._positionPreference === 1 /* ContentWidgetPositionPreference.ABOVE */ ?\n            this._availableVerticalSpaceAbove(position)\n            : this._availableVerticalSpaceBelow(position);\n    }\n    _findMaximumRenderingHeight() {\n        const availableSpace = this._findAvailableSpaceVertically();\n        if (!availableSpace) {\n            return;\n        }\n        // Padding needed in order to stop the resizing down to a smaller height\n        let maximumHeight = CONTAINER_HEIGHT_PADDING;\n        Array.from(this._hover.contentsDomNode.children).forEach((hoverPart) => {\n            maximumHeight += hoverPart.clientHeight;\n        });\n        return Math.min(availableSpace, maximumHeight);\n    }\n    _isHoverTextOverflowing() {\n        // To find out if the text is overflowing, we will disable wrapping, check the widths, and then re-enable wrapping\n        this._hover.containerDomNode.style.setProperty('--vscode-hover-whiteSpace', 'nowrap');\n        this._hover.containerDomNode.style.setProperty('--vscode-hover-sourceWhiteSpace', 'nowrap');\n        const overflowing = Array.from(this._hover.contentsDomNode.children).some((hoverElement) => {\n            return hoverElement.scrollWidth > hoverElement.clientWidth;\n        });\n        this._hover.containerDomNode.style.removeProperty('--vscode-hover-whiteSpace');\n        this._hover.containerDomNode.style.removeProperty('--vscode-hover-sourceWhiteSpace');\n        return overflowing;\n    }\n    _findMaximumRenderingWidth() {\n        if (!this._editor || !this._editor.hasModel()) {\n            return;\n        }\n        const overflowing = this._isHoverTextOverflowing();\n        const initialWidth = (typeof this._contentWidth === 'undefined'\n            ? 0\n            : this._contentWidth - 2 // - 2 for the borders\n        );\n        if (overflowing || this._hover.containerDomNode.clientWidth < initialWidth) {\n            const bodyBoxWidth = dom.getClientArea(this._hover.containerDomNode.ownerDocument.body).width;\n            const horizontalPadding = 14;\n            return bodyBoxWidth - horizontalPadding;\n        }\n        else {\n            return this._hover.containerDomNode.clientWidth + 2;\n        }\n    }\n    isMouseGettingCloser(posx, posy) {\n        if (!this._renderedHover) {\n            return false;\n        }\n        if (this._renderedHover.initialMousePosX === undefined || this._renderedHover.initialMousePosY === undefined) {\n            this._renderedHover.initialMousePosX = posx;\n            this._renderedHover.initialMousePosY = posy;\n            return false;\n        }\n        const widgetRect = dom.getDomNodePagePosition(this.getDomNode());\n        if (this._renderedHover.closestMouseDistance === undefined) {\n            this._renderedHover.closestMouseDistance = computeDistanceFromPointToRectangle(this._renderedHover.initialMousePosX, this._renderedHover.initialMousePosY, widgetRect.left, widgetRect.top, widgetRect.width, widgetRect.height);\n        }\n        const distance = computeDistanceFromPointToRectangle(posx, posy, widgetRect.left, widgetRect.top, widgetRect.width, widgetRect.height);\n        if (distance > this._renderedHover.closestMouseDistance + 4 /* tolerance of 4 pixels */) {\n            // The mouse is getting farther away\n            return false;\n        }\n        this._renderedHover.closestMouseDistance = Math.min(this._renderedHover.closestMouseDistance, distance);\n        return true;\n    }\n    _setRenderedHover(renderedHover) {\n        this._renderedHover?.dispose();\n        this._renderedHover = renderedHover;\n        this._hoverVisibleKey.set(!!renderedHover);\n        this._hover.containerDomNode.classList.toggle('hidden', !renderedHover);\n    }\n    _updateFont() {\n        const { fontSize, lineHeight } = this._editor.getOption(50 /* EditorOption.fontInfo */);\n        const contentsDomNode = this._hover.contentsDomNode;\n        contentsDomNode.style.fontSize = `${fontSize}px`;\n        contentsDomNode.style.lineHeight = `${lineHeight / fontSize}`;\n        const codeClasses = Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName('code'));\n        codeClasses.forEach(node => this._editor.applyFontInfo(node));\n    }\n    _updateContent(node) {\n        const contentsDomNode = this._hover.contentsDomNode;\n        contentsDomNode.style.paddingBottom = '';\n        contentsDomNode.textContent = '';\n        contentsDomNode.appendChild(node);\n    }\n    _layoutContentWidget() {\n        this._editor.layoutContentWidget(this);\n        this._hover.onContentsChanged();\n    }\n    _updateMaxDimensions() {\n        const height = Math.max(this._editor.getLayoutInfo().height / 4, 250, ContentHoverWidget_1._lastDimensions.height);\n        const width = Math.max(this._editor.getLayoutInfo().width * 0.66, 500, ContentHoverWidget_1._lastDimensions.width);\n        this._setHoverWidgetMaxDimensions(width, height);\n    }\n    _render(renderedHover) {\n        this._setRenderedHover(renderedHover);\n        this._updateFont();\n        this._updateContent(renderedHover.domNode);\n        this._updateMaxDimensions();\n        this.onContentsChanged();\n        // Simply force a synchronous render on the editor\n        // such that the widget does not really render with left = '0px'\n        this._editor.render();\n    }\n    getPosition() {\n        if (!this._renderedHover) {\n            return null;\n        }\n        return {\n            position: this._renderedHover.showAtPosition,\n            secondaryPosition: this._renderedHover.showAtSecondaryPosition,\n            positionAffinity: this._renderedHover.shouldAppearBeforeContent ? 3 /* PositionAffinity.LeftOfInjectedText */ : undefined,\n            preference: [this._positionPreference ?? 1 /* ContentWidgetPositionPreference.ABOVE */]\n        };\n    }\n    show(renderedHover) {\n        if (!this._editor || !this._editor.hasModel()) {\n            return;\n        }\n        this._render(renderedHover);\n        const widgetHeight = dom.getTotalHeight(this._hover.containerDomNode);\n        const widgetPosition = renderedHover.showAtPosition;\n        this._positionPreference = this._findPositionPreference(widgetHeight, widgetPosition) ?? 1 /* ContentWidgetPositionPreference.ABOVE */;\n        // See https://github.com/microsoft/vscode/issues/140339\n        // TODO: Doing a second layout of the hover after force rendering the editor\n        this.onContentsChanged();\n        if (renderedHover.shouldFocus) {\n            this._hover.containerDomNode.focus();\n        }\n        this._onDidResize.fire();\n        // The aria label overrides the label, so if we add to it, add the contents of the hover\n        const hoverFocused = this._hover.containerDomNode.ownerDocument.activeElement === this._hover.containerDomNode;\n        const accessibleViewHint = hoverFocused && getHoverAccessibleViewHint(this._configurationService.getValue('accessibility.verbosity.hover') === true && this._accessibilityService.isScreenReaderOptimized(), this._keybindingService.lookupKeybinding('editor.action.accessibleView')?.getAriaLabel() ?? '');\n        if (accessibleViewHint) {\n            this._hover.contentsDomNode.ariaLabel = this._hover.contentsDomNode.textContent + ', ' + accessibleViewHint;\n        }\n    }\n    hide() {\n        if (!this._renderedHover) {\n            return;\n        }\n        const hoverStoleFocus = this._renderedHover.shouldFocus || this._hoverFocusedKey.get();\n        this._setRenderedHover(undefined);\n        this._resizableNode.maxSize = new dom.Dimension(Infinity, Infinity);\n        this._resizableNode.clearSashHoverState();\n        this._hoverFocusedKey.set(false);\n        this._editor.layoutContentWidget(this);\n        if (hoverStoleFocus) {\n            this._editor.focus();\n        }\n    }\n    _removeConstraintsRenderNormally() {\n        // Added because otherwise the initial size of the hover content is smaller than should be\n        const layoutInfo = this._editor.getLayoutInfo();\n        this._resizableNode.layout(layoutInfo.height, layoutInfo.width);\n        this._setHoverWidgetDimensions('auto', 'auto');\n    }\n    setMinimumDimensions(dimensions) {\n        // We combine the new minimum dimensions with the previous ones\n        this._minimumSize = new dom.Dimension(Math.max(this._minimumSize.width, dimensions.width), Math.max(this._minimumSize.height, dimensions.height));\n        this._updateMinimumWidth();\n    }\n    _updateMinimumWidth() {\n        const width = (typeof this._contentWidth === 'undefined'\n            ? this._minimumSize.width\n            : Math.min(this._contentWidth, this._minimumSize.width));\n        // We want to avoid that the hover is artificially large, so we use the content width as minimum width\n        this._resizableNode.minSize = new dom.Dimension(width, this._minimumSize.height);\n    }\n    onContentsChanged() {\n        this._removeConstraintsRenderNormally();\n        const containerDomNode = this._hover.containerDomNode;\n        let height = dom.getTotalHeight(containerDomNode);\n        let width = dom.getTotalWidth(containerDomNode);\n        this._resizableNode.layout(height, width);\n        this._setHoverWidgetDimensions(width, height);\n        height = dom.getTotalHeight(containerDomNode);\n        width = dom.getTotalWidth(containerDomNode);\n        this._contentWidth = width;\n        this._updateMinimumWidth();\n        this._resizableNode.layout(height, width);\n        if (this._renderedHover?.showAtPosition) {\n            const widgetHeight = dom.getTotalHeight(this._hover.containerDomNode);\n            this._positionPreference = this._findPositionPreference(widgetHeight, this._renderedHover.showAtPosition);\n        }\n        this._layoutContentWidget();\n    }\n    focus() {\n        this._hover.containerDomNode.focus();\n    }\n    scrollUp() {\n        const scrollTop = this._hover.scrollbar.getScrollPosition().scrollTop;\n        const fontInfo = this._editor.getOption(50 /* EditorOption.fontInfo */);\n        this._hover.scrollbar.setScrollPosition({ scrollTop: scrollTop - fontInfo.lineHeight });\n    }\n    scrollDown() {\n        const scrollTop = this._hover.scrollbar.getScrollPosition().scrollTop;\n        const fontInfo = this._editor.getOption(50 /* EditorOption.fontInfo */);\n        this._hover.scrollbar.setScrollPosition({ scrollTop: scrollTop + fontInfo.lineHeight });\n    }\n    scrollLeft() {\n        const scrollLeft = this._hover.scrollbar.getScrollPosition().scrollLeft;\n        this._hover.scrollbar.setScrollPosition({ scrollLeft: scrollLeft - HORIZONTAL_SCROLLING_BY });\n    }\n    scrollRight() {\n        const scrollLeft = this._hover.scrollbar.getScrollPosition().scrollLeft;\n        this._hover.scrollbar.setScrollPosition({ scrollLeft: scrollLeft + HORIZONTAL_SCROLLING_BY });\n    }\n    pageUp() {\n        const scrollTop = this._hover.scrollbar.getScrollPosition().scrollTop;\n        const scrollHeight = this._hover.scrollbar.getScrollDimensions().height;\n        this._hover.scrollbar.setScrollPosition({ scrollTop: scrollTop - scrollHeight });\n    }\n    pageDown() {\n        const scrollTop = this._hover.scrollbar.getScrollPosition().scrollTop;\n        const scrollHeight = this._hover.scrollbar.getScrollDimensions().height;\n        this._hover.scrollbar.setScrollPosition({ scrollTop: scrollTop + scrollHeight });\n    }\n    goToTop() {\n        this._hover.scrollbar.setScrollPosition({ scrollTop: 0 });\n    }\n    goToBottom() {\n        this._hover.scrollbar.setScrollPosition({ scrollTop: this._hover.scrollbar.getScrollDimensions().scrollHeight });\n    }\n};\nContentHoverWidget = ContentHoverWidget_1 = __decorate([\n    __param(1, IContextKeyService),\n    __param(2, IConfigurationService),\n    __param(3, IAccessibilityService),\n    __param(4, IKeybindingService)\n], ContentHoverWidget);\nexport { ContentHoverWidget };\nfunction computeDistanceFromPointToRectangle(pointX, pointY, left, top, width, height) {\n    const x = (left + width / 2); // x center of rectangle\n    const y = (top + height / 2); // y center of rectangle\n    const dx = Math.max(Math.abs(pointX - x) - width / 2, 0);\n    const dy = Math.max(Math.abs(pointY - y) - height / 2, 0);\n    return Math.sqrt(dx * dx + dy * dy);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}