{"ast":null,"code":"/*\nCopyright 2021-present The maxGraph project Contributors\nCopyright (c) 2006-2015, JGraph Ltd\nCopyright (c) 2006-2015, Gaudenz Alder\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport Client from '../Client';\nimport { PAGE_FORMAT_A4_PORTRAIT } from './Constants';\nimport Rectangle from '../view/geometry/Rectangle';\nimport { getOuterHtml } from './domUtils';\nimport { removeCursors } from './styleUtils';\n/**\n * Returns the scale to be used for printing the graph with the given\n * bounds across the specifies number of pages with the given format. The\n * scale is always computed such that it given the given amount or fewer\n * pages in the print output. See {@link PrintPreview} for an example.\n *\n * @param pageCount Specifies the number of pages in the print output.\n * @param graph {@link Graph} that should be printed.\n * @param pageFormat Optional {@link Rectangle} that specifies the page format.\n * Default is <mxConstants.PAGE_FORMAT_A4_PORTRAIT>.\n * @param border The border along each side of every page.\n */\nexport const getScaleForPageCount = (pageCount, graph, pageFormat, border = 0) => {\n  if (pageCount < 1) {\n    // We can't work with less than 1 page, return no scale\n    // change\n    return 1;\n  }\n  pageFormat = pageFormat != null ? pageFormat : new Rectangle(...PAGE_FORMAT_A4_PORTRAIT);\n  const availablePageWidth = pageFormat.width - border * 2;\n  const availablePageHeight = pageFormat.height - border * 2;\n  // Work out the number of pages required if the\n  // graph is not scaled.\n  const graphBounds = graph.getGraphBounds().clone();\n  const sc = graph.getView().getScale();\n  graphBounds.width /= sc;\n  graphBounds.height /= sc;\n  const graphWidth = graphBounds.width;\n  const graphHeight = graphBounds.height;\n  let scale = 1;\n  // The ratio of the width/height for each printer page\n  const pageFormatAspectRatio = availablePageWidth / availablePageHeight;\n  // The ratio of the width/height for the graph to be printer\n  const graphAspectRatio = graphWidth / graphHeight;\n  // The ratio of horizontal pages / vertical pages for this\n  // graph to maintain its aspect ratio on this page format\n  const pagesAspectRatio = graphAspectRatio / pageFormatAspectRatio;\n  // Factor the square root of the page count up and down\n  // by the pages aspect ratio to obtain a horizontal and\n  // vertical page count that adds up to the page count\n  // and has the correct aspect ratio\n  const pageRoot = Math.sqrt(pageCount);\n  const pagesAspectRatioSqrt = Math.sqrt(pagesAspectRatio);\n  let numRowPages = pageRoot * pagesAspectRatioSqrt;\n  let numColumnPages = pageRoot / pagesAspectRatioSqrt;\n  // These value are rarely more than 2 rounding downs away from\n  // a total that meets the page count. In cases of one being less\n  // than 1 page, the other value can be too high and take more iterations\n  // In this case, just change that value to be the page count, since\n  // we know the other value is 1\n  if (numRowPages < 1 && numColumnPages > pageCount) {\n    const scaleChange = numColumnPages / pageCount;\n    numColumnPages = pageCount;\n    numRowPages /= scaleChange;\n  }\n  if (numColumnPages < 1 && numRowPages > pageCount) {\n    const scaleChange = numRowPages / pageCount;\n    numRowPages = pageCount;\n    numColumnPages /= scaleChange;\n  }\n  let currentTotalPages = Math.ceil(numRowPages) * Math.ceil(numColumnPages);\n  let numLoops = 0;\n  // Iterate through while the rounded up number of pages comes to\n  // a total greater than the required number\n  while (currentTotalPages > pageCount) {\n    // Round down the page count (rows or columns) that is\n    // closest to its next integer down in percentage terms.\n    // i.e. Reduce the page total by reducing the total\n    // page area by the least possible amount\n    let roundRowDownProportion = Math.floor(numRowPages) / numRowPages;\n    let roundColumnDownProportion = Math.floor(numColumnPages) / numColumnPages;\n    // If the round down proportion is, work out the proportion to\n    // round down to 1 page less\n    if (roundRowDownProportion == 1) {\n      roundRowDownProportion = Math.floor(numRowPages - 1) / numRowPages;\n    }\n    if (roundColumnDownProportion == 1) {\n      roundColumnDownProportion = Math.floor(numColumnPages - 1) / numColumnPages;\n    }\n    // Check which rounding down is smaller, but in the case of very small roundings\n    // try the other dimension instead\n    let scaleChange = 1;\n    // Use the higher of the two values\n    if (roundRowDownProportion > roundColumnDownProportion) {\n      scaleChange = roundRowDownProportion;\n    } else {\n      scaleChange = roundColumnDownProportion;\n    }\n    numRowPages *= scaleChange;\n    numColumnPages *= scaleChange;\n    currentTotalPages = Math.ceil(numRowPages) * Math.ceil(numColumnPages);\n    numLoops++;\n    if (numLoops > 10) {\n      break;\n    }\n  }\n  // Work out the scale from the number of row pages required\n  // The column pages will give the same value\n  const posterWidth = availablePageWidth * numRowPages;\n  scale = posterWidth / graphWidth;\n  // Allow for rounding errors\n  return scale * 0.99999;\n};\n/**\n * Copies the styles and the markup from the graph's container into the\n * given document and removes all cursor styles. The document is returned.\n *\n * This function should be called from within the document with the graph.\n * If you experience problems with missing stylesheets in IE then try adding\n * the domain to the trusted sites.\n *\n * @param graph {@link Graph} to be copied.\n * @param doc Document where the new graph is created.\n * @param x0 X-coordinate of the graph view origin. Default is 0.\n * @param y0 Y-coordinate of the graph view origin. Default is 0.\n * @param w Optional width of the graph view.\n * @param h Optional height of the graph view.\n */\nexport const show = (graph, doc = null, x0 = 0, y0 = 0, w = null, h = null) => {\n  x0 = x0 != null ? x0 : 0;\n  y0 = y0 != null ? y0 : 0;\n  if (doc == null) {\n    const wnd = window.open();\n    doc = wnd.document;\n  } else {\n    doc.open();\n  }\n  const bounds = graph.getGraphBounds();\n  const dx = Math.ceil(x0 - bounds.x);\n  const dy = Math.ceil(y0 - bounds.y);\n  if (w == null) {\n    w = Math.ceil(bounds.width + x0) + Math.ceil(Math.ceil(bounds.x) - bounds.x);\n  }\n  if (h == null) {\n    h = Math.ceil(bounds.height + y0) + Math.ceil(Math.ceil(bounds.y) - bounds.y);\n  }\n  doc.writeln('<html><head>');\n  const base = document.getElementsByTagName('base');\n  for (let i = 0; i < base.length; i += 1) {\n    doc.writeln(getOuterHtml(base[i]));\n  }\n  const links = document.getElementsByTagName('link');\n  for (let i = 0; i < links.length; i += 1) {\n    doc.writeln(getOuterHtml(links[i]));\n  }\n  const styles = document.getElementsByTagName('style');\n  for (let i = 0; i < styles.length; i += 1) {\n    doc.writeln(getOuterHtml(styles[i]));\n  }\n  doc.writeln('</head><body style=\"margin:0px;\"></body></html>');\n  doc.close();\n  const outer = doc.createElement('div');\n  outer.style.position = 'absolute';\n  outer.style.overflow = 'hidden';\n  outer.style.width = `${w}px`;\n  outer.style.height = `${h}px`;\n  // Required for HTML labels if foreignObjects are disabled\n  const div = doc.createElement('div');\n  div.style.position = 'absolute';\n  div.style.left = `${dx}px`;\n  div.style.top = `${dy}px`;\n  if (graph.container && graph.view.drawPane) {\n    let node = graph.container.firstChild;\n    let svg = null;\n    while (node != null) {\n      const clone = node.cloneNode(true);\n      if (node == graph.view.drawPane.ownerSVGElement) {\n        outer.appendChild(clone);\n        svg = clone;\n      } else {\n        div.appendChild(clone);\n      }\n      node = node.nextSibling;\n    }\n    doc.body.appendChild(outer);\n    if (div.firstChild != null) {\n      doc.body.appendChild(div);\n    }\n    if (svg != null) {\n      svg.style.minWidth = '';\n      svg.style.minHeight = '';\n      if (svg.firstChild) svg.firstChild.setAttribute('transform', `translate(${dx},${dy})`);\n    }\n    removeCursors(doc.body);\n  }\n  return doc;\n};\n/**\n * Prints the specified graph using a new window and the built-in print\n * dialog.\n *\n * This function should be called from within the document with the graph.\n *\n * @param graph {@link Graph} to be printed.\n */\nexport const printScreen = graph => {\n  const wnd = window.open();\n  if (!wnd) return;\n  const bounds = graph.getGraphBounds();\n  show(graph, wnd.document);\n  const print = () => {\n    wnd.focus();\n    wnd.print();\n    wnd.close();\n  };\n  // Workaround for Google Chrome which needs a bit of a\n  // delay in order to render the SVG contents\n  if (Client.IS_GC) {\n    wnd.setTimeout(print, 500);\n  } else {\n    print();\n  }\n};","map":{"version":3,"names":["Client","PAGE_FORMAT_A4_PORTRAIT","Rectangle","getOuterHtml","removeCursors","getScaleForPageCount","pageCount","graph","pageFormat","border","availablePageWidth","width","availablePageHeight","height","graphBounds","getGraphBounds","clone","sc","getView","getScale","graphWidth","graphHeight","scale","pageFormatAspectRatio","graphAspectRatio","pagesAspectRatio","pageRoot","Math","sqrt","pagesAspectRatioSqrt","numRowPages","numColumnPages","scaleChange","currentTotalPages","ceil","numLoops","roundRowDownProportion","floor","roundColumnDownProportion","posterWidth","show","doc","x0","y0","w","h","wnd","window","open","document","bounds","dx","x","dy","y","writeln","base","getElementsByTagName","i","length","links","styles","close","outer","createElement","style","position","overflow","div","left","top","container","view","drawPane","node","firstChild","svg","cloneNode","ownerSVGElement","appendChild","nextSibling","body","minWidth","minHeight","setAttribute","printScreen","print","focus","IS_GC","setTimeout"],"sources":["D:/OSPanel/domains/old/react/react-intro-main/node_modules/@maxgraph/core/dist/util/printUtils.js"],"sourcesContent":["/*\nCopyright 2021-present The maxGraph project Contributors\nCopyright (c) 2006-2015, JGraph Ltd\nCopyright (c) 2006-2015, Gaudenz Alder\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport Client from '../Client';\nimport { PAGE_FORMAT_A4_PORTRAIT } from './Constants';\nimport Rectangle from '../view/geometry/Rectangle';\nimport { getOuterHtml } from './domUtils';\nimport { removeCursors } from './styleUtils';\n/**\n * Returns the scale to be used for printing the graph with the given\n * bounds across the specifies number of pages with the given format. The\n * scale is always computed such that it given the given amount or fewer\n * pages in the print output. See {@link PrintPreview} for an example.\n *\n * @param pageCount Specifies the number of pages in the print output.\n * @param graph {@link Graph} that should be printed.\n * @param pageFormat Optional {@link Rectangle} that specifies the page format.\n * Default is <mxConstants.PAGE_FORMAT_A4_PORTRAIT>.\n * @param border The border along each side of every page.\n */\nexport const getScaleForPageCount = (pageCount, graph, pageFormat, border = 0) => {\n    if (pageCount < 1) {\n        // We can't work with less than 1 page, return no scale\n        // change\n        return 1;\n    }\n    pageFormat =\n        pageFormat != null ? pageFormat : new Rectangle(...PAGE_FORMAT_A4_PORTRAIT);\n    const availablePageWidth = pageFormat.width - border * 2;\n    const availablePageHeight = pageFormat.height - border * 2;\n    // Work out the number of pages required if the\n    // graph is not scaled.\n    const graphBounds = graph.getGraphBounds().clone();\n    const sc = graph.getView().getScale();\n    graphBounds.width /= sc;\n    graphBounds.height /= sc;\n    const graphWidth = graphBounds.width;\n    const graphHeight = graphBounds.height;\n    let scale = 1;\n    // The ratio of the width/height for each printer page\n    const pageFormatAspectRatio = availablePageWidth / availablePageHeight;\n    // The ratio of the width/height for the graph to be printer\n    const graphAspectRatio = graphWidth / graphHeight;\n    // The ratio of horizontal pages / vertical pages for this\n    // graph to maintain its aspect ratio on this page format\n    const pagesAspectRatio = graphAspectRatio / pageFormatAspectRatio;\n    // Factor the square root of the page count up and down\n    // by the pages aspect ratio to obtain a horizontal and\n    // vertical page count that adds up to the page count\n    // and has the correct aspect ratio\n    const pageRoot = Math.sqrt(pageCount);\n    const pagesAspectRatioSqrt = Math.sqrt(pagesAspectRatio);\n    let numRowPages = pageRoot * pagesAspectRatioSqrt;\n    let numColumnPages = pageRoot / pagesAspectRatioSqrt;\n    // These value are rarely more than 2 rounding downs away from\n    // a total that meets the page count. In cases of one being less\n    // than 1 page, the other value can be too high and take more iterations\n    // In this case, just change that value to be the page count, since\n    // we know the other value is 1\n    if (numRowPages < 1 && numColumnPages > pageCount) {\n        const scaleChange = numColumnPages / pageCount;\n        numColumnPages = pageCount;\n        numRowPages /= scaleChange;\n    }\n    if (numColumnPages < 1 && numRowPages > pageCount) {\n        const scaleChange = numRowPages / pageCount;\n        numRowPages = pageCount;\n        numColumnPages /= scaleChange;\n    }\n    let currentTotalPages = Math.ceil(numRowPages) * Math.ceil(numColumnPages);\n    let numLoops = 0;\n    // Iterate through while the rounded up number of pages comes to\n    // a total greater than the required number\n    while (currentTotalPages > pageCount) {\n        // Round down the page count (rows or columns) that is\n        // closest to its next integer down in percentage terms.\n        // i.e. Reduce the page total by reducing the total\n        // page area by the least possible amount\n        let roundRowDownProportion = Math.floor(numRowPages) / numRowPages;\n        let roundColumnDownProportion = Math.floor(numColumnPages) / numColumnPages;\n        // If the round down proportion is, work out the proportion to\n        // round down to 1 page less\n        if (roundRowDownProportion == 1) {\n            roundRowDownProportion = Math.floor(numRowPages - 1) / numRowPages;\n        }\n        if (roundColumnDownProportion == 1) {\n            roundColumnDownProportion = Math.floor(numColumnPages - 1) / numColumnPages;\n        }\n        // Check which rounding down is smaller, but in the case of very small roundings\n        // try the other dimension instead\n        let scaleChange = 1;\n        // Use the higher of the two values\n        if (roundRowDownProportion > roundColumnDownProportion) {\n            scaleChange = roundRowDownProportion;\n        }\n        else {\n            scaleChange = roundColumnDownProportion;\n        }\n        numRowPages *= scaleChange;\n        numColumnPages *= scaleChange;\n        currentTotalPages = Math.ceil(numRowPages) * Math.ceil(numColumnPages);\n        numLoops++;\n        if (numLoops > 10) {\n            break;\n        }\n    }\n    // Work out the scale from the number of row pages required\n    // The column pages will give the same value\n    const posterWidth = availablePageWidth * numRowPages;\n    scale = posterWidth / graphWidth;\n    // Allow for rounding errors\n    return scale * 0.99999;\n};\n/**\n * Copies the styles and the markup from the graph's container into the\n * given document and removes all cursor styles. The document is returned.\n *\n * This function should be called from within the document with the graph.\n * If you experience problems with missing stylesheets in IE then try adding\n * the domain to the trusted sites.\n *\n * @param graph {@link Graph} to be copied.\n * @param doc Document where the new graph is created.\n * @param x0 X-coordinate of the graph view origin. Default is 0.\n * @param y0 Y-coordinate of the graph view origin. Default is 0.\n * @param w Optional width of the graph view.\n * @param h Optional height of the graph view.\n */\nexport const show = (graph, doc = null, x0 = 0, y0 = 0, w = null, h = null) => {\n    x0 = x0 != null ? x0 : 0;\n    y0 = y0 != null ? y0 : 0;\n    if (doc == null) {\n        const wnd = window.open();\n        doc = wnd.document;\n    }\n    else {\n        doc.open();\n    }\n    const bounds = graph.getGraphBounds();\n    const dx = Math.ceil(x0 - bounds.x);\n    const dy = Math.ceil(y0 - bounds.y);\n    if (w == null) {\n        w = Math.ceil(bounds.width + x0) + Math.ceil(Math.ceil(bounds.x) - bounds.x);\n    }\n    if (h == null) {\n        h = Math.ceil(bounds.height + y0) + Math.ceil(Math.ceil(bounds.y) - bounds.y);\n    }\n    doc.writeln('<html><head>');\n    const base = document.getElementsByTagName('base');\n    for (let i = 0; i < base.length; i += 1) {\n        doc.writeln(getOuterHtml(base[i]));\n    }\n    const links = document.getElementsByTagName('link');\n    for (let i = 0; i < links.length; i += 1) {\n        doc.writeln(getOuterHtml(links[i]));\n    }\n    const styles = document.getElementsByTagName('style');\n    for (let i = 0; i < styles.length; i += 1) {\n        doc.writeln(getOuterHtml(styles[i]));\n    }\n    doc.writeln('</head><body style=\"margin:0px;\"></body></html>');\n    doc.close();\n    const outer = doc.createElement('div');\n    outer.style.position = 'absolute';\n    outer.style.overflow = 'hidden';\n    outer.style.width = `${w}px`;\n    outer.style.height = `${h}px`;\n    // Required for HTML labels if foreignObjects are disabled\n    const div = doc.createElement('div');\n    div.style.position = 'absolute';\n    div.style.left = `${dx}px`;\n    div.style.top = `${dy}px`;\n    if (graph.container && graph.view.drawPane) {\n        let node = graph.container.firstChild;\n        let svg = null;\n        while (node != null) {\n            const clone = node.cloneNode(true);\n            if (node == graph.view.drawPane.ownerSVGElement) {\n                outer.appendChild(clone);\n                svg = clone;\n            }\n            else {\n                div.appendChild(clone);\n            }\n            node = node.nextSibling;\n        }\n        doc.body.appendChild(outer);\n        if (div.firstChild != null) {\n            doc.body.appendChild(div);\n        }\n        if (svg != null) {\n            svg.style.minWidth = '';\n            svg.style.minHeight = '';\n            if (svg.firstChild)\n                svg.firstChild.setAttribute('transform', `translate(${dx},${dy})`);\n        }\n        removeCursors(doc.body);\n    }\n    return doc;\n};\n/**\n * Prints the specified graph using a new window and the built-in print\n * dialog.\n *\n * This function should be called from within the document with the graph.\n *\n * @param graph {@link Graph} to be printed.\n */\nexport const printScreen = (graph) => {\n    const wnd = window.open();\n    if (!wnd)\n        return;\n    const bounds = graph.getGraphBounds();\n    show(graph, wnd.document);\n    const print = () => {\n        wnd.focus();\n        wnd.print();\n        wnd.close();\n    };\n    // Workaround for Google Chrome which needs a bit of a\n    // delay in order to render the SVG contents\n    if (Client.IS_GC) {\n        wnd.setTimeout(print, 500);\n    }\n    else {\n        print();\n    }\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}