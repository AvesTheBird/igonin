{"ast":null,"code":"var __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { h } from '../../../../base/browser/dom.js';\nimport { Button } from '../../../../base/browser/ui/button/button.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { autorun, derived } from '../../../../base/common/observable.js';\nimport { globalTransaction, observableValue } from '../../../../base/common/observableInternal/base.js';\nimport { observableCodeEditor } from '../../observableCodeEditor.js';\nimport { DiffEditorWidget } from '../diffEditor/diffEditorWidget.js';\nimport { createActionViewItem } from '../../../../platform/actions/browser/menuEntryActionViewItem.js';\nimport { MenuWorkbenchToolBar } from '../../../../platform/actions/browser/toolbar.js';\nimport { MenuId } from '../../../../platform/actions/common/actions.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { ActionRunnerWithContext } from './utils.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { ServiceCollection } from '../../../../platform/instantiation/common/serviceCollection.js';\nexport class TemplateData {\n  constructor(viewModel, deltaScrollVertical) {\n    this.viewModel = viewModel;\n    this.deltaScrollVertical = deltaScrollVertical;\n  }\n  getId() {\n    return this.viewModel;\n  }\n}\nlet DiffEditorItemTemplate = class DiffEditorItemTemplate extends Disposable {\n  constructor(_container, _overflowWidgetsDomNode, _workbenchUIElementFactory, _instantiationService, _parentContextKeyService) {\n    super();\n    this._container = _container;\n    this._overflowWidgetsDomNode = _overflowWidgetsDomNode;\n    this._workbenchUIElementFactory = _workbenchUIElementFactory;\n    this._instantiationService = _instantiationService;\n    this._viewModel = observableValue(this, undefined);\n    this._collapsed = derived(this, reader => {\n      var _this$_viewModel$read;\n      return (_this$_viewModel$read = this._viewModel.read(reader)) === null || _this$_viewModel$read === void 0 ? void 0 : _this$_viewModel$read.collapsed.read(reader);\n    });\n    this._editorContentHeight = observableValue(this, 500);\n    this.contentHeight = derived(this, reader => {\n      const h = this._collapsed.read(reader) ? 0 : this._editorContentHeight.read(reader);\n      return h + this._outerEditorHeight;\n    });\n    this._modifiedContentWidth = observableValue(this, 0);\n    this._modifiedWidth = observableValue(this, 0);\n    this._originalContentWidth = observableValue(this, 0);\n    this._originalWidth = observableValue(this, 0);\n    this.maxScroll = derived(this, reader => {\n      const scroll1 = this._modifiedContentWidth.read(reader) - this._modifiedWidth.read(reader);\n      const scroll2 = this._originalContentWidth.read(reader) - this._originalWidth.read(reader);\n      if (scroll1 > scroll2) {\n        return {\n          maxScroll: scroll1,\n          width: this._modifiedWidth.read(reader)\n        };\n      } else {\n        return {\n          maxScroll: scroll2,\n          width: this._originalWidth.read(reader)\n        };\n      }\n    });\n    this._elements = h('div.multiDiffEntry', [h('div.header@header', [h('div.header-content', [h('div.collapse-button@collapseButton'), h('div.file-path', [h('div.title.modified.show-file-icons@primaryPath', []), h('div.status.deleted@status', ['R']), h('div.title.original.show-file-icons@secondaryPath', [])]), h('div.actions@actions')])]), h('div.editorParent', [h('div.editorContainer@editor')])]);\n    this.editor = this._register(this._instantiationService.createInstance(DiffEditorWidget, this._elements.editor, {\n      overflowWidgetsDomNode: this._overflowWidgetsDomNode\n    }, {}));\n    this.isModifedFocused = observableCodeEditor(this.editor.getModifiedEditor()).isFocused;\n    this.isOriginalFocused = observableCodeEditor(this.editor.getOriginalEditor()).isFocused;\n    this.isFocused = derived(this, reader => this.isModifedFocused.read(reader) || this.isOriginalFocused.read(reader));\n    this._resourceLabel = this._workbenchUIElementFactory.createResourceLabel ? this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.primaryPath)) : undefined;\n    this._resourceLabel2 = this._workbenchUIElementFactory.createResourceLabel ? this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.secondaryPath)) : undefined;\n    this._dataStore = this._register(new DisposableStore());\n    this._headerHeight = 40;\n    this._lastScrollTop = -1;\n    this._isSettingScrollTop = false;\n    const btn = new Button(this._elements.collapseButton, {});\n    this._register(autorun(reader => {\n      btn.element.className = '';\n      btn.icon = this._collapsed.read(reader) ? Codicon.chevronRight : Codicon.chevronDown;\n    }));\n    this._register(btn.onDidClick(() => {\n      var _this$_viewModel$get;\n      (_this$_viewModel$get = this._viewModel.get()) === null || _this$_viewModel$get === void 0 || _this$_viewModel$get.collapsed.set(!this._collapsed.get(), undefined);\n    }));\n    this._register(autorun(reader => {\n      this._elements.editor.style.display = this._collapsed.read(reader) ? 'none' : 'block';\n    }));\n    this._register(this.editor.getModifiedEditor().onDidLayoutChange(e => {\n      const width = this.editor.getModifiedEditor().getLayoutInfo().contentWidth;\n      this._modifiedWidth.set(width, undefined);\n    }));\n    this._register(this.editor.getOriginalEditor().onDidLayoutChange(e => {\n      const width = this.editor.getOriginalEditor().getLayoutInfo().contentWidth;\n      this._originalWidth.set(width, undefined);\n    }));\n    this._register(this.editor.onDidContentSizeChange(e => {\n      globalTransaction(tx => {\n        this._editorContentHeight.set(e.contentHeight, tx);\n        this._modifiedContentWidth.set(this.editor.getModifiedEditor().getContentWidth(), tx);\n        this._originalContentWidth.set(this.editor.getOriginalEditor().getContentWidth(), tx);\n      });\n    }));\n    this._register(this.editor.getOriginalEditor().onDidScrollChange(e => {\n      if (this._isSettingScrollTop) {\n        return;\n      }\n      if (!e.scrollTopChanged || !this._data) {\n        return;\n      }\n      const delta = e.scrollTop - this._lastScrollTop;\n      this._data.deltaScrollVertical(delta);\n    }));\n    this._register(autorun(reader => {\n      var _this$_viewModel$read2;\n      const isActive = (_this$_viewModel$read2 = this._viewModel.read(reader)) === null || _this$_viewModel$read2 === void 0 ? void 0 : _this$_viewModel$read2.isActive.read(reader);\n      this._elements.root.classList.toggle('active', isActive);\n    }));\n    this._container.appendChild(this._elements.root);\n    this._outerEditorHeight = this._headerHeight;\n    this._contextKeyService = this._register(_parentContextKeyService.createScoped(this._elements.actions));\n    const instantiationService = this._register(this._instantiationService.createChild(new ServiceCollection([IContextKeyService, this._contextKeyService])));\n    this._register(instantiationService.createInstance(MenuWorkbenchToolBar, this._elements.actions, MenuId.MultiDiffEditorFileToolbar, {\n      actionRunner: this._register(new ActionRunnerWithContext(() => {\n        var _this$_viewModel$get2;\n        return (_this$_viewModel$get2 = this._viewModel.get()) === null || _this$_viewModel$get2 === void 0 ? void 0 : _this$_viewModel$get2.modifiedUri;\n      })),\n      menuOptions: {\n        shouldForwardArgs: true\n      },\n      toolbarOptions: {\n        primaryGroup: g => g.startsWith('navigation')\n      },\n      actionViewItemProvider: (action, options) => createActionViewItem(instantiationService, action, options)\n    }));\n  }\n  setScrollLeft(left) {\n    if (this._modifiedContentWidth.get() - this._modifiedWidth.get() > this._originalContentWidth.get() - this._originalWidth.get()) {\n      this.editor.getModifiedEditor().setScrollLeft(left);\n    } else {\n      this.editor.getOriginalEditor().setScrollLeft(left);\n    }\n  }\n  setData(data) {\n    this._data = data;\n    function updateOptions(options) {\n      return {\n        ...options,\n        scrollBeyondLastLine: false,\n        hideUnchangedRegions: {\n          enabled: true\n        },\n        scrollbar: {\n          vertical: 'hidden',\n          horizontal: 'hidden',\n          handleMouseWheel: false,\n          useShadows: false\n        },\n        renderOverviewRuler: false,\n        fixedOverflowWidgets: true,\n        overviewRulerBorder: false\n      };\n    }\n    if (!data) {\n      globalTransaction(tx => {\n        this._viewModel.set(undefined, tx);\n        this.editor.setDiffModel(null, tx);\n        this._dataStore.clear();\n      });\n      return;\n    }\n    const value = data.viewModel.documentDiffItem;\n    globalTransaction(tx => {\n      var _this$_resourceLabel, _data$viewModel$modif, _this$_resourceLabel2, _value$options;\n      (_this$_resourceLabel = this._resourceLabel) === null || _this$_resourceLabel === void 0 || _this$_resourceLabel.setUri((_data$viewModel$modif = data.viewModel.modifiedUri) !== null && _data$viewModel$modif !== void 0 ? _data$viewModel$modif : data.viewModel.originalUri, {\n        strikethrough: data.viewModel.modifiedUri === undefined\n      });\n      let isRenamed = false;\n      let isDeleted = false;\n      let isAdded = false;\n      let flag = '';\n      if (data.viewModel.modifiedUri && data.viewModel.originalUri && data.viewModel.modifiedUri.path !== data.viewModel.originalUri.path) {\n        flag = 'R';\n        isRenamed = true;\n      } else if (!data.viewModel.modifiedUri) {\n        flag = 'D';\n        isDeleted = true;\n      } else if (!data.viewModel.originalUri) {\n        flag = 'A';\n        isAdded = true;\n      }\n      this._elements.status.classList.toggle('renamed', isRenamed);\n      this._elements.status.classList.toggle('deleted', isDeleted);\n      this._elements.status.classList.toggle('added', isAdded);\n      this._elements.status.innerText = flag;\n      (_this$_resourceLabel2 = this._resourceLabel2) === null || _this$_resourceLabel2 === void 0 || _this$_resourceLabel2.setUri(isRenamed ? data.viewModel.originalUri : undefined, {\n        strikethrough: true\n      });\n      this._dataStore.clear();\n      this._viewModel.set(data.viewModel, tx);\n      this.editor.setDiffModel(data.viewModel.diffEditorViewModelRef, tx);\n      this.editor.updateOptions(updateOptions((_value$options = value.options) !== null && _value$options !== void 0 ? _value$options : {}));\n    });\n    if (value.onOptionsDidChange) {\n      this._dataStore.add(value.onOptionsDidChange(() => {\n        var _value$options2;\n        this.editor.updateOptions(updateOptions((_value$options2 = value.options) !== null && _value$options2 !== void 0 ? _value$options2 : {}));\n      }));\n    }\n    data.viewModel.isAlive.recomputeInitiallyAndOnChange(this._dataStore, value => {\n      if (!value) {\n        this.setData(undefined);\n      }\n    });\n    if (data.viewModel.documentDiffItem.contextKeys) {\n      for (const [key, value] of Object.entries(data.viewModel.documentDiffItem.contextKeys)) {\n        this._contextKeyService.createKey(key, value);\n      }\n    }\n  }\n  render(verticalRange, width, editorScroll, viewPort) {\n    this._elements.root.style.visibility = 'visible';\n    this._elements.root.style.top = \"\".concat(verticalRange.start, \"px\");\n    this._elements.root.style.height = \"\".concat(verticalRange.length, \"px\");\n    this._elements.root.style.width = \"\".concat(width, \"px\");\n    this._elements.root.style.position = 'absolute';\n    // For sticky scroll\n    const maxDelta = verticalRange.length - this._headerHeight;\n    const delta = Math.max(0, Math.min(viewPort.start - verticalRange.start, maxDelta));\n    this._elements.header.style.transform = \"translateY(\".concat(delta, \"px)\");\n    globalTransaction(tx => {\n      this.editor.layout({\n        width: width - 2 * 8 - 2 * 1,\n        height: verticalRange.length - this._outerEditorHeight\n      });\n    });\n    try {\n      this._isSettingScrollTop = true;\n      this._lastScrollTop = editorScroll;\n      this.editor.getOriginalEditor().setScrollTop(editorScroll);\n    } finally {\n      this._isSettingScrollTop = false;\n    }\n    this._elements.header.classList.toggle('shadow', delta > 0 || editorScroll > 0);\n    this._elements.header.classList.toggle('collapsed', delta === maxDelta);\n  }\n  hide() {\n    this._elements.root.style.top = \"-100000px\";\n    this._elements.root.style.visibility = 'hidden'; // Some editor parts are still visible\n  }\n};\nDiffEditorItemTemplate = __decorate([__param(3, IInstantiationService), __param(4, IContextKeyService)], DiffEditorItemTemplate);\nexport { DiffEditorItemTemplate };","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","h","Button","Codicon","Disposable","DisposableStore","autorun","derived","globalTransaction","observableValue","observableCodeEditor","DiffEditorWidget","createActionViewItem","MenuWorkbenchToolBar","MenuId","IInstantiationService","ActionRunnerWithContext","IContextKeyService","ServiceCollection","TemplateData","constructor","viewModel","deltaScrollVertical","getId","DiffEditorItemTemplate","_container","_overflowWidgetsDomNode","_workbenchUIElementFactory","_instantiationService","_parentContextKeyService","_viewModel","undefined","_collapsed","reader","_this$_viewModel$read","read","collapsed","_editorContentHeight","contentHeight","_outerEditorHeight","_modifiedContentWidth","_modifiedWidth","_originalContentWidth","_originalWidth","maxScroll","scroll1","scroll2","width","_elements","editor","_register","createInstance","overflowWidgetsDomNode","isModifedFocused","getModifiedEditor","isFocused","isOriginalFocused","getOriginalEditor","_resourceLabel","createResourceLabel","primaryPath","_resourceLabel2","secondaryPath","_dataStore","_headerHeight","_lastScrollTop","_isSettingScrollTop","btn","collapseButton","element","className","icon","chevronRight","chevronDown","onDidClick","_this$_viewModel$get","get","set","style","display","onDidLayoutChange","e","getLayoutInfo","contentWidth","onDidContentSizeChange","tx","getContentWidth","onDidScrollChange","scrollTopChanged","_data","delta","scrollTop","_this$_viewModel$read2","isActive","root","classList","toggle","appendChild","_contextKeyService","createScoped","actions","instantiationService","createChild","MultiDiffEditorFileToolbar","actionRunner","_this$_viewModel$get2","modifiedUri","menuOptions","shouldForwardArgs","toolbarOptions","primaryGroup","g","startsWith","actionViewItemProvider","action","options","setScrollLeft","left","setData","data","updateOptions","scrollBeyondLastLine","hideUnchangedRegions","enabled","scrollbar","vertical","horizontal","handleMouseWheel","useShadows","renderOverviewRuler","fixedOverflowWidgets","overviewRulerBorder","setDiffModel","clear","value","documentDiffItem","_this$_resourceLabel","_data$viewModel$modif","_this$_resourceLabel2","_value$options","setUri","originalUri","strikethrough","isRenamed","isDeleted","isAdded","flag","path","status","innerText","diffEditorViewModelRef","onOptionsDidChange","add","_value$options2","isAlive","recomputeInitiallyAndOnChange","contextKeys","entries","createKey","render","verticalRange","editorScroll","viewPort","visibility","top","concat","start","height","position","maxDelta","Math","max","min","header","transform","layout","setScrollTop","hide"],"sources":["D:/ospanel/domains/react/react-intro-main/node_modules/monaco-editor/esm/vs/editor/browser/widget/multiDiffEditor/diffEditorItemTemplate.js"],"sourcesContent":["var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { h } from '../../../../base/browser/dom.js';\nimport { Button } from '../../../../base/browser/ui/button/button.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { autorun, derived } from '../../../../base/common/observable.js';\nimport { globalTransaction, observableValue } from '../../../../base/common/observableInternal/base.js';\nimport { observableCodeEditor } from '../../observableCodeEditor.js';\nimport { DiffEditorWidget } from '../diffEditor/diffEditorWidget.js';\nimport { createActionViewItem } from '../../../../platform/actions/browser/menuEntryActionViewItem.js';\nimport { MenuWorkbenchToolBar } from '../../../../platform/actions/browser/toolbar.js';\nimport { MenuId } from '../../../../platform/actions/common/actions.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { ActionRunnerWithContext } from './utils.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { ServiceCollection } from '../../../../platform/instantiation/common/serviceCollection.js';\nexport class TemplateData {\n    constructor(viewModel, deltaScrollVertical) {\n        this.viewModel = viewModel;\n        this.deltaScrollVertical = deltaScrollVertical;\n    }\n    getId() {\n        return this.viewModel;\n    }\n}\nlet DiffEditorItemTemplate = class DiffEditorItemTemplate extends Disposable {\n    constructor(_container, _overflowWidgetsDomNode, _workbenchUIElementFactory, _instantiationService, _parentContextKeyService) {\n        super();\n        this._container = _container;\n        this._overflowWidgetsDomNode = _overflowWidgetsDomNode;\n        this._workbenchUIElementFactory = _workbenchUIElementFactory;\n        this._instantiationService = _instantiationService;\n        this._viewModel = observableValue(this, undefined);\n        this._collapsed = derived(this, reader => this._viewModel.read(reader)?.collapsed.read(reader));\n        this._editorContentHeight = observableValue(this, 500);\n        this.contentHeight = derived(this, reader => {\n            const h = this._collapsed.read(reader) ? 0 : this._editorContentHeight.read(reader);\n            return h + this._outerEditorHeight;\n        });\n        this._modifiedContentWidth = observableValue(this, 0);\n        this._modifiedWidth = observableValue(this, 0);\n        this._originalContentWidth = observableValue(this, 0);\n        this._originalWidth = observableValue(this, 0);\n        this.maxScroll = derived(this, reader => {\n            const scroll1 = this._modifiedContentWidth.read(reader) - this._modifiedWidth.read(reader);\n            const scroll2 = this._originalContentWidth.read(reader) - this._originalWidth.read(reader);\n            if (scroll1 > scroll2) {\n                return { maxScroll: scroll1, width: this._modifiedWidth.read(reader) };\n            }\n            else {\n                return { maxScroll: scroll2, width: this._originalWidth.read(reader) };\n            }\n        });\n        this._elements = h('div.multiDiffEntry', [\n            h('div.header@header', [\n                h('div.header-content', [\n                    h('div.collapse-button@collapseButton'),\n                    h('div.file-path', [\n                        h('div.title.modified.show-file-icons@primaryPath', []),\n                        h('div.status.deleted@status', ['R']),\n                        h('div.title.original.show-file-icons@secondaryPath', []),\n                    ]),\n                    h('div.actions@actions'),\n                ]),\n            ]),\n            h('div.editorParent', [\n                h('div.editorContainer@editor'),\n            ])\n        ]);\n        this.editor = this._register(this._instantiationService.createInstance(DiffEditorWidget, this._elements.editor, {\n            overflowWidgetsDomNode: this._overflowWidgetsDomNode,\n        }, {}));\n        this.isModifedFocused = observableCodeEditor(this.editor.getModifiedEditor()).isFocused;\n        this.isOriginalFocused = observableCodeEditor(this.editor.getOriginalEditor()).isFocused;\n        this.isFocused = derived(this, reader => this.isModifedFocused.read(reader) || this.isOriginalFocused.read(reader));\n        this._resourceLabel = this._workbenchUIElementFactory.createResourceLabel\n            ? this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.primaryPath))\n            : undefined;\n        this._resourceLabel2 = this._workbenchUIElementFactory.createResourceLabel\n            ? this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.secondaryPath))\n            : undefined;\n        this._dataStore = this._register(new DisposableStore());\n        this._headerHeight = 40;\n        this._lastScrollTop = -1;\n        this._isSettingScrollTop = false;\n        const btn = new Button(this._elements.collapseButton, {});\n        this._register(autorun(reader => {\n            btn.element.className = '';\n            btn.icon = this._collapsed.read(reader) ? Codicon.chevronRight : Codicon.chevronDown;\n        }));\n        this._register(btn.onDidClick(() => {\n            this._viewModel.get()?.collapsed.set(!this._collapsed.get(), undefined);\n        }));\n        this._register(autorun(reader => {\n            this._elements.editor.style.display = this._collapsed.read(reader) ? 'none' : 'block';\n        }));\n        this._register(this.editor.getModifiedEditor().onDidLayoutChange(e => {\n            const width = this.editor.getModifiedEditor().getLayoutInfo().contentWidth;\n            this._modifiedWidth.set(width, undefined);\n        }));\n        this._register(this.editor.getOriginalEditor().onDidLayoutChange(e => {\n            const width = this.editor.getOriginalEditor().getLayoutInfo().contentWidth;\n            this._originalWidth.set(width, undefined);\n        }));\n        this._register(this.editor.onDidContentSizeChange(e => {\n            globalTransaction(tx => {\n                this._editorContentHeight.set(e.contentHeight, tx);\n                this._modifiedContentWidth.set(this.editor.getModifiedEditor().getContentWidth(), tx);\n                this._originalContentWidth.set(this.editor.getOriginalEditor().getContentWidth(), tx);\n            });\n        }));\n        this._register(this.editor.getOriginalEditor().onDidScrollChange(e => {\n            if (this._isSettingScrollTop) {\n                return;\n            }\n            if (!e.scrollTopChanged || !this._data) {\n                return;\n            }\n            const delta = e.scrollTop - this._lastScrollTop;\n            this._data.deltaScrollVertical(delta);\n        }));\n        this._register(autorun(reader => {\n            const isActive = this._viewModel.read(reader)?.isActive.read(reader);\n            this._elements.root.classList.toggle('active', isActive);\n        }));\n        this._container.appendChild(this._elements.root);\n        this._outerEditorHeight = this._headerHeight;\n        this._contextKeyService = this._register(_parentContextKeyService.createScoped(this._elements.actions));\n        const instantiationService = this._register(this._instantiationService.createChild(new ServiceCollection([IContextKeyService, this._contextKeyService])));\n        this._register(instantiationService.createInstance(MenuWorkbenchToolBar, this._elements.actions, MenuId.MultiDiffEditorFileToolbar, {\n            actionRunner: this._register(new ActionRunnerWithContext(() => (this._viewModel.get()?.modifiedUri))),\n            menuOptions: {\n                shouldForwardArgs: true,\n            },\n            toolbarOptions: { primaryGroup: g => g.startsWith('navigation') },\n            actionViewItemProvider: (action, options) => createActionViewItem(instantiationService, action, options),\n        }));\n    }\n    setScrollLeft(left) {\n        if (this._modifiedContentWidth.get() - this._modifiedWidth.get() > this._originalContentWidth.get() - this._originalWidth.get()) {\n            this.editor.getModifiedEditor().setScrollLeft(left);\n        }\n        else {\n            this.editor.getOriginalEditor().setScrollLeft(left);\n        }\n    }\n    setData(data) {\n        this._data = data;\n        function updateOptions(options) {\n            return {\n                ...options,\n                scrollBeyondLastLine: false,\n                hideUnchangedRegions: {\n                    enabled: true,\n                },\n                scrollbar: {\n                    vertical: 'hidden',\n                    horizontal: 'hidden',\n                    handleMouseWheel: false,\n                    useShadows: false,\n                },\n                renderOverviewRuler: false,\n                fixedOverflowWidgets: true,\n                overviewRulerBorder: false,\n            };\n        }\n        if (!data) {\n            globalTransaction(tx => {\n                this._viewModel.set(undefined, tx);\n                this.editor.setDiffModel(null, tx);\n                this._dataStore.clear();\n            });\n            return;\n        }\n        const value = data.viewModel.documentDiffItem;\n        globalTransaction(tx => {\n            this._resourceLabel?.setUri(data.viewModel.modifiedUri ?? data.viewModel.originalUri, { strikethrough: data.viewModel.modifiedUri === undefined });\n            let isRenamed = false;\n            let isDeleted = false;\n            let isAdded = false;\n            let flag = '';\n            if (data.viewModel.modifiedUri && data.viewModel.originalUri && data.viewModel.modifiedUri.path !== data.viewModel.originalUri.path) {\n                flag = 'R';\n                isRenamed = true;\n            }\n            else if (!data.viewModel.modifiedUri) {\n                flag = 'D';\n                isDeleted = true;\n            }\n            else if (!data.viewModel.originalUri) {\n                flag = 'A';\n                isAdded = true;\n            }\n            this._elements.status.classList.toggle('renamed', isRenamed);\n            this._elements.status.classList.toggle('deleted', isDeleted);\n            this._elements.status.classList.toggle('added', isAdded);\n            this._elements.status.innerText = flag;\n            this._resourceLabel2?.setUri(isRenamed ? data.viewModel.originalUri : undefined, { strikethrough: true });\n            this._dataStore.clear();\n            this._viewModel.set(data.viewModel, tx);\n            this.editor.setDiffModel(data.viewModel.diffEditorViewModelRef, tx);\n            this.editor.updateOptions(updateOptions(value.options ?? {}));\n        });\n        if (value.onOptionsDidChange) {\n            this._dataStore.add(value.onOptionsDidChange(() => {\n                this.editor.updateOptions(updateOptions(value.options ?? {}));\n            }));\n        }\n        data.viewModel.isAlive.recomputeInitiallyAndOnChange(this._dataStore, value => {\n            if (!value) {\n                this.setData(undefined);\n            }\n        });\n        if (data.viewModel.documentDiffItem.contextKeys) {\n            for (const [key, value] of Object.entries(data.viewModel.documentDiffItem.contextKeys)) {\n                this._contextKeyService.createKey(key, value);\n            }\n        }\n    }\n    render(verticalRange, width, editorScroll, viewPort) {\n        this._elements.root.style.visibility = 'visible';\n        this._elements.root.style.top = `${verticalRange.start}px`;\n        this._elements.root.style.height = `${verticalRange.length}px`;\n        this._elements.root.style.width = `${width}px`;\n        this._elements.root.style.position = 'absolute';\n        // For sticky scroll\n        const maxDelta = verticalRange.length - this._headerHeight;\n        const delta = Math.max(0, Math.min(viewPort.start - verticalRange.start, maxDelta));\n        this._elements.header.style.transform = `translateY(${delta}px)`;\n        globalTransaction(tx => {\n            this.editor.layout({\n                width: width - 2 * 8 - 2 * 1,\n                height: verticalRange.length - this._outerEditorHeight,\n            });\n        });\n        try {\n            this._isSettingScrollTop = true;\n            this._lastScrollTop = editorScroll;\n            this.editor.getOriginalEditor().setScrollTop(editorScroll);\n        }\n        finally {\n            this._isSettingScrollTop = false;\n        }\n        this._elements.header.classList.toggle('shadow', delta > 0 || editorScroll > 0);\n        this._elements.header.classList.toggle('collapsed', delta === maxDelta);\n    }\n    hide() {\n        this._elements.root.style.top = `-100000px`;\n        this._elements.root.style.visibility = 'hidden'; // Some editor parts are still visible\n    }\n};\nDiffEditorItemTemplate = __decorate([\n    __param(3, IInstantiationService),\n    __param(4, IContextKeyService)\n], DiffEditorItemTemplate);\nexport { DiffEditorItemTemplate };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}